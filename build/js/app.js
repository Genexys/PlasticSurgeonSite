/*
 * Third party
 */
/*!
	autosize 4.0.2
	license: MIT
	http://www.jacklmoore.com/autosize
*/
!function(e,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var n={exports:{}};t(n,n.exports),e.autosize=n.exports}}(this,function(e,t){"use strict";var n,o,p="function"==typeof Map?new Map:(n=[],o=[],{has:function(e){return-1<n.indexOf(e)},get:function(e){return o[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),o.push(t))},delete:function(e){var t=n.indexOf(e);-1<t&&(n.splice(t,1),o.splice(t,1))}}),c=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){c=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function r(r){if(r&&r.nodeName&&"TEXTAREA"===r.nodeName&&!p.has(r)){var e,n=null,o=null,i=null,d=function(){r.clientWidth!==o&&a()},l=function(t){window.removeEventListener("resize",d,!1),r.removeEventListener("input",a,!1),r.removeEventListener("keyup",a,!1),r.removeEventListener("autosize:destroy",l,!1),r.removeEventListener("autosize:update",a,!1),Object.keys(t).forEach(function(e){r.style[e]=t[e]}),p.delete(r)}.bind(r,{height:r.style.height,resize:r.style.resize,overflowY:r.style.overflowY,overflowX:r.style.overflowX,wordWrap:r.style.wordWrap});r.addEventListener("autosize:destroy",l,!1),"onpropertychange"in r&&"oninput"in r&&r.addEventListener("keyup",a,!1),window.addEventListener("resize",d,!1),r.addEventListener("input",a,!1),r.addEventListener("autosize:update",a,!1),r.style.overflowX="hidden",r.style.wordWrap="break-word",p.set(r,{destroy:l,update:a}),"vertical"===(e=window.getComputedStyle(r,null)).resize?r.style.resize="none":"both"===e.resize&&(r.style.resize="horizontal"),n="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(n)&&(n=0),a()}function s(e){var t=r.style.width;r.style.width="0px",r.offsetWidth,r.style.width=t,r.style.overflowY=e}function u(){if(0!==r.scrollHeight){var e=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(r),t=document.documentElement&&document.documentElement.scrollTop;r.style.height="",r.style.height=r.scrollHeight+n+"px",o=r.clientWidth,e.forEach(function(e){e.node.scrollTop=e.scrollTop}),t&&(document.documentElement.scrollTop=t)}}function a(){u();var e=Math.round(parseFloat(r.style.height)),t=window.getComputedStyle(r,null),n="content-box"===t.boxSizing?Math.round(parseFloat(t.height)):r.offsetHeight;if(n<e?"hidden"===t.overflowY&&(s("scroll"),u(),n="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(r,null).height)):r.offsetHeight):"hidden"!==t.overflowY&&(s("hidden"),u(),n="content-box"===t.boxSizing?Math.round(parseFloat(window.getComputedStyle(r,null).height)):r.offsetHeight),i!==n){i=n;var o=c("autosize:resized");try{r.dispatchEvent(o)}catch(e){}}}}function i(e){var t=p.get(e);t&&t.destroy()}function d(e){var t=p.get(e);t&&t.update()}var l=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((l=function(e){return e}).destroy=function(e){return e},l.update=function(e){return e}):((l=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return r(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],d),e}),t.default=l,e.exports=t.default});
/*!
 * dist/jquery.inputmask.min
 * https://github.com/RobinHerbots/Inputmask
 * Copyright (c) 2010 - 2019 Robin Herbots
 * Licensed under the MIT license
 * Version: 5.0.0-beta.204
 */
!function webpackUniversalModuleDefinition(root,factory){if("object"==typeof exports&&"object"==typeof module)module.exports=factory(require("jquery"));else if("function"==typeof define&&define.amd)define(["jquery"],factory);else{var a="object"==typeof exports?factory(require("jquery")):factory(root.jQuery);for(var i in a)("object"==typeof exports?exports:root)[i]=a[i]}}(window,function(__WEBPACK_EXTERNAL_MODULE__5__){return modules=[function(module,exports,__webpack_require__){var im=__webpack_require__(1),jQuery=__webpack_require__(5);im.dependencyLib===jQuery&&__webpack_require__(11),module.exports=im},function(module,exports,__webpack_require__){__webpack_require__(2),__webpack_require__(9),__webpack_require__(10),module.exports=__webpack_require__(3)},function(module,exports,__webpack_require__){var Inputmask=__webpack_require__(3);function ipValidator(chrs,maskset,pos,strict,opts){return chrs=-1<pos-1&&"."!==maskset.buffer[pos-1]?(chrs=maskset.buffer[pos-1]+chrs,-1<pos-2&&"."!==maskset.buffer[pos-2]?maskset.buffer[pos-2]+chrs:"0"+chrs):"00"+chrs,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(chrs)}Inputmask.extendDefinitions({A:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",casing:"upper"},"&":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}}),Inputmask.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)//.*",autoUnmask:!1},ip:{mask:"i[i[i]].j[j[j]].k[k[k]].l[l[l]]",definitions:{i:{validator:ipValidator},j:{validator:ipValidator},k:{validator:ipValidator},l:{validator:ipValidator}},onUnMask:function onUnMask(maskedValue,unmaskedValue,opts){return maskedValue},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,casing:"lower",onBeforePaste:function onBeforePaste(pastedValue,opts){return pastedValue=pastedValue.toLowerCase(),pastedValue.replace("mailto:","")},definitions:{"*":{validator:"[0-9\uff11-\uff19A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function onUnMask(maskedValue,unmaskedValue,opts){return maskedValue},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),module.exports=Inputmask},function(module,exports,__webpack_require__){function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var $=__webpack_require__(4),window=__webpack_require__(6),document=window.document,generateMaskSet=__webpack_require__(7).generateMaskSet,analyseMask=__webpack_require__(7).analyseMask,maskScope=__webpack_require__(8);function Inputmask(alias,options,internal){if(!(this instanceof Inputmask))return new Inputmask(alias,options,internal);this.el=void 0,this.events={},this.maskset=void 0,this.refreshValue=!1,!0!==internal&&($.isPlainObject(alias)?options=alias:(options=options||{},alias&&(options.alias=alias)),this.opts=$.extend(!0,{},this.defaults,options),this.noMasksCache=options&&void 0!==options.definitions,this.userOptions=options||{},resolveAlias(this.opts.alias,options,this.opts),this.isRTL=this.opts.numericInput)}function resolveAlias(aliasStr,options,opts){var aliasDefinition=Inputmask.prototype.aliases[aliasStr];return aliasDefinition?(aliasDefinition.alias&&resolveAlias(aliasDefinition.alias,void 0,opts),$.extend(!0,opts,aliasDefinition),$.extend(!0,opts,options),!0):(null===opts.mask&&(opts.mask=aliasStr),!1)}function importAttributeOptions(npt,opts,userOptions,dataAttribute){function importOption(option,optionData){optionData=void 0!==optionData?optionData:npt.getAttribute(dataAttribute+"-"+option),null!==optionData&&("string"==typeof optionData&&(0===option.indexOf("on")?optionData=window[optionData]:"false"===optionData?optionData=!1:"true"===optionData&&(optionData=!0)),userOptions[option]=optionData)}if(!0===opts.importDataAttributes){var attrOptions=npt.getAttribute(dataAttribute),option,dataoptions,optionData,p;if(attrOptions&&""!==attrOptions&&(attrOptions=attrOptions.replace(/'/g,'"'),dataoptions=JSON.parse("{"+attrOptions+"}")),dataoptions)for(p in optionData=void 0,dataoptions)if("alias"===p.toLowerCase()){optionData=dataoptions[p];break}for(option in importOption("alias",optionData),userOptions.alias&&resolveAlias(userOptions.alias,userOptions,opts),opts){if(dataoptions)for(p in optionData=void 0,dataoptions)if(p.toLowerCase()===option.toLowerCase()){optionData=dataoptions[p];break}importOption(option,optionData)}}return $.extend(!0,opts,userOptions),"rtl"!==npt.dir&&!opts.rightAlign||(npt.style.textAlign="right"),"rtl"!==npt.dir&&!opts.numericInput||(npt.dir="ltr",npt.removeAttribute("dir"),opts.isRTL=!0),Object.keys(userOptions).length}Inputmask.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:$.noop,onincomplete:$.noop,oncleared:$.noop,repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:$.noop,onBeforeMask:null,onBeforePaste:function onBeforePaste(pastedValue,opts){return $.isFunction(opts.onBeforeMask)?opts.onBeforeMask.call(this,pastedValue,opts):pastedValue},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:$.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,disablePredictiveText:!1,importDataAttributes:!0,shiftPositions:!0},definitions:{9:{validator:"[0-9\uff11-\uff19]",definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",definitionSymbol:"*"},"*":{validator:"[0-9\uff11-\uff19A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]"}},aliases:{},masksCache:{},mask:function mask(elems){var that=this;return"string"==typeof elems&&(elems=document.getElementById(elems)||document.querySelectorAll(elems)),elems=elems.nodeName?[elems]:elems,$.each(elems,function(ndx,el){var scopedOpts=$.extend(!0,{},that.opts);if(importAttributeOptions(el,scopedOpts,$.extend(!0,{},that.userOptions),that.dataAttribute)){var maskset=generateMaskSet(scopedOpts,that.noMasksCache);void 0!==maskset&&(void 0!==el.inputmask&&(el.inputmask.opts.autoUnmask=!0,el.inputmask.remove()),el.inputmask=new Inputmask(void 0,void 0,!0),el.inputmask.opts=scopedOpts,el.inputmask.noMasksCache=that.noMasksCache,el.inputmask.userOptions=$.extend(!0,{},that.userOptions),el.inputmask.isRTL=scopedOpts.isRTL||scopedOpts.numericInput,el.inputmask.el=el,el.inputmask.maskset=maskset,$.data(el,"_inputmask_opts",scopedOpts),maskScope.call(el.inputmask,{action:"mask"}))}}),elems&&elems[0]&&elems[0].inputmask||this},option:function option(options,noremask){return"string"==typeof options?this.opts[options]:"object"===_typeof(options)?($.extend(this.userOptions,options),this.el&&!0!==noremask&&this.mask(this.el),this):void 0},unmaskedvalue:function unmaskedvalue(value){return this.maskset=this.maskset||generateMaskSet(this.opts,this.noMasksCache),maskScope.call(this,{action:"unmaskedvalue",value:value})},remove:function remove(){return maskScope.call(this,{action:"remove"})},getemptymask:function getemptymask(){return this.maskset=this.maskset||generateMaskSet(this.opts,this.noMasksCache),maskScope.call(this,{action:"getemptymask"})},hasMaskedValue:function hasMaskedValue(){return!this.opts.autoUnmask},isComplete:function isComplete(){return this.maskset=this.maskset||generateMaskSet(this.opts,this.noMasksCache),maskScope.call(this,{action:"isComplete"})},getmetadata:function getmetadata(){return this.maskset=this.maskset||generateMaskSet(this.opts,this.noMasksCache),maskScope.call(this,{action:"getmetadata"})},isValid:function isValid(value){return this.maskset=this.maskset||generateMaskSet(this.opts,this.noMasksCache),maskScope.call(this,{action:"isValid",value:value})},format:function format(value,metadata){return this.maskset=this.maskset||generateMaskSet(this.opts,this.noMasksCache),maskScope.call(this,{action:"format",value:value,metadata:metadata})},setValue:function setValue(value){this.el&&$(this.el).trigger("setvalue",[value])},analyseMask:analyseMask,positionColorMask:function positionColorMask(input,template){input.style.left=template.offsetLeft+"px"}},Inputmask.extendDefaults=function(options){$.extend(!0,Inputmask.prototype.defaults,options)},Inputmask.extendDefinitions=function(definition){$.extend(!0,Inputmask.prototype.definitions,definition)},Inputmask.extendAliases=function(alias){$.extend(!0,Inputmask.prototype.aliases,alias)},Inputmask.format=function(value,options,metadata){return Inputmask(options).format(value,metadata)},Inputmask.unmask=function(value,options){return Inputmask(options).unmaskedvalue(value)},Inputmask.isValid=function(value,options){return Inputmask(options).isValid(value)},Inputmask.remove=function(elems){"string"==typeof elems&&(elems=document.getElementById(elems)||document.querySelectorAll(elems)),elems=elems.nodeName?[elems]:elems,$.each(elems,function(ndx,el){el.inputmask&&el.inputmask.remove()})},Inputmask.setValue=function(elems,value){"string"==typeof elems&&(elems=document.getElementById(elems)||document.querySelectorAll(elems)),elems=elems.nodeName?[elems]:elems,$.each(elems,function(ndx,el){el.inputmask?el.inputmask.setValue(value):$(el).trigger("setvalue",[value])})},Inputmask.escapeRegex=function(str){var specials=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return str.replace(new RegExp("(\\"+specials.join("|\\")+")","gim"),"\\$1")},Inputmask.keyCode={BACKSPACE:8,BACKSPACE_SAFARI:127,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SPACE:32,TAB:9,UP:38,X:88,CONTROL:17},Inputmask.dependencyLib=$,window.Inputmask=Inputmask,module.exports=Inputmask},function(module,exports,__webpack_require__){module.exports=__webpack_require__(5)},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE__5__},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}__WEBPACK_AMD_DEFINE_RESULT__=function(){return"undefined"!=typeof window?window:new(eval("require('jsdom').JSDOM"))("").window}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var $=__webpack_require__(4);function generateMaskSet(opts,nocache){var ms;function generateMask(mask,metadata,opts){var regexMask=!1,masksetDefinition,maskdefKey;if(null!==mask&&""!==mask||(regexMask=null!==opts.regex,mask=regexMask?(mask=opts.regex,mask.replace(/^(\^)(.*)(\$)$/,"$2")):(regexMask=!0,".*")),1===mask.length&&!1===opts.greedy&&0!==opts.repeat&&(opts.placeholder=""),0<opts.repeat||"*"===opts.repeat||"+"===opts.repeat){var repeatStart="*"===opts.repeat?0:"+"===opts.repeat?1:opts.repeat;mask=opts.groupmarker[0]+mask+opts.groupmarker[1]+opts.quantifiermarker[0]+repeatStart+","+opts.repeat+opts.quantifiermarker[1]}return maskdefKey=regexMask?"regex_"+opts.regex:opts.numericInput?mask.split("").reverse().join(""):mask,!1!==opts.keepStatic&&(maskdefKey="ks_"+maskdefKey),void 0===Inputmask.prototype.masksCache[maskdefKey]||!0===nocache?(masksetDefinition={mask:mask,maskToken:Inputmask.prototype.analyseMask(mask,regexMask,opts),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:metadata,maskLength:void 0,jitOffset:{}},!0!==nocache&&(Inputmask.prototype.masksCache[maskdefKey]=masksetDefinition,masksetDefinition=$.extend(!0,{},Inputmask.prototype.masksCache[maskdefKey]))):masksetDefinition=$.extend(!0,{},Inputmask.prototype.masksCache[maskdefKey]),masksetDefinition}if($.isFunction(opts.mask)&&(opts.mask=opts.mask(opts)),$.isArray(opts.mask)){if(1<opts.mask.length){if(null===opts.keepStatic){opts.keepStatic="auto";for(var i=0;i<opts.mask.length;i++)if(opts.mask[i].charAt(0)!==opts.mask[0].charAt(0)){opts.keepStatic=!0;break}}var altMask=opts.groupmarker[0];return $.each(opts.isRTL?opts.mask.reverse():opts.mask,function(ndx,msk){1<altMask.length&&(altMask+=opts.groupmarker[1]+opts.alternatormarker+opts.groupmarker[0]),void 0===msk.mask||$.isFunction(msk.mask)?altMask+=msk:altMask+=msk.mask}),altMask+=opts.groupmarker[1],generateMask(altMask,opts.mask,opts)}opts.mask=opts.mask.pop()}return ms=opts.mask&&void 0!==opts.mask.mask&&!$.isFunction(opts.mask.mask)?generateMask(opts.mask.mask,opts.mask,opts):generateMask(opts.mask,opts.mask,opts),ms}function analyseMask(mask,regexMask,opts){var tokenizer=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,regexTokenizer=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,escaped=!1,currentToken=new MaskToken,match,m,openenings=[],maskTokens=[],openingToken,currentOpeningToken,alternator,lastMatch,closeRegexGroup=!1;function MaskToken(isGroup,isOptional,isQuantifier,isAlternator){this.matches=[],this.openGroup=isGroup||!1,this.alternatorGroup=!1,this.isGroup=isGroup||!1,this.isOptional=isOptional||!1,this.isQuantifier=isQuantifier||!1,this.isAlternator=isAlternator||!1,this.quantifier={min:1,max:1}}function insertTestDefinition(mtoken,element,position){position=void 0!==position?position:mtoken.matches.length;var prevMatch=mtoken.matches[position-1];if(regexMask)0===element.indexOf("[")||escaped&&/\\d|\\s|\\w]/i.test(element)||"."===element?mtoken.matches.splice(position++,0,{fn:new RegExp(element,opts.casing?"i":""),static:!1,optionality:!1,newBlockMarker:void 0===prevMatch?"master":prevMatch.def!==element,casing:null,def:element,placeholder:void 0,nativeDef:element}):(escaped&&(element=element[element.length-1]),$.each(element.split(""),function(ndx,lmnt){prevMatch=mtoken.matches[position-1],mtoken.matches.splice(position++,0,{fn:/[a-z]/i.test(opts.staticDefinitionSymbol||lmnt)?new RegExp("["+(opts.staticDefinitionSymbol||lmnt)+"]",opts.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===prevMatch?"master":prevMatch.def!==lmnt&&!0!==prevMatch.static,casing:null,def:opts.staticDefinitionSymbol||lmnt,placeholder:void 0!==opts.staticDefinitionSymbol?lmnt:void 0,nativeDef:(escaped?"'":"")+lmnt})})),escaped=!1;else{var maskdef=(opts.definitions?opts.definitions[element]:void 0)||Inputmask.prototype.definitions[element];maskdef&&!escaped?mtoken.matches.splice(position++,0,{fn:maskdef.validator?"string"==typeof maskdef.validator?new RegExp(maskdef.validator,opts.casing?"i":""):new function(){this.test=maskdef.validator}:new RegExp("."),static:!1,optionality:!1,newBlockMarker:void 0===prevMatch?"master":prevMatch.def!==(maskdef.definitionSymbol||element),casing:maskdef.casing,def:maskdef.definitionSymbol||element,placeholder:maskdef.placeholder,nativeDef:element}):(mtoken.matches.splice(position++,0,{fn:/[a-z]/i.test(opts.staticDefinitionSymbol||element)?new RegExp("["+(opts.staticDefinitionSymbol||element)+"]",opts.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===prevMatch?"master":prevMatch.def!==element&&!0!==prevMatch.static,casing:null,def:opts.staticDefinitionSymbol||element,placeholder:void 0!==opts.staticDefinitionSymbol?element:void 0,nativeDef:(escaped?"'":"")+element}),escaped=!1)}}function verifyGroupMarker(maskToken){maskToken&&maskToken.matches&&$.each(maskToken.matches,function(ndx,token){var nextToken=maskToken.matches[ndx+1];(void 0===nextToken||void 0===nextToken.matches||!1===nextToken.isQuantifier)&&token&&token.isGroup&&(token.isGroup=!1,regexMask||(insertTestDefinition(token,opts.groupmarker[0],0),!0!==token.openGroup&&insertTestDefinition(token,opts.groupmarker[1]))),verifyGroupMarker(token)})}function defaultCase(){if(0<openenings.length){if(currentOpeningToken=openenings[openenings.length-1],insertTestDefinition(currentOpeningToken,m),currentOpeningToken.isAlternator){alternator=openenings.pop();for(var mndx=0;mndx<alternator.matches.length;mndx++)alternator.matches[mndx].isGroup&&(alternator.matches[mndx].isGroup=!1);0<openenings.length?(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(alternator)):currentToken.matches.push(alternator)}}else insertTestDefinition(currentToken,m)}function reverseTokens(maskToken){function reverseStatic(st){return st===opts.optionalmarker[0]?st=opts.optionalmarker[1]:st===opts.optionalmarker[1]?st=opts.optionalmarker[0]:st===opts.groupmarker[0]?st=opts.groupmarker[1]:st===opts.groupmarker[1]&&(st=opts.groupmarker[0]),st}for(var match in maskToken.matches=maskToken.matches.reverse(),maskToken.matches)if(maskToken.matches.hasOwnProperty(match)){var intMatch=parseInt(match);if(maskToken.matches[match].isQuantifier&&maskToken.matches[intMatch+1]&&maskToken.matches[intMatch+1].isGroup){var qt=maskToken.matches[match];maskToken.matches.splice(match,1),maskToken.matches.splice(intMatch+1,0,qt)}void 0!==maskToken.matches[match].matches?maskToken.matches[match]=reverseTokens(maskToken.matches[match]):maskToken.matches[match]=reverseStatic(maskToken.matches[match])}return maskToken}function groupify(matches){var groupToken=new MaskToken(!0);return groupToken.openGroup=!1,groupToken.matches=matches,groupToken}function closeGroup(){if(openingToken=openenings.pop(),openingToken.openGroup=!1,void 0!==openingToken)if(0<openenings.length){if(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(openingToken),currentOpeningToken.isAlternator){alternator=openenings.pop();for(var mndx=0;mndx<alternator.matches.length;mndx++)alternator.matches[mndx].isGroup=!1,alternator.matches[mndx].alternatorGroup=!1;0<openenings.length?(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(alternator)):currentToken.matches.push(alternator)}}else currentToken.matches.push(openingToken);else defaultCase()}function groupQuantifier(matches){var lastMatch=matches.pop();return lastMatch.isQuantifier&&(lastMatch=groupify([matches.pop(),lastMatch])),lastMatch}for(regexMask&&(opts.optionalmarker[0]=void 0,opts.optionalmarker[1]=void 0);match=regexMask?regexTokenizer.exec(mask):tokenizer.exec(mask);){if(m=match[0],regexMask)switch(m.charAt(0)){case"?":m="{0,1}";break;case"+":case"*":m="{"+m+"}";break;case"|":if(0===openenings.length){var altRegexGroup=groupify(currentToken.matches);altRegexGroup.openGroup=!0,openenings.push(altRegexGroup),currentToken.matches=[],closeRegexGroup=!0}break}if(escaped)defaultCase();else switch(m.charAt(0)){case"(?=":break;case"(?!":break;case"(?<=":break;case"(?<!":break;case opts.escapeChar:escaped=!0,regexMask&&defaultCase();break;case opts.optionalmarker[1]:case opts.groupmarker[1]:closeGroup();break;case opts.optionalmarker[0]:openenings.push(new MaskToken(!1,!0));break;case opts.groupmarker[0]:openenings.push(new MaskToken(!0));break;case opts.quantifiermarker[0]:var quantifier=new MaskToken(!1,!1,!0);m=m.replace(/[{}]/g,"");var mqj=m.split("|"),mq=mqj[0].split(","),mq0=isNaN(mq[0])?mq[0]:parseInt(mq[0]),mq1=1===mq.length?mq0:isNaN(mq[1])?mq[1]:parseInt(mq[1]);"*"!==mq0&&"+"!==mq0||(mq0="*"===mq1?0:1),quantifier.quantifier={min:mq0,max:mq1,jit:mqj[1]};var matches=0<openenings.length?openenings[openenings.length-1].matches:currentToken.matches;if(match=matches.pop(),match.isAlternator){matches.push(match),matches=match.matches;var groupToken=new MaskToken(!0),tmpMatch=matches.pop();matches.push(groupToken),matches=groupToken.matches,match=tmpMatch}match.isGroup||(match=groupify([match])),matches.push(match),matches.push(quantifier);break;case opts.alternatormarker:if(0<openenings.length){currentOpeningToken=openenings[openenings.length-1];var subToken=currentOpeningToken.matches[currentOpeningToken.matches.length-1];lastMatch=currentOpeningToken.openGroup&&(void 0===subToken.matches||!1===subToken.isGroup&&!1===subToken.isAlternator)?openenings.pop():groupQuantifier(currentOpeningToken.matches)}else lastMatch=groupQuantifier(currentToken.matches);if(lastMatch.isAlternator)openenings.push(lastMatch);else if(lastMatch.alternatorGroup?(alternator=openenings.pop(),lastMatch.alternatorGroup=!1):alternator=new MaskToken(!1,!1,!1,!0),alternator.matches.push(lastMatch),openenings.push(alternator),lastMatch.openGroup){lastMatch.openGroup=!1;var alternatorGroup=new MaskToken(!0);alternatorGroup.alternatorGroup=!0,openenings.push(alternatorGroup)}break;default:defaultCase()}}for(closeRegexGroup&&closeGroup();0<openenings.length;)openingToken=openenings.pop(),currentToken.matches.push(openingToken);return 0<currentToken.matches.length&&(verifyGroupMarker(currentToken),maskTokens.push(currentToken)),(opts.numericInput||opts.isRTL)&&reverseTokens(maskTokens[0]),maskTokens}module.exports={generateMaskSet:generateMaskSet,analyseMask:analyseMask}},function(module,exports,__webpack_require__){function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var $=__webpack_require__(4),window=__webpack_require__(6),document=window.document,ua=window.navigator.userAgent,ie=0<ua.indexOf("MSIE ")||0<ua.indexOf("Trident/"),mobile=isInputEventSupported("touchstart"),iemobile=/iemobile/i.test(ua),iphone=/iphone/i.test(ua)&&!iemobile;function isInputEventSupported(eventName){var el=document.createElement("input"),evName="on"+eventName,isSupported=evName in el;return isSupported||(el.setAttribute(evName,"return;"),isSupported="function"==typeof el[evName]),el=null,isSupported}module.exports=function maskScope(actionObj,maskset,opts){maskset=maskset||this.maskset,opts=opts||this.opts;var inputmask=this,el=this.el,isRTL=this.isRTL||(this.isRTL=opts.numericInput),undoValue,$el,skipKeyPressEvent=!1,skipInputEvent=!1,ignorable=!1,maxLength,mouseEnter=!1,colorMask,originalPlaceholder=void 0;function getMaskTemplate(baseOnInput,minimalPos,includeMode,noJit,clearOptionalTail){var greedy=opts.greedy;clearOptionalTail&&(opts.greedy=!1),minimalPos=minimalPos||0;var maskTemplate=[],ndxIntlzr,pos=0,test,testPos;do{if(!0===baseOnInput&&maskset.validPositions[pos])testPos=clearOptionalTail&&!0===maskset.validPositions[pos].match.optionality&&void 0===maskset.validPositions[pos+1]&&(!0===maskset.validPositions[pos].generatedInput||maskset.validPositions[pos].input==opts.skipOptionalPartCharacter&&0<pos)?determineTestTemplate(pos,getTests(pos,ndxIntlzr,pos-1)):maskset.validPositions[pos],test=testPos.match,ndxIntlzr=testPos.locator.slice(),maskTemplate.push(!0===includeMode?testPos.input:!1===includeMode?test.nativeDef:getPlaceholder(pos,test));else{testPos=getTestTemplate(pos,ndxIntlzr,pos-1),test=testPos.match,ndxIntlzr=testPos.locator.slice();var jitMasking=!0!==noJit&&(!1!==opts.jitMasking?opts.jitMasking:test.jit);(!1===jitMasking||void 0===jitMasking||"number"==typeof jitMasking&&isFinite(jitMasking)&&pos<jitMasking)&&maskTemplate.push(!1===includeMode?test.nativeDef:getPlaceholder(pos,test))}"auto"===opts.keepStatic&&test.newBlockMarker&&!0!==test.static&&(opts.keepStatic=pos-1),pos++}while((void 0===maxLength||pos<maxLength)&&(!0!==test.static||""!==test.def)||pos<minimalPos);return""===maskTemplate[maskTemplate.length-1]&&maskTemplate.pop(),!1===includeMode&&void 0!==maskset.maskLength||(maskset.maskLength=pos-1),opts.greedy=greedy,maskTemplate}function resetMaskSet(soft){maskset.buffer=void 0,!0!==soft&&(maskset.validPositions={},maskset.p=0)}function getLastValidPosition(closestTo,strict,validPositions){var before=-1,after=-1,valids=validPositions||maskset.validPositions;for(var posNdx in void 0===closestTo&&(closestTo=-1),valids){var psNdx=parseInt(posNdx);valids[psNdx]&&(strict||!0!==valids[psNdx].generatedInput)&&(psNdx<=closestTo&&(before=psNdx),closestTo<=psNdx&&(after=psNdx))}return-1===before||before==closestTo?after:-1==after?before:closestTo-before<after-closestTo?before:after}function getDecisionTaker(tst){var decisionTaker=tst.locator[tst.alternation];return"string"==typeof decisionTaker&&0<decisionTaker.length&&(decisionTaker=decisionTaker.split(",")[0]),void 0!==decisionTaker?decisionTaker.toString():""}function getLocator(tst,align){var locator=(null!=tst.alternation?tst.mloc[getDecisionTaker(tst)]:tst.locator).join("");if(""!==locator)for(;locator.length<align;)locator+="0";return locator}function determineTestTemplate(pos,tests){pos=0<pos?pos-1:0;for(var altTest=getTest(pos),targetLocator=getLocator(altTest),tstLocator,closest,bestMatch,ndx=0;ndx<tests.length;ndx++){var tst=tests[ndx];tstLocator=getLocator(tst,targetLocator.length);var distance=Math.abs(tstLocator-targetLocator);(void 0===closest||""!==tstLocator&&distance<closest||bestMatch&&!opts.greedy&&bestMatch.match.optionality&&"master"===bestMatch.match.newBlockMarker&&(!tst.match.optionality||!tst.match.newBlockMarker)||bestMatch&&bestMatch.match.optionalQuantifier&&!tst.match.optionalQuantifier)&&(closest=distance,bestMatch=tst)}return bestMatch}function getTestTemplate(pos,ndxIntlzr,tstPs){return maskset.validPositions[pos]||determineTestTemplate(pos,getTests(pos,ndxIntlzr?ndxIntlzr.slice():ndxIntlzr,tstPs))}function getTest(pos,tests){return maskset.validPositions[pos]?maskset.validPositions[pos]:(tests||getTests(pos))[0]}function positionCanMatchDefinition(pos,def){for(var valid=!1,tests=getTests(pos),tndx=0;tndx<tests.length;tndx++)if(tests[tndx].match&&tests[tndx].match.def===def){valid=!0;break}return!1===valid&&void 0!==maskset.jitOffset[pos]&&(valid=positionCanMatchDefinition(pos+maskset.jitOffset[pos],def)),valid}function getTests(pos,ndxIntlzr,tstPs){var maskTokens=maskset.maskToken,testPos=ndxIntlzr?tstPs:0,ndxInitializer=ndxIntlzr?ndxIntlzr.slice():[0],matches=[],insertStop=!1,latestMatch,cacheDependency=ndxIntlzr?ndxIntlzr.join(""):"";function resolveTestFromToken(maskToken,ndxInitializer,loopNdx,quantifierRecurse){function handleMatch(match,loopNdx,quantifierRecurse){function isFirstMatch(latestMatch,tokenGroup){var firstMatch=0===$.inArray(latestMatch,tokenGroup.matches);return firstMatch||$.each(tokenGroup.matches,function(ndx,match){if(!0===match.isQuantifier?firstMatch=isFirstMatch(latestMatch,tokenGroup.matches[ndx-1]):match.hasOwnProperty("matches")&&(firstMatch=isFirstMatch(latestMatch,match)),firstMatch)return!1}),firstMatch}function resolveNdxInitializer(pos,alternateNdx,targetAlternation){var bestMatch,indexPos;if((maskset.tests[pos]||maskset.validPositions[pos])&&$.each(maskset.tests[pos]||[maskset.validPositions[pos]],function(ndx,lmnt){if(lmnt.mloc[alternateNdx])return bestMatch=lmnt,!1;var alternation=void 0!==targetAlternation?targetAlternation:lmnt.alternation,ndxPos=void 0!==lmnt.locator[alternation]?lmnt.locator[alternation].toString().indexOf(alternateNdx):-1;(void 0===indexPos||ndxPos<indexPos)&&-1!==ndxPos&&(bestMatch=lmnt,indexPos=ndxPos)}),bestMatch){var bestMatchAltIndex=bestMatch.locator[bestMatch.alternation],locator=bestMatch.mloc[alternateNdx]||bestMatch.mloc[bestMatchAltIndex]||bestMatch.locator;return locator.slice((void 0!==targetAlternation?targetAlternation:bestMatch.alternation)+1)}return void 0!==targetAlternation?resolveNdxInitializer(pos,alternateNdx):void 0}function isSubsetOf(source,target){function expand(pattern){for(var expanded=[],start=-1,end,i=0,l=pattern.length;i<l;i++)if("-"===pattern.charAt(i))for(end=pattern.charCodeAt(i+1);++start<end;)expanded.push(String.fromCharCode(start));else start=pattern.charCodeAt(i),expanded.push(pattern.charAt(i));return expanded.join("")}return opts.regex&&!0!==source.match.static&&!0!==target.match.static?-1!==expand(target.match.def.replace(/[[\]]/g,"")).indexOf(expand(source.match.def.replace(/[[\]]/g,""))):source.match.def===target.match.nativeDef}function staticCanMatchDefinition(source,target){var sloc=source.locator.slice(source.alternation).join(""),tloc=target.locator.slice(target.alternation).join(""),canMatch=sloc==tloc;return canMatch=!(!canMatch||!0!==source.match.static||!0===target.match.static)&&target.match.fn.test(source.match.def,maskset,pos,!1,opts,!1),canMatch}function setMergeLocators(targetMatch,altMatch){if(void 0===altMatch||targetMatch.alternation===altMatch.alternation&&-1===targetMatch.locator[targetMatch.alternation].toString().indexOf(altMatch.locator[altMatch.alternation])){targetMatch.mloc=targetMatch.mloc||{};var locNdx=targetMatch.locator[targetMatch.alternation];if(void 0!==locNdx){if("string"==typeof locNdx&&(locNdx=locNdx.split(",")[0]),void 0===targetMatch.mloc[locNdx]&&(targetMatch.mloc[locNdx]=targetMatch.locator.slice()),void 0!==altMatch){for(var ndx in altMatch.mloc)"string"==typeof ndx&&(ndx=ndx.split(",")[0]),void 0===targetMatch.mloc[ndx]&&(targetMatch.mloc[ndx]=altMatch.mloc[ndx]);targetMatch.locator[targetMatch.alternation]=Object.keys(targetMatch.mloc).join(",")}return!0}targetMatch.alternation=void 0}return!1}if(500<testPos&&void 0!==quantifierRecurse)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+maskset.mask;if(testPos===pos&&void 0===match.matches)return matches.push({match:match,locator:loopNdx.reverse(),cd:cacheDependency,mloc:{}}),!0;if(void 0!==match.matches){if(match.isGroup&&quantifierRecurse!==match){if(match=handleMatch(maskToken.matches[$.inArray(match,maskToken.matches)+1],loopNdx,quantifierRecurse),match)return!0}else if(match.isOptional){var optionalToken=match,mtchsNdx=matches.length;if(match=resolveTestFromToken(match,ndxInitializer,loopNdx,quantifierRecurse),match){if($.each(matches,function(ndx,mtch){mtchsNdx<=ndx&&(mtch.match.optionality=!0)}),latestMatch=matches[matches.length-1].match,void 0!==quantifierRecurse||!isFirstMatch(latestMatch,optionalToken))return!0;insertStop=!0,testPos=pos}}else if(match.isAlternator){var alternateToken=match,malternateMatches=[],maltMatches,currentMatches=matches.slice(),loopNdxCnt=loopNdx.length,altIndex=0<ndxInitializer.length?ndxInitializer.shift():-1;if(-1===altIndex||"string"==typeof altIndex){var currentPos=testPos,ndxInitializerClone=ndxInitializer.slice(),altIndexArr=[],amndx;if("string"==typeof altIndex)altIndexArr=altIndex.split(",");else for(amndx=0;amndx<alternateToken.matches.length;amndx++)altIndexArr.push(amndx.toString());if(maskset.excludes[pos]){for(var altIndexArrClone=altIndexArr.slice(),i=0,el=maskset.excludes[pos].length;i<el;i++)altIndexArr.splice(altIndexArr.indexOf(maskset.excludes[pos][i].toString()),1);0===altIndexArr.length&&(delete maskset.excludes[pos],altIndexArr=altIndexArrClone)}(!0===opts.keepStatic||isFinite(parseInt(opts.keepStatic))&&currentPos>=opts.keepStatic)&&(altIndexArr=altIndexArr.slice(0,1));for(var unMatchedAlternation=!1,ndx=0;ndx<altIndexArr.length;ndx++){amndx=parseInt(altIndexArr[ndx]),matches=[],ndxInitializer="string"==typeof altIndex&&resolveNdxInitializer(testPos,amndx,loopNdxCnt)||ndxInitializerClone.slice(),alternateToken.matches[amndx]&&handleMatch(alternateToken.matches[amndx],[amndx].concat(loopNdx),quantifierRecurse)?match=!0:0===ndx&&(unMatchedAlternation=!0),maltMatches=matches.slice(),testPos=currentPos,matches=[];for(var ndx1=0;ndx1<maltMatches.length;ndx1++){var altMatch=maltMatches[ndx1],dropMatch=!1;altMatch.match.jit=altMatch.match.jit||unMatchedAlternation,altMatch.alternation=altMatch.alternation||loopNdxCnt,setMergeLocators(altMatch);for(var ndx2=0;ndx2<malternateMatches.length;ndx2++){var altMatch2=malternateMatches[ndx2];if("string"!=typeof altIndex||void 0!==altMatch.alternation&&-1!==$.inArray(altMatch.locator[altMatch.alternation].toString(),altIndexArr)){if(altMatch.match.nativeDef===altMatch2.match.nativeDef){dropMatch=!0,setMergeLocators(altMatch2,altMatch);break}if(isSubsetOf(altMatch,altMatch2)){setMergeLocators(altMatch,altMatch2)&&(dropMatch=!0,malternateMatches.splice(malternateMatches.indexOf(altMatch2),0,altMatch));break}if(isSubsetOf(altMatch2,altMatch)){setMergeLocators(altMatch2,altMatch);break}if(staticCanMatchDefinition(altMatch,altMatch2)){setMergeLocators(altMatch,altMatch2)&&(dropMatch=!0,malternateMatches.splice(malternateMatches.indexOf(altMatch2),0,altMatch));break}}}dropMatch||malternateMatches.push(altMatch)}}matches=currentMatches.concat(malternateMatches),testPos=pos,insertStop=0<matches.length,match=0<malternateMatches.length,ndxInitializer=ndxInitializerClone.slice()}else match=handleMatch(alternateToken.matches[altIndex]||maskToken.matches[altIndex],[altIndex].concat(loopNdx),quantifierRecurse);if(match)return!0}else if(match.isQuantifier&&quantifierRecurse!==maskToken.matches[$.inArray(match,maskToken.matches)-1])for(var qt=match,qndx=0<ndxInitializer.length?ndxInitializer.shift():0;qndx<(isNaN(qt.quantifier.max)?qndx+1:qt.quantifier.max)&&testPos<=pos;qndx++){var tokenGroup=maskToken.matches[$.inArray(qt,maskToken.matches)-1];if(match=handleMatch(tokenGroup,[qndx].concat(loopNdx),tokenGroup),match){if(latestMatch=matches[matches.length-1].match,latestMatch.optionalQuantifier=qndx>=qt.quantifier.min,latestMatch.jit=(qndx||1)*tokenGroup.matches.indexOf(latestMatch)>=qt.quantifier.jit,latestMatch.optionalQuantifier&&isFirstMatch(latestMatch,tokenGroup)){insertStop=!0,testPos=pos;break}return latestMatch.jit&&(maskset.jitOffset[pos]=tokenGroup.matches.length-tokenGroup.matches.indexOf(latestMatch)),!0}}else if(match=resolveTestFromToken(match,ndxInitializer,loopNdx,quantifierRecurse),match)return!0}else testPos++}for(var tndx=0<ndxInitializer.length?ndxInitializer.shift():0;tndx<maskToken.matches.length;tndx++)if(!0!==maskToken.matches[tndx].isQuantifier){var match=handleMatch(maskToken.matches[tndx],[tndx].concat(loopNdx),quantifierRecurse);if(match&&testPos===pos)return match;if(pos<testPos)break}}function mergeLocators(pos,tests){var locator=[];return $.isArray(tests)||(tests=[tests]),0<tests.length&&(void 0===tests[0].alternation||!0===opts.keepStatic?(locator=determineTestTemplate(pos,tests.slice()).locator.slice(),0===locator.length&&(locator=tests[0].locator.slice())):$.each(tests,function(ndx,tst){if(""!==tst.def)if(0===locator.length)locator=tst.locator.slice();else for(var i=0;i<locator.length;i++)tst.locator[i]&&-1===locator[i].toString().indexOf(tst.locator[i])&&(locator[i]+=","+tst.locator[i])})),locator}if(-1<pos&&(void 0===maxLength||pos<maxLength)){if(void 0===ndxIntlzr){for(var previousPos=pos-1,test;void 0===(test=maskset.validPositions[previousPos]||maskset.tests[previousPos])&&-1<previousPos;)previousPos--;void 0!==test&&-1<previousPos&&(ndxInitializer=mergeLocators(previousPos,test),cacheDependency=ndxInitializer.join(""),testPos=previousPos)}if(maskset.tests[pos]&&maskset.tests[pos][0].cd===cacheDependency)return maskset.tests[pos];for(var mtndx=ndxInitializer.shift();mtndx<maskTokens.length;mtndx++){var match=resolveTestFromToken(maskTokens[mtndx],ndxInitializer,[mtndx]);if(match&&testPos===pos||pos<testPos)break}}return 0!==matches.length&&!insertStop||matches.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:cacheDependency}),void 0!==ndxIntlzr&&maskset.tests[pos]?$.extend(!0,[],matches):(maskset.tests[pos]=$.extend(!0,[],matches),maskset.tests[pos])}function getBufferTemplate(){return void 0===maskset._buffer&&(maskset._buffer=getMaskTemplate(!1,1),void 0===maskset.buffer&&(maskset.buffer=maskset._buffer.slice())),maskset._buffer}function getBuffer(noCache){return void 0!==maskset.buffer&&!0!==noCache||(maskset.buffer=getMaskTemplate(!0,getLastValidPosition(),!0),void 0===maskset._buffer&&(maskset._buffer=maskset.buffer.slice())),maskset.buffer}function refreshFromBuffer(start,end,buffer){var i,p;if(!0===start)resetMaskSet(),maskset.tests={},start=0,end=buffer.length;else for(i=start;i<end;i++)delete maskset.validPositions[i];for(p=start,i=start;i<end;i++)if(buffer[i]!==opts.skipOptionalPartCharacter){var valResult=isValid(p,buffer[i],!opts.negationSymbol||[i]!==opts.negationSymbol.front,!opts.negationSymbol||[i]!==opts.negationSymbol.front);!1!==valResult&&(p=void 0!==valResult.caret?valResult.caret:valResult.pos+1)}}function casing(elem,test,pos){switch(opts.casing||test.casing){case"upper":elem=elem.toUpperCase();break;case"lower":elem=elem.toLowerCase();break;case"title":var posBefore=maskset.validPositions[pos-1];elem=0===pos||posBefore&&posBefore.input===String.fromCharCode(Inputmask.keyCode.SPACE)?elem.toUpperCase():elem.toLowerCase();break;default:if($.isFunction(opts.casing)){var args=Array.prototype.slice.call(arguments);args.push(maskset.validPositions),elem=opts.casing.apply(this,args)}}return elem}function checkAlternationMatch(altArr1,altArr2,na){for(var altArrC=opts.greedy?altArr2:altArr2.slice(0,1),isMatch=!1,naArr=void 0!==na?na.split(","):[],naNdx,i=0;i<naArr.length;i++)-1!==(naNdx=altArr1.indexOf(naArr[i]))&&altArr1.splice(naNdx,1);for(var alndx=0;alndx<altArr1.length;alndx++)if(-1!==$.inArray(altArr1[alndx],altArrC)){isMatch=!0;break}return isMatch}function alternate(pos,c,strict,fromIsValid,rAltPos){var validPsClone=$.extend(!0,{},maskset.validPositions),lastAlt,alternation,isValidRslt=!1,returnRslt=!1,altPos,prevAltPos,i,validPos,decisionPos,lAltPos=void 0!==rAltPos?rAltPos:getLastValidPosition();function insertPosition(insert){if(insert&&isValidRslt&&void 0!==c){var targetLvp=getLastValidPosition(pos)+1;for(i=decisionPos;i<getLastValidPosition()+1;i++)validPos=maskset.validPositions[i],(void 0===validPos||1==validPos.match.static)&&i<pos+posOffset&&posOffset++;pos+=posOffset,isValidRslt=returnRslt=isValid(targetLvp<pos?targetLvp:pos,c,strict,fromIsValid,!0)}}if(-1===lAltPos&&void 0===rAltPos)lastAlt=0,prevAltPos=getTest(lastAlt),alternation=prevAltPos.alternation;else for(;0<=lAltPos;lAltPos--)if(altPos=maskset.validPositions[lAltPos],altPos&&void 0!==altPos.alternation){if(prevAltPos&&prevAltPos.locator[altPos.alternation]!==altPos.locator[altPos.alternation])break;lastAlt=lAltPos,alternation=maskset.validPositions[lastAlt].alternation,prevAltPos=altPos}if(void 0!==alternation){decisionPos=parseInt(lastAlt),maskset.excludes[decisionPos]=maskset.excludes[decisionPos]||[],!0!==pos&&maskset.excludes[decisionPos].push(getDecisionTaker(prevAltPos));var validInputsClone=[],staticInputsBeforePos=0;for(i=decisionPos;i<getLastValidPosition(void 0,!0)+1;i++)validPos=maskset.validPositions[i],validPos&&!0!==validPos.generatedInput?validInputsClone.push(validPos.input):i<pos&&staticInputsBeforePos++,delete maskset.validPositions[i];for(;maskset.excludes[decisionPos]&&maskset.excludes[decisionPos].length<10;){var posOffset=-1*staticInputsBeforePos,validInputs=validInputsClone.slice();for(maskset.tests[decisionPos]=void 0,resetMaskSet(!0),isValidRslt=!0,insertPosition(0===pos);0<validInputs.length;){var input=validInputs.shift();if(!(isValidRslt=isValid(isValidRslt.caret||getLastValidPosition(void 0,!0)+1,input,!1,fromIsValid,!0)))break}if(insertPosition(0<pos),isValidRslt)break;if(resetMaskSet(),prevAltPos=getTest(decisionPos),maskset.validPositions=$.extend(!0,{},validPsClone),!maskset.excludes[decisionPos]){returnRslt=alternate(pos,c,strict,fromIsValid,decisionPos-1);break}var decisionTaker=getDecisionTaker(prevAltPos);if(-1!==maskset.excludes[decisionPos].indexOf(decisionTaker)){returnRslt=alternate(pos,c,strict,fromIsValid,decisionPos-1);break}for(maskset.excludes[decisionPos].push(decisionTaker),i=decisionPos;i<getLastValidPosition(void 0,!0)+1;i++)delete maskset.validPositions[i]}}return delete maskset.excludes[decisionPos],returnRslt}function isValid(pos,c,strict,fromIsValid,fromAlternate,validateOnly){function isSelection(posObj){return isRTL?1<posObj.begin-posObj.end||posObj.begin-posObj.end==1:1<posObj.end-posObj.begin||posObj.end-posObj.begin==1}strict=!0===strict;var maskPos=pos;function processCommandObject(commandObj){if(void 0!==commandObj){if(void 0!==commandObj.remove&&($.isArray(commandObj.remove)||(commandObj.remove=[commandObj.remove]),$.each(commandObj.remove.sort(function(a,b){return b.pos-a.pos}),function(ndx,lmnt){revalidateMask({begin:lmnt,end:lmnt+1})}),commandObj.remove=void 0),void 0!==commandObj.insert&&($.isArray(commandObj.insert)||(commandObj.insert=[commandObj.insert]),$.each(commandObj.insert.sort(function(a,b){return a.pos-b.pos}),function(ndx,lmnt){""!==lmnt.c&&isValid(lmnt.pos,lmnt.c,void 0===lmnt.strict||lmnt.strict,void 0!==lmnt.fromIsValid?lmnt.fromIsValid:fromIsValid)}),commandObj.insert=void 0),commandObj.refreshFromBuffer&&commandObj.buffer){var refresh=commandObj.refreshFromBuffer;refreshFromBuffer(!0===refresh?refresh:refresh.start,refresh.end,commandObj.buffer),commandObj.refreshFromBuffer=void 0}void 0!==commandObj.rewritePosition&&(maskPos=commandObj.rewritePosition,commandObj=!0,commandObj.rewritePosition=void 0)}return commandObj}function _isValid(position,c,strict){var rslt=!1;return $.each(getTests(position),function(ndx,tst){var test=tst.match;if(getBuffer(!0),rslt=null!=test.fn?test.fn.test(c,maskset,position,strict,opts,isSelection(pos)):(c===test.def||c===opts.skipOptionalPartCharacter)&&""!==test.def&&{c:getPlaceholder(position,test,!0)||test.def,pos:position},!1!==rslt){var elem=void 0!==rslt.c?rslt.c:c,validatedPos=position;return elem=elem===opts.skipOptionalPartCharacter&&!0===test.static?getPlaceholder(position,test,!0)||test.def:elem,rslt=processCommandObject(rslt),!0!==rslt&&void 0!==rslt.pos&&rslt.pos!==position&&(validatedPos=rslt.pos),!0!==rslt&&void 0===rslt.pos&&void 0===rslt.c?!1:(revalidateMask(pos,$.extend({},tst,{input:casing(elem,test,validatedPos)}),fromIsValid,validatedPos)||(rslt=!1),!1)}}),rslt}void 0!==pos.begin&&(maskPos=isRTL?pos.end:pos.begin);var result=!0,positionsClone=$.extend(!0,{},maskset.validPositions);if($.isFunction(opts.preValidation)&&!strict&&!0!==fromIsValid&&!0!==validateOnly&&!0!==fromAlternate&&(result=opts.preValidation(getBuffer(),maskPos,c,isSelection(pos),opts,maskset,pos),result=processCommandObject(result)),!0===result){if((void 0===maxLength||maskPos<maxLength)&&(result=_isValid(maskPos,c,strict),(!strict||!0===fromIsValid)&&!1===result&&!0!==validateOnly)){var currentPosValid=maskset.validPositions[maskPos];if(!currentPosValid||!0!==currentPosValid.match.static||currentPosValid.match.def!==c&&c!==opts.skipOptionalPartCharacter){if(opts.insertMode||void 0===maskset.validPositions[seekNext(maskPos)]){var skip=!1;if(maskset.jitOffset[maskPos]&&void 0===maskset.validPositions[seekNext(maskPos)]&&(result=isValid(maskPos+maskset.jitOffset[maskPos],c,!0),!1!==result&&(!0!==fromAlternate&&(result.caret=maskPos),skip=!0)),!skip&&!isMask(maskPos,!0))for(var nPos=maskPos+1,snPos=seekNext(maskPos);nPos<=snPos;nPos++)if(result=_isValid(nPos,c,strict),!1!==result){result=trackbackPositions(maskPos,void 0!==result.pos?result.pos:nPos)||result,maskPos=nPos;break}}}else result={caret:seekNext(maskPos)}}!1!==result||!1===opts.keepStatic||null!=opts.regex&&!isComplete(getBuffer())||strict||!0===fromAlternate||(result=alternate(maskPos,c,strict,fromIsValid)),!0===result&&(result={pos:maskPos})}if($.isFunction(opts.postValidation)&&!1!==result&&!strict&&!0!==fromIsValid&&!0!==validateOnly){var postResult=opts.postValidation(getBuffer(!0),void 0!==pos.begin?isRTL?pos.end:pos.begin:pos,result,opts);void 0!==postResult&&(result=!0===postResult?result:postResult)}result&&void 0===result.pos&&(result.pos=maskPos),!1===result||!0===validateOnly?(resetMaskSet(!0),maskset.validPositions=$.extend(!0,{},positionsClone)):trackbackPositions(void 0,maskPos,!0);var endResult=processCommandObject(result);return endResult}function trackbackPositions(originalPos,newPos,fillOnly){if(void 0===originalPos)for(originalPos=newPos-1;0<originalPos&&!maskset.validPositions[originalPos];originalPos--);for(var ps=originalPos;ps<newPos;ps++)if(void 0===maskset.validPositions[ps]&&!isMask(ps,!0)){var vp=0==ps?getTest(ps):maskset.validPositions[ps-1];if(vp){var tests=getTests(ps).slice();""===tests[tests.length-1].match.def&&tests.pop();var bestMatch=determineTestTemplate(ps,tests),np;if(bestMatch&&(!0!==bestMatch.match.jit||"master"===bestMatch.match.newBlockMarker&&(np=maskset.validPositions[ps+1])&&!0===np.match.optionalQuantifier)&&(bestMatch=$.extend({},bestMatch,{input:getPlaceholder(ps,bestMatch.match,!0)||bestMatch.match.def}),bestMatch.generatedInput=!0,revalidateMask(ps,bestMatch,!0),!0!==fillOnly)){var cvpInput=maskset.validPositions[newPos].input;return maskset.validPositions[newPos]=void 0,isValid(newPos,cvpInput,!0,!0)}}}}function revalidateMask(pos,validTest,fromIsValid,validatedPos){function IsEnclosedStatic(pos,valids,selection){var posMatch=valids[pos];if(void 0===posMatch||(!0!==posMatch.match.static||!0===posMatch.match.optionality)&&posMatch.input!==opts.radixPoint)return!1;var prevMatch=selection.begin<=pos-1?valids[pos-1]&&!0===valids[pos-1].match.static&&valids[pos-1]:valids[pos-1],nextMatch=selection.end>pos+1?valids[pos+1]&&!0===valids[pos+1].match.static&&valids[pos+1]:valids[pos+1];return prevMatch&&nextMatch}var begin=void 0!==pos.begin?pos.begin:pos,end=void 0!==pos.end?pos.end:pos;if(pos.begin>pos.end&&(begin=pos.end,end=pos.begin),validatedPos=void 0!==validatedPos?validatedPos:begin,begin!==end||opts.insertMode&&void 0!==maskset.validPositions[validatedPos]&&void 0===fromIsValid){var positionsClone=$.extend(!0,{},maskset.validPositions),lvp=getLastValidPosition(void 0,!0),i;for(maskset.p=begin,i=lvp;begin<=i;i--)delete maskset.validPositions[i],void 0===validTest&&delete maskset.tests[i+1];var valid=!0,j=validatedPos,needsValidation=0===validatedPos,posMatch=j;for(i=j,validTest&&(maskset.validPositions[validatedPos]=$.extend(!0,{},validTest),posMatch++,j++,begin<end&&i++);i<=lvp;i++){var t=positionsClone[i];if(void 0!==t&&!0!==t.generatedInput&&(end<=i||begin<=i&&IsEnclosedStatic(i,positionsClone,{begin:begin,end:end}))){for(;""!==getTest(posMatch).match.def;){if(!1===needsValidation&&positionsClone[posMatch]&&positionsClone[posMatch].match.nativeDef===t.match.nativeDef&&!0!==t.generatedInput)maskset.validPositions[posMatch]=$.extend(!0,{},positionsClone[posMatch]),maskset.validPositions[posMatch].input=t.input,trackbackPositions(void 0,posMatch,!0),j=posMatch+1,valid=!0;else if(opts.shiftPositions&&(positionCanMatchDefinition(posMatch,t.match.def)||"+"===t.match.def)){"+"===t.match.def&&getBuffer(!0);var result=isValid(posMatch,t.input,"+"!==t.match.def,"+"!==t.match.def);valid=!1!==result,j=(result.pos||posMatch)+1,needsValidation=!0}else valid=!0===t.generatedInput;if(valid)break;if(!valid&&end<posMatch&&isMask(posMatch,!0)&&(!0!==t.match.static||posMatch>maskset.maskLength))break;posMatch++}""==getTest(posMatch).match.def&&(valid=!1),posMatch=j}if(!valid)break}if(!valid)return maskset.validPositions=$.extend(!0,{},positionsClone),resetMaskSet(!0),!1}else validTest&&(maskset.validPositions[validatedPos]=$.extend(!0,{},validTest));return resetMaskSet(!0),!0}function isMask(pos,strict){var test=getTestTemplate(pos).match;if(""===test.def&&(test=getTest(pos).match),1!=test.static)return test.fn;if(!0!==strict&&-1<pos){var tests=getTests(pos);return tests.length>1+(""===tests[tests.length-1].match.def?1:0)}return!1}function seekNext(pos,newBlock){for(var position=pos+1;""!==getTest(position).match.def&&(!0===newBlock&&(!0!==getTest(position).match.newBlockMarker||!isMask(position))||!0!==newBlock&&!isMask(position));)position++;return position}function seekPrevious(pos,newBlock){var position=pos,tests;if(position<=0)return 0;for(;0<--position&&(!0===newBlock&&!0!==getTest(position).match.newBlockMarker||!0!==newBlock&&!isMask(position)&&(tests=getTests(position),tests.length<2||2===tests.length&&""===tests[1].match.def)););return position}function writeBuffer(input,buffer,caretPos,event,triggerEvents){if(event&&$.isFunction(opts.onBeforeWrite)){var result=opts.onBeforeWrite.call(inputmask,event,buffer,caretPos,opts);if(result){if(result.refreshFromBuffer){var refresh=result.refreshFromBuffer;refreshFromBuffer(!0===refresh?refresh:refresh.start,refresh.end,result.buffer||buffer),buffer=getBuffer(!0)}void 0!==caretPos&&(caretPos=void 0!==result.caret?result.caret:caretPos)}}if(void 0!==input&&(input.inputmask._valueSet(buffer.join("")),void 0===caretPos||void 0!==event&&"blur"===event.type?renderColorMask(input,caretPos,0===buffer.length):caret(input,caretPos),!0===triggerEvents)){var $input=$(input),nptVal=input.inputmask._valueGet();skipInputEvent=!0,$input.trigger("input"),setTimeout(function(){nptVal===getBufferTemplate().join("")?$input.trigger("cleared"):!0===isComplete(buffer)&&$input.trigger("complete")},0)}}function getPlaceholder(pos,test,returnPL){if(test=test||getTest(pos).match,void 0!==test.placeholder||!0===returnPL)return $.isFunction(test.placeholder)?test.placeholder(opts):test.placeholder;if(!0!==test.static)return opts.placeholder.charAt(pos%opts.placeholder.length);if(-1<pos&&void 0===maskset.validPositions[pos]){var tests=getTests(pos),staticAlternations=[],prevTest;if(tests.length>1+(""===tests[tests.length-1].match.def?1:0))for(var i=0;i<tests.length;i++)if(!0!==tests[i].match.optionality&&!0!==tests[i].match.optionalQuantifier&&(!0===tests[i].match.static||void 0===prevTest||!1!==tests[i].match.fn.test(prevTest.match.def,maskset,pos,!0,opts))&&(staticAlternations.push(tests[i]),!0===tests[i].match.static&&(prevTest=tests[i]),1<staticAlternations.length&&/[0-9a-bA-Z]/.test(staticAlternations[0].match.def)))return opts.placeholder.charAt(pos%opts.placeholder.length)}return test.def}function HandleNativePlaceholder(npt,value){if(ie){if(npt.inputmask._valueGet()!==value&&(npt.placeholder!==value||""===npt.placeholder)){var buffer=getBuffer().slice(),nptValue=npt.inputmask._valueGet();if(nptValue!==value){var lvp=getLastValidPosition();-1===lvp&&nptValue===getBufferTemplate().join("")?buffer=[]:-1!==lvp&&clearOptionalTail(buffer),writeBuffer(npt,buffer)}}}else npt.placeholder!==value&&(npt.placeholder=value,""===npt.placeholder&&npt.removeAttribute("placeholder"))}function determineNewCaretPosition(selectedCaret,tabbed){function doRadixFocus(clickPos){if(""!==opts.radixPoint){var vps=maskset.validPositions;if(void 0===vps[clickPos]||vps[clickPos].input===getPlaceholder(clickPos)){if(clickPos<seekNext(-1))return!0;var radixPos=$.inArray(opts.radixPoint,getBuffer());if(-1!==radixPos){for(var vp in vps)if(vps[vp]&&radixPos<vp&&vps[vp].input!==getPlaceholder(vp))return!1;return!0}}}return!1}if(tabbed&&(isRTL?selectedCaret.end=selectedCaret.begin:selectedCaret.begin=selectedCaret.end),selectedCaret.begin===selectedCaret.end)switch(opts.positionCaretOnClick){case"none":break;case"select":return{begin:0,end:getBuffer().length};case"ignore":return seekNext(getLastValidPosition());case"radixFocus":if(doRadixFocus(selectedCaret.begin)){var radixPos=getBuffer().join("").indexOf(opts.radixPoint);return opts.numericInput?seekNext(radixPos):radixPos}default:var clickPosition=selectedCaret.begin,lvclickPosition=getLastValidPosition(clickPosition,!0),lastPosition=seekNext(-1!==lvclickPosition||isMask(0)?lvclickPosition:0);if(clickPosition<lastPosition)return isMask(clickPosition,!0)||isMask(clickPosition-1,!0)?clickPosition:seekNext(clickPosition);var lvp=maskset.validPositions[lvclickPosition],tt=getTestTemplate(lastPosition,lvp?lvp.match.locator:void 0,lvp),placeholder=getPlaceholder(lastPosition,tt.match);if(""!==placeholder&&getBuffer()[lastPosition]!==placeholder&&!0!==tt.match.optionalQuantifier&&!0!==tt.match.newBlockMarker||!isMask(lastPosition,opts.keepStatic)&&tt.match.def===placeholder){var newPos=seekNext(lastPosition);(newPos<=clickPosition||clickPosition===lastPosition)&&(lastPosition=newPos)}return lastPosition}}var EventRuler={on:function on(input,eventName,eventHandler){var ev=function ev(e){var that=this,args;if(void 0===that.inputmask&&"FORM"!==this.nodeName){var imOpts=$.data(that,"_inputmask_opts");imOpts?new Inputmask(imOpts).mask(that):EventRuler.off(that)}else{if("setvalue"===e.type||"FORM"===this.nodeName||!(that.disabled||that.readOnly&&!("keydown"===e.type&&e.ctrlKey&&67===e.keyCode||!1===opts.tabThrough&&e.keyCode===Inputmask.keyCode.TAB))){switch(e.type){case"input":if(!0===skipInputEvent)return skipInputEvent=!1,e.preventDefault();if(mobile)return args=arguments,setTimeout(function(){eventHandler.apply(that,args),caret(that,that.inputmask.caretPos,void 0,!0)},0),!1;break;case"keydown":skipKeyPressEvent=!1,skipInputEvent=!1;break;case"keypress":if(!0===skipKeyPressEvent)return e.preventDefault();skipKeyPressEvent=!0;break;case"click":case"focus":return args=arguments,setTimeout(function(){eventHandler.apply(that,args)},0),!1}var returnVal=eventHandler.apply(that,arguments);return!1===returnVal&&(e.preventDefault(),e.stopPropagation()),returnVal}e.preventDefault()}};input.inputmask.events[eventName]=input.inputmask.events[eventName]||[],input.inputmask.events[eventName].push(ev),-1!==$.inArray(eventName,["submit","reset"])?null!==input.form&&$(input.form).on(eventName,ev):$(input).on(eventName,ev)},off:function off(input,event){var events;input.inputmask&&input.inputmask.events&&(event?(events=[],events[event]=input.inputmask.events[event]):events=input.inputmask.events,$.each(events,function(eventName,evArr){for(;0<evArr.length;){var ev=evArr.pop();-1!==$.inArray(eventName,["submit","reset"])?null!==input.form&&$(input.form).off(eventName,ev):$(input).off(eventName,ev)}delete input.inputmask.events[eventName]}))}},EventHandlers={keydownEvent:function keydownEvent(e){var input=this,$input=$(this),k=e.keyCode,pos=caret(this),kdResult=opts.onKeyDown.call(this,e,getBuffer(),pos,opts);if(void 0!==kdResult)return kdResult;if(k===Inputmask.keyCode.BACKSPACE||k===Inputmask.keyCode.DELETE||iphone&&k===Inputmask.keyCode.BACKSPACE_SAFARI||e.ctrlKey&&k===Inputmask.keyCode.X&&!isInputEventSupported("cut"))e.preventDefault(),handleRemove(this,k,pos),writeBuffer(this,getBuffer(!0),maskset.p,e,this.inputmask._valueGet()!==getBuffer().join(""));else if(k===Inputmask.keyCode.END||k===Inputmask.keyCode.PAGE_DOWN){e.preventDefault();var caretPos=seekNext(getLastValidPosition());caret(this,e.shiftKey?pos.begin:caretPos,caretPos,!0)}else k===Inputmask.keyCode.HOME&&!e.shiftKey||k===Inputmask.keyCode.PAGE_UP?(e.preventDefault(),caret(this,0,e.shiftKey?pos.begin:0,!0)):(opts.undoOnEscape&&k===Inputmask.keyCode.ESCAPE||90===k&&e.ctrlKey)&&!0!==e.altKey?(checkVal(this,!0,!1,undoValue.split("")),$input.trigger("click")):k!==Inputmask.keyCode.INSERT||e.shiftKey||e.ctrlKey?!0===opts.tabThrough&&k===Inputmask.keyCode.TAB&&(!0===e.shiftKey?(!0===getTest(pos.begin).match.static&&(pos.begin=seekNext(pos.begin)),pos.end=seekPrevious(pos.begin,!0),pos.begin=seekPrevious(pos.end,!0)):(pos.begin=seekNext(pos.begin,!0),pos.end=seekNext(pos.begin,!0),pos.end<maskset.maskLength&&pos.end--),pos.begin<maskset.maskLength&&(e.preventDefault(),caret(this,pos.begin,pos.end))):(opts.insertMode=!opts.insertMode,this.setAttribute("data-im-insert",opts.insertMode));ignorable=-1!==$.inArray(k,opts.ignorables)},keypressEvent:function keypressEvent(e,checkval,writeOut,strict,ndx){var input=this,$input=$(input),k=e.which||e.charCode||e.keyCode;if(!(!0===checkval||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||ignorable))return k===Inputmask.keyCode.ENTER&&undoValue!==getBuffer().join("")&&(undoValue=getBuffer().join(""),setTimeout(function(){$input.trigger("change")},0)),!0;if(k){46===k&&!1===e.shiftKey&&""!==opts.radixPoint&&(k=opts.radixPoint.charCodeAt(0));var pos=checkval?{begin:ndx,end:ndx}:caret(input),forwardPosition,c=String.fromCharCode(k);maskset.writeOutBuffer=!0;var valResult=isValid(pos,c,strict);if(!1!==valResult&&(resetMaskSet(!0),forwardPosition=void 0!==valResult.caret?valResult.caret:seekNext(valResult.pos.begin?valResult.pos.begin:valResult.pos),maskset.p=forwardPosition),forwardPosition=opts.numericInput&&void 0===valResult.caret?seekPrevious(forwardPosition):forwardPosition,!1!==writeOut&&(setTimeout(function(){opts.onKeyValidation.call(input,k,valResult,opts)},0),maskset.writeOutBuffer&&!1!==valResult)){var buffer=getBuffer();writeBuffer(input,buffer,forwardPosition,e,!0!==checkval)}if(e.preventDefault(),checkval)return!1!==valResult&&(valResult.forwardPosition=forwardPosition),valResult}},pasteEvent:function pasteEvent(e){var input=this,ev=e.originalEvent||e,inputValue=this.inputmask._valueGet(!0),caretPos=caret(this),tempValue;isRTL&&(tempValue=caretPos.end,caretPos.end=caretPos.begin,caretPos.begin=tempValue);var valueBeforeCaret=inputValue.substr(0,caretPos.begin),valueAfterCaret=inputValue.substr(caretPos.end,inputValue.length);if(valueBeforeCaret===(isRTL?getBufferTemplate().reverse():getBufferTemplate()).slice(0,caretPos.begin).join("")&&(valueBeforeCaret=""),valueAfterCaret===(isRTL?getBufferTemplate().reverse():getBufferTemplate()).slice(caretPos.end).join("")&&(valueAfterCaret=""),window.clipboardData&&window.clipboardData.getData)inputValue=valueBeforeCaret+window.clipboardData.getData("Text")+valueAfterCaret;else{if(!ev.clipboardData||!ev.clipboardData.getData)return!0;inputValue=valueBeforeCaret+ev.clipboardData.getData("text/plain")+valueAfterCaret}var pasteValue=inputValue;if($.isFunction(opts.onBeforePaste)){if(pasteValue=opts.onBeforePaste.call(inputmask,inputValue,opts),!1===pasteValue)return e.preventDefault();pasteValue=pasteValue||inputValue}return checkVal(this,!1,!1,pasteValue.toString().split("")),writeBuffer(this,getBuffer(),seekNext(getLastValidPosition()),e,undoValue!==getBuffer().join("")),e.preventDefault()},inputFallBackEvent:function inputFallBackEvent(e){function radixPointHandler(input,inputValue,caretPos){return"."===inputValue.charAt(caretPos.begin-1)&&""!==opts.radixPoint&&(inputValue=inputValue.split(""),inputValue[caretPos.begin-1]=opts.radixPoint.charAt(0),inputValue=inputValue.join("")),inputValue}function ieMobileHandler(input,inputValue,caretPos){if(iemobile){var inputChar=inputValue.replace(getBuffer().join(""),"");if(1===inputChar.length){var iv=inputValue.split("");iv.splice(caretPos.begin,0,inputChar),inputValue=iv.join("")}}return inputValue}var input=this,inputValue=input.inputmask._valueGet();if(getBuffer().join("")!==inputValue){var caretPos=caret(input);if(inputValue=radixPointHandler(input,inputValue,caretPos),inputValue=ieMobileHandler(input,inputValue,caretPos),getBuffer().join("")!==inputValue){var buffer=getBuffer().join(""),offset=!opts.numericInput&&inputValue.length>buffer.length?-1:0,frontPart=inputValue.substr(0,caretPos.begin),backPart=inputValue.substr(caretPos.begin),frontBufferPart=buffer.substr(0,caretPos.begin+offset),backBufferPart=buffer.substr(caretPos.begin+offset),selection=caretPos,entries="",isEntry=!1;if(frontPart!==frontBufferPart){var fpl=(isEntry=frontPart.length>=frontBufferPart.length)?frontPart.length:frontBufferPart.length,i;for(i=0;frontPart.charAt(i)===frontBufferPart.charAt(i)&&i<fpl;i++);isEntry&&(selection.begin=i-offset,entries+=frontPart.slice(i,selection.end))}if(backPart!==backBufferPart&&(backPart.length>backBufferPart.length?entries+=backPart.slice(0,1):backPart.length<backBufferPart.length&&(selection.end+=backBufferPart.length-backPart.length,isEntry||""===opts.radixPoint||""!==backPart||frontPart.charAt(selection.begin+offset-1)!==opts.radixPoint||(selection.begin--,entries=opts.radixPoint))),writeBuffer(input,getBuffer(),{begin:selection.begin+offset,end:selection.end+offset}),0<entries.length)document.activeElement!==input&&(input.focus(),caret(input,selection)),$.each(entries.split(""),function(ndx,entry){var keypress=new $.Event("keypress");keypress.which=entry.charCodeAt(0),ignorable=!1,EventHandlers.keypressEvent.call(input,keypress)});else{selection.begin===selection.end-1&&(selection.begin=seekPrevious(selection.begin+1),selection.begin===selection.end-1?caret(input,selection.begin):caret(input,selection.begin,selection.end));var keydown=new $.Event("keydown");keydown.keyCode=opts.numericInput?Inputmask.keyCode.BACKSPACE:Inputmask.keyCode.DELETE,EventHandlers.keydownEvent.call(input,keydown)}e.preventDefault()}}},beforeInputEvent:function beforeInputEvent(e){if(e.cancelable){var input=this,keydown,keypress;switch(e.inputType){case"insertText":return $.each(e.data.split(""),function(ndx,entry){keypress=new $.Event("keypress"),keypress.which=entry.charCodeAt(0),ignorable=!1,EventHandlers.keypressEvent.call(input,keypress)}),e.preventDefault();case"deleteContentBackward":return keydown=new $.Event("keydown"),keydown.keyCode=Inputmask.keyCode.BACKSPACE,EventHandlers.keydownEvent.call(input,keydown),e.preventDefault();case"deleteContentForward":return keydown=new $.Event("keydown"),keydown.keyCode=Inputmask.keyCode.DELETE,EventHandlers.keydownEvent.call(input,keydown),e.preventDefault()}}},setValueEvent:function setValueEvent(e,argument_1,argument_2){var input=this,value=e&&e.detail?e.detail[0]:argument_1;value=value||this.inputmask._valueGet(!0),applyInputValue(this,value),(e.detail&&void 0!==e.detail[1]||void 0!==argument_2)&&caret(this,e.detail?e.detail[1]:argument_2)},focusEvent:function focusEvent(e){var input=this,nptValue=this.inputmask._valueGet();opts.showMaskOnFocus&&nptValue!==getBuffer().join("")&&writeBuffer(this,getBuffer(),seekNext(getLastValidPosition())),!0!==opts.positionCaretOnTab||!1!==mouseEnter||isComplete(getBuffer())&&-1!==getLastValidPosition()||EventHandlers.clickEvent.apply(this,[e,!0]),undoValue=getBuffer().join("")},mouseleaveEvent:function mouseleaveEvent(){var input=this;mouseEnter=!1,opts.clearMaskOnLostFocus&&document.activeElement!==this&&HandleNativePlaceholder(this,originalPlaceholder)},clickEvent:function clickEvent(e,tabbed){var input=this;if(document.activeElement===this){var newCaretPosition=determineNewCaretPosition(caret(this),tabbed);void 0!==newCaretPosition&&caret(this,newCaretPosition)}},cutEvent:function cutEvent(e){var input=this,pos=caret(this),ev=e.originalEvent||e,clipboardData=window.clipboardData||ev.clipboardData,clipData=isRTL?getBuffer().slice(pos.end,pos.begin):getBuffer().slice(pos.begin,pos.end);clipboardData.setData("text",isRTL?clipData.reverse().join(""):clipData.join("")),document.execCommand&&document.execCommand("copy"),handleRemove(this,Inputmask.keyCode.DELETE,pos),writeBuffer(this,getBuffer(),maskset.p,e,undoValue!==getBuffer().join(""))},blurEvent:function blurEvent(e){var $input=$(this),input=this;if(this.inputmask){HandleNativePlaceholder(this,originalPlaceholder);var nptValue=this.inputmask._valueGet(),buffer=getBuffer().slice();""===nptValue&&void 0===colorMask||(opts.clearMaskOnLostFocus&&(-1===getLastValidPosition()&&nptValue===getBufferTemplate().join("")?buffer=[]:clearOptionalTail(buffer)),!1===isComplete(buffer)&&(setTimeout(function(){$input.trigger("incomplete")},0),opts.clearIncomplete&&(resetMaskSet(),buffer=opts.clearMaskOnLostFocus?[]:getBufferTemplate().slice())),writeBuffer(this,buffer,void 0,e)),undoValue!==getBuffer().join("")&&(undoValue=getBuffer().join(""),$input.trigger("change"))}},mouseenterEvent:function mouseenterEvent(){var input=this;mouseEnter=!0,document.activeElement!==this&&(null==originalPlaceholder&&this.placeholder!==originalPlaceholder&&(originalPlaceholder=this.placeholder),opts.showMaskOnHover&&HandleNativePlaceholder(this,(isRTL?getBuffer().slice().reverse():getBuffer()).join("")))},submitEvent:function submitEvent(){undoValue!==getBuffer().join("")&&$el.trigger("change"),opts.clearMaskOnLostFocus&&-1===getLastValidPosition()&&el.inputmask._valueGet&&el.inputmask._valueGet()===getBufferTemplate().join("")&&el.inputmask._valueSet(""),opts.clearIncomplete&&!1===isComplete(getBuffer())&&el.inputmask._valueSet(""),opts.removeMaskOnSubmit&&(el.inputmask._valueSet(el.inputmask.unmaskedvalue(),!0),setTimeout(function(){writeBuffer(el,getBuffer())},0))},resetEvent:function resetEvent(){el.inputmask.refreshValue=!0,setTimeout(function(){applyInputValue(el,el.inputmask._valueGet(!0))},0)}},valueBuffer;function checkVal(input,writeOut,strict,nptvl,initiatingEvent){var inputmask=this||input.inputmask,inputValue=nptvl.slice(),charCodes="",initialNdx=-1,result=void 0;function isTemplateMatch(ndx,charCodes){if(opts.regex)return!1;for(var targetTemplate=getMaskTemplate(!0,0,!1).slice(ndx,seekNext(ndx)).join("").replace(/'/g,""),charCodeNdx=targetTemplate.indexOf(charCodes);0<charCodeNdx&&" "===targetTemplate[charCodeNdx-1];)charCodeNdx--;var match=0===charCodeNdx&&!isMask(ndx)&&(getTest(ndx).match.nativeDef===charCodes.charAt(0)||!0===getTest(ndx).match.static&&getTest(ndx).match.nativeDef==="'"+charCodes.charAt(0)||" "===getTest(ndx).match.nativeDef&&(getTest(ndx+1).match.nativeDef===charCodes.charAt(0)||!0===getTest(ndx+1).match.static&&getTest(ndx+1).match.nativeDef==="'"+charCodes.charAt(0)));return!match&&0<charCodeNdx&&(inputmask.caretPos={begin:seekNext(charCodeNdx)}),match}resetMaskSet(),initialNdx=opts.radixPoint?determineNewCaretPosition(0):0,maskset.p=initialNdx,inputmask.caretPos={begin:initialNdx};var staticMatches=[],prevCaretPos=inputmask.caretPos,sndx,validPos,nextValid;if($.each(inputValue,function(ndx,charCode){if(void 0!==charCode)if(void 0===maskset.validPositions[ndx]&&inputValue[ndx]===getPlaceholder(ndx)&&isMask(ndx,!0)&&!1===isValid(ndx,inputValue[ndx],!0,void 0,void 0,!0))maskset.p++;else{var keypress=new $.Event("_checkval");keypress.which=charCode.charCodeAt(0),charCodes+=charCode;var lvp=getLastValidPosition(void 0,!0);isTemplateMatch(initialNdx,charCodes)?result=EventHandlers.keypressEvent.call(input,keypress,!0,!1,strict,lvp+1):(result=EventHandlers.keypressEvent.call(input,keypress,!0,!1,strict,inputmask.caretPos.begin),result&&(initialNdx=inputmask.caretPos.begin+1,charCodes="")),result?(void 0!==result.pos&&maskset.validPositions[result.pos]&&!0===maskset.validPositions[result.pos].match.static&&(staticMatches.push(result.pos),isRTL||(result.forwardPosition=result.pos+1)),writeBuffer(void 0,getBuffer(),result.forwardPosition,keypress,!1),inputmask.caretPos={begin:result.forwardPosition,end:result.forwardPosition},prevCaretPos=inputmask.caretPos):inputmask.caretPos=prevCaretPos}}),0<staticMatches.length)if(!isComplete(getBuffer())||staticMatches.length<seekNext(0))for(;void 0!==(sndx=staticMatches.pop());){var keypress=new $.Event("_checkval"),nextSndx=sndx+1;for(validPos=maskset.validPositions[sndx],validPos.generatedInput=!0,keypress.which=validPos.input.charCodeAt(0);(nextValid=maskset.validPositions[nextSndx])&&nextValid.input===validPos.input;)nextSndx++;result=EventHandlers.keypressEvent.call(input,keypress,!0,!1,strict,nextSndx),result&&void 0!==result.pos&&result.pos!==sndx&&maskset.validPositions[result.pos]&&!0===maskset.validPositions[result.pos].match.static&&staticMatches.push(result.pos)}else for(;sndx=staticMatches.pop();)validPos=maskset.validPositions[sndx],validPos&&(validPos.generatedInput=!0);writeOut&&writeBuffer(input,getBuffer(),result?result.forwardPosition:void 0,initiatingEvent||new $.Event("checkval"),initiatingEvent&&"input"===initiatingEvent.type)}function unmaskedvalue(input){if(input){if(void 0===input.inputmask)return input.value;input.inputmask&&input.inputmask.refreshValue&&applyInputValue(input,input.inputmask._valueGet(!0))}var umValue=[],vps=maskset.validPositions;for(var pndx in vps)vps[pndx]&&vps[pndx].match&&1!=vps[pndx].match.static&&umValue.push(vps[pndx].input);var unmaskedValue=0===umValue.length?"":(isRTL?umValue.reverse():umValue).join("");if($.isFunction(opts.onUnMask)){var bufferValue=(isRTL?getBuffer().slice().reverse():getBuffer()).join("");unmaskedValue=opts.onUnMask.call(inputmask,bufferValue,unmaskedValue,opts)}return unmaskedValue}function caret(input,begin,end,notranslate){function translatePosition(pos){return!isRTL||"number"!=typeof pos||opts.greedy&&""===opts.placeholder||!el||(pos=el.inputmask._valueGet().length-pos),pos}var range;if(void 0===begin)return"selectionStart"in input&&"selectionEnd"in input?(begin=input.selectionStart,end=input.selectionEnd):window.getSelection?(range=window.getSelection().getRangeAt(0),range.commonAncestorContainer.parentNode!==input&&range.commonAncestorContainer!==input||(begin=range.startOffset,end=range.endOffset)):document.selection&&document.selection.createRange&&(range=document.selection.createRange(),begin=0-range.duplicate().moveStart("character",-input.inputmask._valueGet().length),end=begin+range.text.length),{begin:notranslate?begin:translatePosition(begin),end:notranslate?end:translatePosition(end)};if($.isArray(begin)&&(end=isRTL?begin[0]:begin[1],begin=isRTL?begin[1]:begin[0]),void 0!==begin.begin&&(end=isRTL?begin.begin:begin.end,begin=isRTL?begin.end:begin.begin),"number"==typeof begin){begin=notranslate?begin:translatePosition(begin),end=notranslate?end:translatePosition(end),end="number"==typeof end?end:begin;var scrollCalc=parseInt(((input.ownerDocument.defaultView||window).getComputedStyle?(input.ownerDocument.defaultView||window).getComputedStyle(input,null):input.currentStyle).fontSize)*end;if(input.scrollLeft=scrollCalc>input.scrollWidth?scrollCalc:0,input.inputmask.caretPos={begin:begin,end:end},input===document.activeElement){if("setSelectionRange"in input)input.setSelectionRange(begin,end);else if(window.getSelection){if(range=document.createRange(),void 0===input.firstChild||null===input.firstChild){var textNode=document.createTextNode("");input.appendChild(textNode)}range.setStart(input.firstChild,begin<input.inputmask._valueGet().length?begin:input.inputmask._valueGet().length),range.setEnd(input.firstChild,end<input.inputmask._valueGet().length?end:input.inputmask._valueGet().length),range.collapse(!0);var sel=window.getSelection();sel.removeAllRanges(),sel.addRange(range)}else input.createTextRange&&(range=input.createTextRange(),range.collapse(!0),range.moveEnd("character",end),range.moveStart("character",begin),range.select());renderColorMask(input,{begin:begin,end:end})}}}function determineLastRequiredPosition(returnDefinition){var buffer=getMaskTemplate(!0,getLastValidPosition(),!0,!0),bl=buffer.length,pos,lvp=getLastValidPosition(),positions={},lvTest=maskset.validPositions[lvp],ndxIntlzr=void 0!==lvTest?lvTest.locator.slice():void 0,testPos;for(pos=lvp+1;pos<buffer.length;pos++)testPos=getTestTemplate(pos,ndxIntlzr,pos-1),ndxIntlzr=testPos.locator.slice(),positions[pos]=$.extend(!0,{},testPos);var lvTestAlt=lvTest&&void 0!==lvTest.alternation?lvTest.locator[lvTest.alternation]:void 0;for(pos=bl-1;lvp<pos&&(testPos=positions[pos],(testPos.match.optionality||testPos.match.optionalQuantifier&&testPos.match.newBlockMarker||lvTestAlt&&(lvTestAlt!==positions[pos].locator[lvTest.alternation]&&1!=testPos.match.static||!0===testPos.match.static&&testPos.locator[lvTest.alternation]&&checkAlternationMatch(testPos.locator[lvTest.alternation].toString().split(","),lvTestAlt.toString().split(","))&&""!==getTests(pos)[0].def))&&buffer[pos]===getPlaceholder(pos,testPos.match));pos--)bl--;return returnDefinition?{l:bl,def:positions[bl]?positions[bl].match:void 0}:bl}function clearOptionalTail(buffer){buffer.length=0;for(var template=getMaskTemplate(!0,0,!0,void 0,!0),lmnt;void 0!==(lmnt=template.shift());)buffer.push(lmnt);return buffer}function isComplete(buffer){if($.isFunction(opts.isComplete))return opts.isComplete(buffer,opts);if("*"!==opts.repeat){var complete=!1,lrp=determineLastRequiredPosition(!0),aml=seekPrevious(lrp.l);if(void 0===lrp.def||lrp.def.newBlockMarker||lrp.def.optionality||lrp.def.optionalQuantifier){complete=!0;for(var i=0;i<=aml;i++){var test=getTestTemplate(i).match;if(!0!==test.static&&void 0===maskset.validPositions[i]&&!0!==test.optionality&&!0!==test.optionalQuantifier||!0===test.static&&buffer[i]!==getPlaceholder(i,test)){complete=!1;break}}}return complete}}function handleRemove(input,k,pos,strict,fromIsValid){if((opts.numericInput||isRTL)&&(k===Inputmask.keyCode.BACKSPACE?k=Inputmask.keyCode.DELETE:k===Inputmask.keyCode.DELETE&&(k=Inputmask.keyCode.BACKSPACE),isRTL)){var pend=pos.end;pos.end=pos.begin,pos.begin=pend}if(k===Inputmask.keyCode.BACKSPACE&&pos.end-pos.begin<1?(pos.begin=seekPrevious(pos.begin),void 0!==maskset.validPositions[pos.begin]&&maskset.validPositions[pos.begin].input===opts.groupSeparator&&pos.begin--):k===Inputmask.keyCode.DELETE&&pos.begin===pos.end&&(pos.end=isMask(pos.end,!0)&&maskset.validPositions[pos.end]&&maskset.validPositions[pos.end].input!==opts.radixPoint?pos.end+1:seekNext(pos.end)+1,void 0!==maskset.validPositions[pos.begin]&&maskset.validPositions[pos.begin].input===opts.groupSeparator&&pos.end++),revalidateMask(pos),!0!==strict&&!1!==opts.keepStatic||null!==opts.regex){var result=alternate(!0);if(result){var newPos=void 0!==result.caret?result.caret:result.pos?seekNext(result.pos.begin?result.pos.begin:result.pos):getLastValidPosition(-1,!0);(k!==Inputmask.keyCode.DELETE||pos.begin>newPos)&&pos.begin}}var lvp=getLastValidPosition(pos.begin,!0);if(lvp<pos.begin||-1===pos.begin)maskset.p=seekNext(lvp);else if(!0!==strict&&(maskset.p=pos.begin,!0!==fromIsValid))for(;maskset.p<lvp&&void 0===maskset.validPositions[maskset.p];)maskset.p++}function initializeColorMask(input){var computedStyle=(input.ownerDocument.defaultView||window).getComputedStyle(input,null);function findCaretPos(clientx){var e=document.createElement("span"),caretPos;for(var style in computedStyle)isNaN(style)&&-1!==style.indexOf("font")&&(e.style[style]=computedStyle[style]);e.style.textTransform=computedStyle.textTransform,e.style.letterSpacing=computedStyle.letterSpacing,e.style.position="absolute",e.style.height="auto",e.style.width="auto",e.style.visibility="hidden",e.style.whiteSpace="nowrap",document.body.appendChild(e);var inputText=input.inputmask._valueGet(),previousWidth=0,itl;for(caretPos=0,itl=inputText.length;caretPos<=itl;caretPos++){if(e.innerHTML+=inputText.charAt(caretPos)||"_",e.offsetWidth>=clientx){var offset1=clientx-previousWidth,offset2=e.offsetWidth-clientx;e.innerHTML=inputText.charAt(caretPos),offset1-=e.offsetWidth/3,caretPos=offset1<offset2?caretPos-1:caretPos;break}previousWidth=e.offsetWidth}return document.body.removeChild(e),caretPos}var template=document.createElement("div");template.style.width=computedStyle.width,template.style.textAlign=computedStyle.textAlign,colorMask=document.createElement("div"),input.inputmask.colorMask=colorMask,colorMask.className="im-colormask",input.parentNode.insertBefore(colorMask,input),input.parentNode.removeChild(input),colorMask.appendChild(input),colorMask.appendChild(template),input.style.left=template.offsetLeft+"px",$(colorMask).on("mouseleave",function(e){return EventHandlers.mouseleaveEvent.call(input,[e])}),$(colorMask).on("mouseenter",function(e){return EventHandlers.mouseenterEvent.call(input,[e])}),$(colorMask).on("click",function(e){return caret(input,findCaretPos(e.clientX)),EventHandlers.clickEvent.call(input,[e])})}function renderColorMask(input,caretPos,clear){var maskTemplate=[],isStatic=!1,test,testPos,ndxIntlzr,pos=0;function setEntry(entry){if(void 0===entry&&(entry=""),isStatic||!0!==test.static&&void 0!==testPos.input)if(isStatic&&(!0!==test.static&&void 0!==testPos.input||""===test.def)){isStatic=!1;var mtl=maskTemplate.length;maskTemplate[mtl-1]=maskTemplate[mtl-1]+"</span>",maskTemplate.push(entry)}else maskTemplate.push(entry);else isStatic=!0,maskTemplate.push("<span class='im-static'>"+entry)}function setCaret(){document.activeElement===input&&(maskTemplate.splice(caretPos.begin,0,caretPos.begin===caretPos.end||caretPos.end>maskset.maskLength?'<mark class="im-caret" style="border-right-width: 1px;border-right-style: solid;">':'<mark class="im-caret-select">'),maskTemplate.splice(caretPos.end+1,0,"</mark>"))}if(void 0!==colorMask){var buffer=getBuffer();if(void 0===caretPos?caretPos=caret(input):void 0===caretPos.begin&&(caretPos={begin:caretPos,end:caretPos}),!0!==clear){for(var lvp=getLastValidPosition();maskset.validPositions[pos]?(testPos=maskset.validPositions[pos],test=testPos.match,ndxIntlzr=testPos.locator.slice(),setEntry(buffer[pos])):(testPos=getTestTemplate(pos,ndxIntlzr,pos-1),test=testPos.match,ndxIntlzr=testPos.locator.slice(),!1===opts.jitMasking||pos<lvp||"number"==typeof opts.jitMasking&&isFinite(opts.jitMasking)&&opts.jitMasking>pos?setEntry(getPlaceholder(pos,test)):isStatic=!1),pos++,(void 0===maxLength||pos<maxLength)&&(!0!==test.static||""!==test.def)||pos<lvp||isStatic;);isStatic&&setEntry(),setCaret()}var template=colorMask.getElementsByTagName("div")[0];template.innerHTML=maskTemplate.join(""),input.inputmask.positionColorMask(input,template)}}function applyInputValue(input,value){input.inputmask.refreshValue=!1,$.isFunction(opts.onBeforeMask)&&(value=opts.onBeforeMask.call(inputmask,value,opts)||value),value=value.toString().split(""),checkVal(input,!0,!1,value),undoValue=getBuffer().join(""),(opts.clearMaskOnLostFocus||opts.clearIncomplete)&&input.inputmask._valueGet()===getBufferTemplate().join("")&&-1===getLastValidPosition()&&input.inputmask._valueSet("")}function mask(elem){function isElementTypeSupported(input,opts){function patchValueProperty(npt){var valueGet,valueSet;function patchValhook(type){if($.valHooks&&(void 0===$.valHooks[type]||!0!==$.valHooks[type].inputmaskpatch)){var valhookGet=$.valHooks[type]&&$.valHooks[type].get?$.valHooks[type].get:function(elem){return elem.value},valhookSet=$.valHooks[type]&&$.valHooks[type].set?$.valHooks[type].set:function(elem,value){return elem.value=value,elem};$.valHooks[type]={get:function get(elem){if(elem.inputmask){if(elem.inputmask.opts.autoUnmask)return elem.inputmask.unmaskedvalue();var result=valhookGet(elem);return-1!==getLastValidPosition(void 0,void 0,elem.inputmask.maskset.validPositions)||!0!==opts.nullable?result:""}return valhookGet(elem)},set:function set(elem,value){var result=valhookSet(elem,value);return elem.inputmask&&applyInputValue(elem,value),result},inputmaskpatch:!0}}}function getter(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==getLastValidPosition()||!0!==opts.nullable?document.activeElement===this&&opts.clearMaskOnLostFocus?(isRTL?clearOptionalTail(getBuffer().slice()).reverse():clearOptionalTail(getBuffer().slice())).join(""):valueGet.call(this):"":valueGet.call(this)}function setter(value){valueSet.call(this,value),this.inputmask&&applyInputValue(this,value)}function installNativeValueSetFallback(npt){EventRuler.on(npt,"mouseenter",function(){var input=this,value=this.inputmask._valueGet(!0);value!==(isRTL?getBuffer().reverse():getBuffer()).join("")&&applyInputValue(this,value)})}if(!npt.inputmask.__valueGet){if(!0!==opts.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===_typeof("test".__proto__)?function(object){return object.__proto__}:function(object){return object.constructor.prototype});var valueProperty=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(npt),"value"):void 0;valueProperty&&valueProperty.get&&valueProperty.set?(valueGet=valueProperty.get,valueSet=valueProperty.set,Object.defineProperty(npt,"value",{get:getter,set:setter,configurable:!0})):"INPUT"!==npt.tagName&&(valueGet=function valueGet(){return this.textContent},valueSet=function valueSet(value){this.textContent=value},Object.defineProperty(npt,"value",{get:getter,set:setter,configurable:!0}))}else document.__lookupGetter__&&npt.__lookupGetter__("value")&&(valueGet=npt.__lookupGetter__("value"),valueSet=npt.__lookupSetter__("value"),npt.__defineGetter__("value",getter),npt.__defineSetter__("value",setter));npt.inputmask.__valueGet=valueGet,npt.inputmask.__valueSet=valueSet}npt.inputmask._valueGet=function(overruleRTL){return isRTL&&!0!==overruleRTL?valueGet.call(this.el).split("").reverse().join(""):valueGet.call(this.el)},npt.inputmask._valueSet=function(value,overruleRTL){valueSet.call(this.el,null==value?"":!0!==overruleRTL&&isRTL?value.split("").reverse().join(""):value)},void 0===valueGet&&(valueGet=function valueGet(){return this.value},valueSet=function valueSet(value){this.value=value},patchValhook(npt.type),installNativeValueSetFallback(npt))}}var elementType=input.getAttribute("type"),isSupported="INPUT"===input.tagName&&-1!==$.inArray(elementType,opts.supportsInputType)||input.isContentEditable||"TEXTAREA"===input.tagName;if(!isSupported)if("INPUT"===input.tagName){var el=document.createElement("input");el.setAttribute("type",elementType),isSupported="text"===el.type,el=null}else isSupported="partial";return!1!==isSupported?patchValueProperty(input):input.inputmask=void 0,isSupported}EventRuler.off(elem);var isSupported=isElementTypeSupported(elem,opts);if(!1!==isSupported&&(el=elem,$el=$(el),originalPlaceholder=el.placeholder,maxLength=void 0!==el?el.maxLength:void 0,-1===maxLength&&(maxLength=void 0),!0===opts.colorMask&&initializeColorMask(el),mobile&&("inputmode"in el&&(el.inputmode=opts.inputmode,el.setAttribute("inputmode",opts.inputmode)),!0===opts.disablePredictiveText&&("autocorrect"in el?el.autocorrect=!1:(!0!==opts.colorMask&&initializeColorMask(el),el.type="password"))),!0===isSupported&&(el.setAttribute("data-im-insert",opts.insertMode),opts.showMaskOnFocus=opts.showMaskOnFocus&&-1===["cc-number","cc-exp"].indexOf(el.autocomplete),EventRuler.on(el,"submit",EventHandlers.submitEvent),EventRuler.on(el,"reset",EventHandlers.resetEvent),EventRuler.on(el,"blur",EventHandlers.blurEvent),EventRuler.on(el,"focus",EventHandlers.focusEvent),!0!==opts.colorMask&&(EventRuler.on(el,"click",EventHandlers.clickEvent),EventRuler.on(el,"mouseleave",EventHandlers.mouseleaveEvent),EventRuler.on(el,"mouseenter",EventHandlers.mouseenterEvent)),EventRuler.on(el,"paste",EventHandlers.pasteEvent),EventRuler.on(el,"cut",EventHandlers.cutEvent),EventRuler.on(el,"complete",opts.oncomplete),EventRuler.on(el,"incomplete",opts.onincomplete),EventRuler.on(el,"cleared",opts.oncleared),mobile||!0===opts.inputEventOnly?el.removeAttribute("maxLength"):(EventRuler.on(el,"keydown",EventHandlers.keydownEvent),EventRuler.on(el,"keypress",EventHandlers.keypressEvent)),EventRuler.on(el,"input",EventHandlers.inputFallBackEvent),EventRuler.on(el,"beforeinput",EventHandlers.beforeInputEvent)),EventRuler.on(el,"setvalue",EventHandlers.setValueEvent),undoValue=getBufferTemplate().join(""),""!==el.inputmask._valueGet(!0)||!1===opts.clearMaskOnLostFocus||document.activeElement===el)){applyInputValue(el,el.inputmask._valueGet(!0),opts);var buffer=getBuffer().slice();!1===isComplete(buffer)&&opts.clearIncomplete&&resetMaskSet(),opts.clearMaskOnLostFocus&&document.activeElement!==el&&(-1===getLastValidPosition()?buffer=[]:clearOptionalTail(buffer)),(!1===opts.clearMaskOnLostFocus||opts.showMaskOnFocus&&document.activeElement===el||""!==el.inputmask._valueGet(!0))&&writeBuffer(el,buffer),document.activeElement===el&&caret(el,seekNext(getLastValidPosition()))}}if(void 0!==actionObj)switch(actionObj.action){case"isComplete":return el=actionObj.el,isComplete(getBuffer());case"unmaskedvalue":return void 0!==el&&void 0===actionObj.value||(valueBuffer=actionObj.value,valueBuffer=($.isFunction(opts.onBeforeMask)&&opts.onBeforeMask.call(inputmask,valueBuffer,opts)||valueBuffer).split(""),checkVal.call(this,void 0,!1,!1,valueBuffer),$.isFunction(opts.onBeforeWrite)&&opts.onBeforeWrite.call(inputmask,void 0,getBuffer(),0,opts)),unmaskedvalue(el);case"mask":mask(el);break;case"format":return valueBuffer=($.isFunction(opts.onBeforeMask)&&opts.onBeforeMask.call(inputmask,actionObj.value,opts)||actionObj.value).split(""),checkVal.call(this,void 0,!0,!1,valueBuffer),actionObj.metadata?{value:isRTL?getBuffer().slice().reverse().join(""):getBuffer().join(""),metadata:maskScope.call(this,{action:"getmetadata"},maskset,opts)}:isRTL?getBuffer().slice().reverse().join(""):getBuffer().join("");case"isValid":actionObj.value?(valueBuffer=($.isFunction(opts.onBeforeMask)&&opts.onBeforeMask.call(inputmask,actionObj.value,opts)||actionObj.value).split(""),checkVal.call(this,void 0,!0,!1,valueBuffer)):actionObj.value=isRTL?getBuffer().slice().reverse().join(""):getBuffer().join("");for(var buffer=getBuffer(),rl=determineLastRequiredPosition(),lmib=buffer.length-1;rl<lmib&&!isMask(lmib);lmib--);return buffer.splice(rl,lmib+1-rl),isComplete(buffer)&&actionObj.value===(isRTL?getBuffer().slice().reverse().join(""):getBuffer().join(""));case"getemptymask":return getBufferTemplate().join("");case"remove":if(el&&el.inputmask){$.data(el,"_inputmask_opts",null),$el=$(el);var cv=opts.autoUnmask?unmaskedvalue(el):el.inputmask._valueGet(opts.autoUnmask),valueProperty;cv!==getBufferTemplate().join("")?el.inputmask._valueSet(cv,opts.autoUnmask):el.inputmask._valueSet(""),EventRuler.off(el),el.inputmask.colorMask&&(colorMask=el.inputmask.colorMask,colorMask.removeChild(el),colorMask.parentNode.insertBefore(el,colorMask),colorMask.parentNode.removeChild(colorMask)),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?(valueProperty=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(el),"value"),valueProperty&&el.inputmask.__valueGet&&Object.defineProperty(el,"value",{get:el.inputmask.__valueGet,set:el.inputmask.__valueSet,configurable:!0})):document.__lookupGetter__&&el.__lookupGetter__("value")&&el.inputmask.__valueGet&&(el.__defineGetter__("value",el.inputmask.__valueGet),el.__defineSetter__("value",el.inputmask.__valueSet)),el.inputmask=void 0}return el;case"getmetadata":if($.isArray(maskset.metadata)){var maskTarget=getMaskTemplate(!0,0,!1).join("");return $.each(maskset.metadata,function(ndx,mtdt){if(mtdt.mask===maskTarget)return maskTarget=mtdt,!1}),maskTarget}return maskset.metadata}}},function(module,exports,__webpack_require__){function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var Inputmask=__webpack_require__(3),$=Inputmask.dependencyLib,formatCode={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return pad(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return pad(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return pad(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return pad(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return pad(Date.prototype.getHours.call(this),2)}],hhh:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return pad(Date.prototype.getHours.call(this),2)}],HHH:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return pad(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return pad(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return pad(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return pad(Date.prototype.getMilliseconds.call(this),2)}],t:["[ap]"],tt:["[ap]m"],T:["[AP]"],TT:["[AP]M"],Z:[""],o:[""],S:[""]},formatAlias={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function getTokenizer(opts){if(!opts.tokenizer){var tokens=[];for(var ndx in formatCode)-1===tokens.indexOf(ndx[0])&&tokens.push(ndx[0]);opts.tokenizer="("+tokens.join("+|")+")+?|.",opts.tokenizer=new RegExp(opts.tokenizer,"g")}return opts.tokenizer}function isValidDate(dateParts,currentResult){return(!isFinite(dateParts.rawday)||"29"==dateParts.day&&!isFinite(dateParts.rawyear)||new Date(dateParts.date.getFullYear(),isFinite(dateParts.rawmonth)?dateParts.month:dateParts.date.getMonth()+1,0).getDate()>=dateParts.day)&&currentResult}function isDateInRange(dateParts,opts){var result=!0;if(opts.min){if(dateParts.rawyear){var rawYear=dateParts.rawyear.replace(/[^0-9]/g,""),minYear=opts.min.year.substr(0,rawYear.length);result=minYear<=rawYear}dateParts.year===dateParts.rawyear&&opts.min.date.getTime()==opts.min.date.getTime()&&(result=opts.min.date.getTime()<=dateParts.date.getTime())}return result&&opts.max&&opts.max.date.getTime()==opts.max.date.getTime()&&(result=opts.max.date.getTime()>=dateParts.date.getTime()),result}function parse(format,dateObjValue,opts,raw){for(var mask="",match;match=getTokenizer(opts).exec(format);)if(void 0===dateObjValue)if(formatCode[match[0]])mask+="("+formatCode[match[0]][0]+")";else switch(match[0]){case"[":mask+="(";break;case"]":mask+=")?";break;default:mask+=Inputmask.escapeRegex(match[0])}else if(formatCode[match[0]])if(!0!==raw&&formatCode[match[0]][3]){var getFn=formatCode[match[0]][3];mask+=getFn.call(dateObjValue.date)}else formatCode[match[0]][2]?mask+=dateObjValue["raw"+formatCode[match[0]][2]]:mask+=match[0];else mask+=match[0];return mask}function pad(val,len){for(val=String(val),len=len||2;val.length<len;)val="0"+val;return val}function analyseMask(maskString,format,opts){var dateObj={date:new Date(1,0,1)},targetProp,mask=maskString,match,dateOperation;function extendProperty(value){var correctedValue=value.replace(/[^0-9]/g,"0");return correctedValue}function setValue(dateObj,value,opts){dateObj[targetProp]=extendProperty(value),dateObj["raw"+targetProp]=value,void 0!==dateOperation&&dateOperation.call(dateObj.date,"month"==targetProp?parseInt(dateObj[targetProp])-1:dateObj[targetProp])}if("string"==typeof mask){for(;match=getTokenizer(opts).exec(format);){var value=mask.slice(0,match[0].length);formatCode.hasOwnProperty(match[0])&&(targetProp=formatCode[match[0]][2],dateOperation=formatCode[match[0]][1],setValue(dateObj,value,opts)),mask=mask.slice(value.length)}return dateObj}if(mask&&"object"===_typeof(mask)&&mask.hasOwnProperty("date"))return mask}Inputmask.extendAliases({datetime:{mask:function mask(opts){return formatCode.S=opts.i18n.ordinalSuffix.join("|"),opts.inputFormat=formatAlias[opts.inputFormat]||opts.inputFormat,opts.displayFormat=formatAlias[opts.displayFormat]||opts.displayFormat||opts.inputFormat,opts.outputFormat=formatAlias[opts.outputFormat]||opts.outputFormat||opts.inputFormat,opts.placeholder=""!==opts.placeholder?opts.placeholder:opts.inputFormat.replace(/[[\]]/,""),opts.regex=parse(opts.inputFormat,void 0,opts),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:void 0,outputFormat:void 0,min:null,max:null,i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},preValidation:function preValidation(buffer,pos,c,isSelection,opts,maskset){var calcPos=0,targetMatch,match;if(isNaN(c)&&buffer[pos]!==c){for(;match=getTokenizer(opts).exec(opts.inputFormat);)if(calcPos+=match[0].length,pos<=calcPos){targetMatch=match,match=getTokenizer(opts).exec(opts.inputFormat);break}if(match&&match[0]===c&&1<targetMatch[0].length)return buffer[pos]=buffer[pos-1],buffer[pos-1]="0",{fuzzy:!0,buffer:buffer,refreshFromBuffer:{start:pos-1,end:pos+1},pos:pos+1}}return!0},postValidation:function postValidation(buffer,pos,currentResult,opts){opts.min=analyseMask(opts.min,opts.inputFormat,opts),opts.max=analyseMask(opts.max,opts.inputFormat,opts),currentResult.fuzzy&&(buffer=currentResult.buffer,pos=currentResult.pos);var result=currentResult,dateParts=analyseMask(buffer.join(""),opts.inputFormat,opts);return result&&dateParts.date.getTime()==dateParts.date.getTime()&&(result=isValidDate(dateParts,result),result=result&&isDateInRange(dateParts,opts)),pos&&result&&currentResult.pos!==pos?{buffer:parse(opts.inputFormat,dateParts,opts),refreshFromBuffer:{start:pos,end:currentResult.pos}}:result},onKeyDown:function onKeyDown(e,buffer,caretPos,opts){var input=this;if(e.ctrlKey&&e.keyCode===Inputmask.keyCode.RIGHT){for(var today=new Date,match,date="";match=getTokenizer(opts).exec(opts.inputFormat);)"d"===match[0].charAt(0)?date+=pad(today.getDate(),match[0].length):"m"===match[0].charAt(0)?date+=pad(today.getMonth()+1,match[0].length):"yyyy"===match[0]?date+=today.getFullYear().toString():"y"===match[0].charAt(0)&&(date+=pad(today.getYear(),match[0].length));this.inputmask._valueSet(date),$(this).trigger("setvalue")}},onUnMask:function onUnMask(maskedValue,unmaskedValue,opts){return unmaskedValue?parse(opts.outputFormat,analyseMask(maskedValue,opts.inputFormat,opts),opts,!0):unmaskedValue},casing:function casing(elem,test,pos,validPositions){return 0==test.nativeDef.indexOf("[ap]")?elem.toLowerCase():0==test.nativeDef.indexOf("[AP]")?elem.toUpperCase():elem},insertMode:!1,shiftPositions:!1}}),module.exports=Inputmask},function(module,exports,__webpack_require__){var Inputmask=__webpack_require__(3),$=Inputmask.dependencyLib;function autoEscape(txt,opts){for(var escapedTxt="",i=0;i<txt.length;i++)Inputmask.prototype.definitions[txt.charAt(i)]||opts.definitions[txt.charAt(i)]||opts.optionalmarker.start===txt.charAt(i)||opts.optionalmarker.end===txt.charAt(i)||opts.quantifiermarker.start===txt.charAt(i)||opts.quantifiermarker.end===txt.charAt(i)||opts.groupmarker.start===txt.charAt(i)||opts.groupmarker.end===txt.charAt(i)||opts.alternatormarker===txt.charAt(i)?escapedTxt+="\\"+txt.charAt(i):escapedTxt+=txt.charAt(i);return escapedTxt}function alignDigits(buffer,digits,opts){if(0<digits&&!opts.digitsOptional&&0<buffer.length){var radixPosition=$.inArray(opts.radixPoint,buffer);-1===radixPosition&&(buffer.push(opts.radixPoint),radixPosition=buffer.length-1);for(var i=1;i<=digits;i++)buffer[radixPosition+i]=buffer[radixPosition+i]||"0"}return buffer}function findValidator(symbol,maskset){var posNdx=0;if("+"===symbol){for(posNdx in maskset.validPositions);posNdx=parseInt(posNdx)}for(var tstNdx in maskset.tests)if(tstNdx=parseInt(tstNdx),posNdx<=tstNdx)for(var ndx=0,ndxl=maskset.tests[tstNdx].length;ndx<ndxl;ndx++)if((void 0===maskset.validPositions[tstNdx]||"-"===symbol)&&maskset.tests[tstNdx][ndx].match.def===symbol)return tstNdx+(void 0!==maskset.validPositions[tstNdx]&&"-"!==symbol?1:0);return posNdx}function findValid(symbol,maskset){var ret=-1;return $.each(maskset.validPositions,function(ndx,tst){if(tst.match.def===symbol)return ret=parseInt(ndx),!1}),ret}function parseMinMaxOptions(opts){void 0===opts.parseMinMaxOptions&&(null!==opts.min&&(opts.min=opts.min.toString().replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),""),","===opts.radixPoint&&(opts.min=opts.min.replace(opts.radixPoint,".")),opts.min=isFinite(opts.min)?parseFloat(opts.min):NaN,isNaN(opts.min)&&(opts.min=Number.MIN_VALUE)),null!==opts.max&&(opts.max=opts.max.toString().replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),""),","===opts.radixPoint&&(opts.max=opts.max.replace(opts.radixPoint,".")),opts.max=isFinite(opts.max)?parseFloat(opts.max):NaN,isNaN(opts.max)&&(opts.max=Number.MAX_VALUE)),opts.parseMinMaxOptions="done")}function genMask(opts){opts.repeat=0,opts.groupSeparator===opts.radixPoint&&opts.digits&&"0"!==opts.digits&&("."===opts.radixPoint?opts.groupSeparator=",":","===opts.radixPoint?opts.groupSeparator=".":opts.groupSeparator="")," "===opts.groupSeparator&&(opts.skipOptionalPartCharacter=void 0),1<opts.placeholder.length&&(opts.placeholder=opts.placeholder.charAt(0)),"radixFocus"===opts.positionCaretOnClick&&""===opts.placeholder&&(opts.positionCaretOnClick="lvp");var decimalDef="0";!0===opts.numericInput&&void 0===opts.__financeInput?(decimalDef="1",opts.positionCaretOnClick="radixFocus"===opts.positionCaretOnClick?"lvp":opts.positionCaretOnClick,isNaN(opts.digits)&&(opts.digits=2),opts._radixDance=!1):(opts.__financeInput=!1,opts.numericInput=!0);var mask="[+]",altMask;if(mask+=autoEscape(opts.prefix,opts),""!==opts.groupSeparator?mask+=opts._mask(opts):mask+="9{+}",void 0!==opts.digits){var dq=opts.digits.toString().split(",");isFinite(dq[0])&&dq[1]&&isFinite(dq[1])?mask+=opts.radixPoint+decimalDef+"{"+opts.digits+"}":(isNaN(opts.digits)||0<parseInt(opts.digits))&&(opts.digitsOptional?(altMask=mask+opts.radixPoint+decimalDef+"{0,"+opts.digits+"}",opts.keepStatic=!0):mask+=opts.radixPoint+decimalDef+"{"+opts.digits+"}")}return mask+=autoEscape(opts.suffix,opts),mask+="[-]",altMask&&(mask=[altMask+autoEscape(opts.suffix,opts)+"[-]",mask]),opts.greedy=!1,parseMinMaxOptions(opts),mask}function hanndleRadixDance(pos,c,radixPos,opts){return opts._radixDance&&opts.numericInput&&c!==opts.negationSymbol.back&&pos<=radixPos&&(0<radixPos||c==opts.radixPoint)&&(pos-=1),pos}function decimalValidator(chrs,maskset,pos,strict,opts){var radixPos=maskset.buffer.indexOf(opts.radixPoint),result=-1!==radixPos&&new RegExp("[0-9\uff11-\uff19]").test(chrs);return opts._radixDance&&result&&null==maskset.validPositions[radixPos]?{insert:{pos:radixPos===pos?radixPos+1:radixPos,c:opts.radixPoint},pos:pos}:result}function checkForLeadingZeroes(buffer,opts){var numberMatches=new RegExp("(^"+(""!=opts.negationSymbol.front?Inputmask.escapeRegex(opts.negationSymbol.front)+"?":"")+Inputmask.escapeRegex(opts.prefix)+")(.*)("+Inputmask.escapeRegex(opts.suffix)+(""!=opts.negationSymbol.back?Inputmask.escapeRegex(opts.negationSymbol.back)+"?":"")+"$)").exec(buffer.slice().reverse().join("")),number=numberMatches?numberMatches[2]:"",leadingzeroes=!1;return number&&(number=number.split(opts.radixPoint.charAt(0))[0],leadingzeroes=new RegExp("^[0"+opts.groupSeparator+"]*").exec(number)),!(!leadingzeroes||!(1<leadingzeroes[0].length||0<leadingzeroes[0].length&&leadingzeroes[0].length<number.length))&&leadingzeroes}Inputmask.extendAliases({numeric:{mask:genMask,_mask:function _mask(opts){return"("+opts.groupSeparator+"999){+|1}"},placeholder:"0",greedy:!1,digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",rightAlign:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputmode:"numeric",definitions:{0:{validator:decimalValidator},1:{validator:decimalValidator,definitionSymbol:"*"},"+":{validator:function validator(chrs,maskset,pos,strict,opts){return opts.allowMinus&&("-"===chrs||chrs===opts.negationSymbol.front)}},"-":{validator:function validator(chrs,maskset,pos,strict,opts){return opts.allowMinus&&chrs===opts.negationSymbol.back}}},preValidation:function preValidation(buffer,pos,c,isSelection,opts,maskset,caretPos){var radixPos=$.inArray(opts.radixPoint,buffer);if(pos=hanndleRadixDance(pos,c,radixPos,opts),"-"!==c&&c!==opts.negationSymbol.front)return-1!==radixPos&&!0===opts._radixDance&&!1===isSelection&&c===opts.radixPoint&&void 0!==opts.digits&&(isNaN(opts.digits)||0<parseInt(opts.digits))&&radixPos!==pos?{caret:opts._radixDance&&pos===radixPos-1?radixPos+1:radixPos}:{rewritePosition:isSelection&&caretPos.end<radixPos?radixPos:pos};if(!0!==opts.allowMinus)return!1;var isNegative=!1,front=findValid("+",maskset),back=findValid("-",maskset);return-1!==front&&(isNegative=[front,back]),!1!==isNegative?{remove:isNegative,caret:pos<radixPos?pos+1:pos}:{insert:[{pos:findValidator("+",maskset),c:opts.negationSymbol.front,fromIsValid:!0},{pos:findValidator("-",maskset),c:opts.negationSymbol.back,fromIsValid:void 0}],caret:pos<radixPos?pos+1:pos}},postValidation:function postValidation(buffer,pos,currentResult,opts){if(null!==opts.min||null!==opts.max){var unmasked=opts.onUnMask(buffer.slice().reverse().join(""),void 0,$.extend({},opts,{unmaskAsNumber:!0}));if(null!==opts.min&&unmasked<opts.min&&unmasked.toString().length>=opts.min.toString().length)return!1;if(null!==opts.max&&unmasked>opts.max)return!1}return currentResult},onUnMask:function onUnMask(maskedValue,unmaskedValue,opts){if(""===unmaskedValue&&!0===opts.nullable)return unmaskedValue;var processValue=maskedValue.replace(opts.prefix,"");return processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),""),""!==opts.placeholder.charAt(0)&&(processValue=processValue.replace(new RegExp(opts.placeholder.charAt(0),"g"),"0")),opts.unmaskAsNumber?(""!==opts.radixPoint&&-1!==processValue.indexOf(opts.radixPoint)&&(processValue=processValue.replace(Inputmask.escapeRegex.call(this,opts.radixPoint),".")),processValue=processValue.replace(new RegExp("^"+Inputmask.escapeRegex(opts.negationSymbol.front)),"-"),processValue=processValue.replace(new RegExp(Inputmask.escapeRegex(opts.negationSymbol.back)+"$"),""),Number(processValue)):processValue},isComplete:function isComplete(buffer,opts){var maskedValue=(opts.numericInput?buffer.slice().reverse():buffer).join("");return maskedValue=maskedValue.replace(new RegExp("^"+Inputmask.escapeRegex(opts.negationSymbol.front)),"-"),maskedValue=maskedValue.replace(new RegExp(Inputmask.escapeRegex(opts.negationSymbol.back)+"$"),""),maskedValue=maskedValue.replace(opts.prefix,""),maskedValue=maskedValue.replace(opts.suffix,""),maskedValue=maskedValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator)+"([0-9]{3})","g"),"$1"),","===opts.radixPoint&&(maskedValue=maskedValue.replace(Inputmask.escapeRegex(opts.radixPoint),".")),isFinite(maskedValue)},onBeforeMask:function onBeforeMask(initialValue,opts){var radixPoint=opts.radixPoint||",";"number"!=typeof initialValue&&"number"!==opts.inputType||""===radixPoint||(initialValue=initialValue.toString().replace(".",radixPoint));var valueParts=initialValue.split(radixPoint),integerPart=valueParts[0].replace(/[^\-0-9]/g,""),decimalPart=1<valueParts.length?valueParts[1].replace(/[^0-9]/g,""):"";initialValue=integerPart+(""!==decimalPart?radixPoint+decimalPart:decimalPart);var digits=0;if(""!==radixPoint&&(digits=decimalPart.length,""!==decimalPart)){var digitsFactor=Math.pow(10,digits||1);isFinite(opts.digits)&&(digits=parseInt(opts.digits),digitsFactor=Math.pow(10,digits)),initialValue=initialValue.replace(Inputmask.escapeRegex(radixPoint),"."),isFinite(initialValue)&&(initialValue=Math.round(parseFloat(initialValue)*digitsFactor)/digitsFactor),initialValue=initialValue.toString().replace(".",radixPoint)}return 0===opts.digits&&-1!==initialValue.indexOf(Inputmask.escapeRegex(radixPoint))&&(initialValue=initialValue.substring(0,initialValue.indexOf(Inputmask.escapeRegex(radixPoint)))),alignDigits(initialValue.toString().split(""),digits,opts).join("")},onBeforeWrite:function onBeforeWrite(e,buffer,caretPos,opts){var result,leadingzeroes=checkForLeadingZeroes(buffer,opts);if(leadingzeroes){var buf=buffer.slice().reverse(),caretNdx=buf.join("").indexOf(leadingzeroes[0]);buf.splice(caretNdx,leadingzeroes[0].length);var newCaretPos=buf.length-caretNdx;result={refreshFromBuffer:!0,buffer:buf.reverse(),caret:caretPos<newCaretPos?caretPos:newCaretPos}}if(e)switch(e.type){case"blur":case"checkval":""!==opts.radixPoint&&buffer[0]===opts.radixPoint&&(result&&result.buffer?result.buffer.shift():(buffer.shift(),result={refreshFromBuffer:!0,buffer:buffer}))}return result},onKeyDown:function onKeyDown(e,buffer,caretPos,opts){var $input=$(this);if(e.ctrlKey)switch(e.keyCode){case Inputmask.keyCode.UP:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(opts.step)),$input.trigger("setvalue"),!1;case Inputmask.keyCode.DOWN:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(opts.step)),$input.trigger("setvalue"),!1}if(!(e.shiftKey||e.keyCode!==Inputmask.keyCode.DELETE&&e.keyCode!==Inputmask.keyCode.BACKSPACE&&e.keyCode!==Inputmask.keyCode.BACKSPACE_SAFARI||!0!==opts._radixDance||opts.digitsOptional)){var radixPos=$.inArray(opts.radixPoint,buffer);if(-1!==radixPos&&(caretPos.begin<radixPos||e.keyCode===Inputmask.keyCode.DELETE&&caretPos.begin===radixPos)){e.keyCode!==Inputmask.keyCode.BACKSPACE&&e.keyCode!==Inputmask.keyCode.BACKSPACE_SAFARI||caretPos.begin++;var bffr=buffer.slice().reverse();return bffr.splice(bffr.length-caretPos.begin,1),$input.trigger("setvalue",[alignDigits(bffr,opts.digits,opts).join(""),caretPos.begin]),!1}}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0},percentage:{alias:"integer",min:0,max:100,suffix:" %",allowMinus:!1},indianns:{alias:"numeric",_mask:function _mask(opts){return"("+opts.groupSeparator+"99){*|1}("+opts.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}}),module.exports=Inputmask},function(module,exports,__webpack_require__){function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var $=__webpack_require__(5),Inputmask=__webpack_require__(3);void 0===$.fn.inputmask&&($.fn.inputmask=function(fn,options){var nptmask,input=this[0];if(void 0===options&&(options={}),"string"==typeof fn)switch(fn){case"unmaskedvalue":return input&&input.inputmask?input.inputmask.unmaskedvalue():$(input).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return input&&input.inputmask?input.inputmask.getemptymask():"";case"hasMaskedValue":return!(!input||!input.inputmask)&&input.inputmask.hasMaskedValue();case"isComplete":return!input||!input.inputmask||input.inputmask.isComplete();case"getmetadata":return input&&input.inputmask?input.inputmask.getmetadata():void 0;case"setvalue":Inputmask.setValue(input,options);break;case"option":if("string"!=typeof options)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(options)});if(input&&void 0!==input.inputmask)return input.inputmask.option(options);break;default:return options.alias=fn,nptmask=new Inputmask(options),this.each(function(){nptmask.mask(this)})}else{if(Array.isArray(fn))return options.alias=fn,nptmask=new Inputmask(options),this.each(function(){nptmask.mask(this)});if("object"==_typeof(fn))return nptmask=new Inputmask(fn),void 0===fn.mask&&void 0===fn.alias?this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(fn);nptmask.mask(this)}):this.each(function(){nptmask.mask(this)});if(void 0===fn)return this.each(function(){nptmask=new Inputmask(options),nptmask.mask(this)})}})}],installedModules={},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0);function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var modules,installedModules});
// Ion.RangeSlider, 2.3.0,  Denis Ineshin, 2010 - 2018, IonDen.com, Build date: 2018-12-12 00:00:37
!function(i){!jQuery&&"function"==typeof define&&define.amd?define(["jquery"],function(t){return i(t,document,window,navigator)}):jQuery||"object"!=typeof exports?i(jQuery,document,window,navigator):i(require("jquery"),document,window,navigator)}(function(a,c,l,t,_){"use strict";var i,s,o=0,e=(i=t.userAgent,s=/msie\s\d+/i,0<i.search(s)&&s.exec(i).toString().split(" ")[1]<9&&(a("html").addClass("lt-ie9"),!0));Function.prototype.bind||(Function.prototype.bind=function(o){var e=this,h=[].slice;if("function"!=typeof e)throw new TypeError;var r=h.call(arguments,1),n=function(){if(this instanceof n){var t=function(){};t.prototype=e.prototype;var i=new t,s=e.apply(i,r.concat(h.call(arguments)));return Object(s)===s?s:i}return e.apply(o,r.concat(h.call(arguments)))};return n}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,i){var s;if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),e=o.length>>>0;if(0===e)return-1;var h=+i||0;if(Math.abs(h)===1/0&&(h=0),e<=h)return-1;for(s=Math.max(0<=h?h:e-Math.abs(h),0);s<e;){if(s in o&&o[s]===t)return s;s++}return-1});var h=function(t,i,s){this.VERSION="2.3.0",this.input=t,this.plugin_count=s,this.current_plugin=0,this.calc_count=0,this.update_tm=0,this.old_from=0,this.old_to=0,this.old_min_interval=null,this.raf_id=null,this.dragging=!1,this.force_redraw=!1,this.no_diapason=!1,this.has_tab_index=!0,this.is_key=!1,this.is_update=!1,this.is_start=!0,this.is_finish=!1,this.is_active=!1,this.is_resize=!1,this.is_click=!1,i=i||{},this.$cache={win:a(l),body:a(c.body),input:a(t),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var o,e,h,r=this.$cache.input,n=r.prop("value");for(h in o={skin:"flat",type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!0,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:"  ",input_values_separator:";",disable:!1,block:!1,extra_classes:"",scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null},"INPUT"!==r[0].nodeName&&console&&console.warn&&console.warn("Base element should be <input>!",r[0]),(e={skin:r.data("skin"),type:r.data("type"),min:r.data("min"),max:r.data("max"),from:r.data("from"),to:r.data("to"),step:r.data("step"),min_interval:r.data("minInterval"),max_interval:r.data("maxInterval"),drag_interval:r.data("dragInterval"),values:r.data("values"),from_fixed:r.data("fromFixed"),from_min:r.data("fromMin"),from_max:r.data("fromMax"),from_shadow:r.data("fromShadow"),to_fixed:r.data("toFixed"),to_min:r.data("toMin"),to_max:r.data("toMax"),to_shadow:r.data("toShadow"),prettify_enabled:r.data("prettifyEnabled"),prettify_separator:r.data("prettifySeparator"),force_edges:r.data("forceEdges"),keyboard:r.data("keyboard"),grid:r.data("grid"),grid_margin:r.data("gridMargin"),grid_num:r.data("gridNum"),grid_snap:r.data("gridSnap"),hide_min_max:r.data("hideMinMax"),hide_from_to:r.data("hideFromTo"),prefix:r.data("prefix"),postfix:r.data("postfix"),max_postfix:r.data("maxPostfix"),decorate_both:r.data("decorateBoth"),values_separator:r.data("valuesSeparator"),input_values_separator:r.data("inputValuesSeparator"),disable:r.data("disable"),block:r.data("block"),extra_classes:r.data("extraClasses")}).values=e.values&&e.values.split(","),e)e.hasOwnProperty(h)&&(e[h]!==_&&""!==e[h]||delete e[h]);n!==_&&""!==n&&((n=n.split(e.input_values_separator||i.input_values_separator||";"))[0]&&n[0]==+n[0]&&(n[0]=+n[0]),n[1]&&n[1]==+n[1]&&(n[1]=+n[1]),i&&i.values&&i.values.length?(o.from=n[0]&&i.values.indexOf(n[0]),o.to=n[1]&&i.values.indexOf(n[1])):(o.from=n[0]&&+n[0],o.to=n[1]&&+n[1])),a.extend(o,i),a.extend(o,e),this.options=o,this.update_check={},this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()};h.prototype={init:function(t){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),t?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){var t='<span class="irs irs--'+this.options.skin+" js-irs-"+this.plugin_count+" "+this.options.extra_classes+'"></span>';this.$cache.input.before(t),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="0"></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar irs-bar--single"></span><span class="irs-shadow shadow-single"></span><span class="irs-handle single"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-bar"></span><span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-handle from"><i></i><i></i><i></i></span><span class="irs-handle to"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.input[0].disabled=!1,this.removeDisableMask(),this.bindEvents()),this.options.disable||(this.options.block?this.appendDisableMask():this.removeDisableMask()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var t=this.options.min,i=this.options.max,s=this.options.from,o=this.options.to;t<s&&o===i?this.$cache.s_from.addClass("type_last"):o<i&&this.$cache.s_to.addClass("type_last")},changeLevel:function(t){switch(t){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake),this.$cache.s_single.addClass("state_hover");break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},removeDisableMask:function(){this.$cache.cont.remove(".irs-disable-mask"),this.$cache.cont.removeClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),e&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("focus.irs_"+this.plugin_count,this.pointerFocus.bind(this)),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),e&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerFocus:function(t){var i,s;this.target||(i=(s="single"===this.options.type?this.$cache.single:this.$cache.from).offset().left,i+=s.width()/2-1,this.pointerClick("single",{preventDefault:function(){},pageX:i}))},pointerMove:function(t){if(this.dragging){var i=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;this.coords.x_pointer=i-this.coords.x_gap,this.calc()}},pointerUp:function(t){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,e&&a("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(a.contains(this.$cache.cont[0],t.target)||this.dragging)&&this.callOnFinish(),this.dragging=!1)},pointerDown:function(t,i){i.preventDefault();var s=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;2!==i.button&&("both"===t&&this.setTempMinInterval(),t||(t=this.target||"from"),this.current_plugin=this.plugin_count,this.target=t,this.is_active=!0,this.dragging=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=s-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(t),e&&a("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(t,i){i.preventDefault();var s=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;2!==i.button&&(this.current_plugin=this.plugin_count,this.target=t,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(s-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(t,i){if(!(this.current_plugin!==this.plugin_count||i.altKey||i.ctrlKey||i.shiftKey||i.metaKey)){switch(i.which){case 83:case 65:case 40:case 37:i.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:i.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(t){var i=this.coords.p_pointer,s=(this.options.max-this.options.min)/100;s=this.options.step/s,t?i+=s:i-=s,this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*i),this.is_key=!0,this.calc()},setMinMax:function(){if(this.options){if(this.options.hide_min_max)return this.$cache.min[0].style.display="none",void(this.$cache.max[0].style.display="none");if(this.options.values.length)this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]));else{var t=this._prettify(this.options.min),i=this._prettify(this.options.max);this.result.min_pretty=t,this.result.max_pretty=i,this.$cache.min.html(this.decorate(t,this.options.min)),this.$cache.max.html(this.decorate(i,this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)}},setTempMinInterval:function(){var t=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=t},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(t){if(this.options&&(this.calc_count++,(10===this.calc_count||t)&&(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){this.calcPointerPercent();var i=this.getHandleX();switch("both"===this.target&&(this.coords.p_gap=0,i=this.getHandleX()),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,i=this.getHandleX(),this.options.drag_interval?this.target="both_one":this.target=this.chooseHandle(i)),this.target){case"base":var s=(this.options.max-this.options.min)/100,o=(this.result.from-this.options.min)/s,e=(this.result.to-this.options.min)/s;this.coords.p_single_real=this.toFixed(o),this.coords.p_from_real=this.toFixed(o),this.coords.p_to_real=this.toFixed(e),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(i),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(i),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(i),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;i=this.toFixed(i+.001*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(i)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(i)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed)break;var h=this.convertToRealPercent(i),r=this.result.from_percent,n=this.result.to_percent-r,a=n/2,c=h-a,l=h+a;c<0&&(l=(c=0)+n),100<l&&(c=(l=100)-n),this.coords.p_from_real=this.calcWithStep(c),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(l),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.result.from_pretty=this._prettify(this.result.from),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.from_pretty=this._prettify(this.result.from),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.result.to_pretty=this._prettify(this.result.to),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){this.coords.w_rs?(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(t){return t/(100-this.coords.p_handle)*100},convertToFakePercent:function(t){return t/100*(100-this.coords.p_handle)},getHandleX:function(){var t=100-this.coords.p_handle,i=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return i<0?i=0:t<i&&(i=t),i},calcHandlePercent:function(){"single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(t){return"single"===this.options.type?"single":this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2<=t?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.bar[0].style.left=0,this.$cache.bar[0].style.width=this.coords.p_bar_w+this.coords.p_bar_x+"%",this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%"):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",(this.old_from!==this.result.from||this.force_redraw)&&(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&(this.$cache.to[0].style.left=this.labels.p_to_left+"%")),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.writeToInput(),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||(this.$cache.input.trigger("change"),this.$cache.input.trigger("input")),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_key=!1,this.is_click=!1,this.callOnFinish()),this.is_update=!1,this.is_resize=!1,this.is_finish=!1),this.is_start=!1,this.is_key=!1,this.is_click=!1,this.force_redraw=!1))},drawLabels:function(){if(this.options){var t,i,s,o,e,h=this.options.values.length,r=this.options.p_values;if(!this.options.hide_from_to)if("single"===this.options.type)t=h?this.decorate(r[this.result.from]):(o=this._prettify(this.result.from),this.decorate(o,this.result.from)),this.$cache.single.html(t),this.calcLabels(),this.labels.p_single_left<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible";else{s=h?(this.options.decorate_both?(t=this.decorate(r[this.result.from]),t+=this.options.values_separator,t+=this.decorate(r[this.result.to])):t=this.decorate(r[this.result.from]+this.options.values_separator+r[this.result.to]),i=this.decorate(r[this.result.from]),this.decorate(r[this.result.to])):(o=this._prettify(this.result.from),e=this._prettify(this.result.to),this.options.decorate_both?(t=this.decorate(o,this.result.from),t+=this.options.values_separator,t+=this.decorate(e,this.result.to)):t=this.decorate(o+this.options.values_separator+e,this.result.to),i=this.decorate(o,this.result.from),this.decorate(e,this.result.to)),this.$cache.single.html(t),this.$cache.from.html(i),this.$cache.to.html(s),this.calcLabels();var n=Math.min(this.labels.p_single_left,this.labels.p_from_left),a=this.labels.p_single_left+this.labels.p_single_fake,c=this.labels.p_to_left+this.labels.p_to_fake,l=Math.max(a,c);this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",l=this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",c):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",Math.max(a,c))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),n<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",l>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible"}}},drawShadow:function(){var t,i,s,o,e=this.options,h=this.$cache,r="number"==typeof e.from_min&&!isNaN(e.from_min),n="number"==typeof e.from_max&&!isNaN(e.from_max),a="number"==typeof e.to_min&&!isNaN(e.to_min),c="number"==typeof e.to_max&&!isNaN(e.to_max);"single"===e.type?e.from_shadow&&(r||n)?(t=this.convertToPercent(r?e.from_min:e.min),i=this.convertToPercent(n?e.from_max:e.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),i=this.toFixed(i-this.coords.p_handle/100*i),t+=this.coords.p_handle/2,h.shad_single[0].style.display="block",h.shad_single[0].style.left=t+"%",h.shad_single[0].style.width=i+"%"):h.shad_single[0].style.display="none":(e.from_shadow&&(r||n)?(t=this.convertToPercent(r?e.from_min:e.min),i=this.convertToPercent(n?e.from_max:e.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),i=this.toFixed(i-this.coords.p_handle/100*i),t+=this.coords.p_handle/2,h.shad_from[0].style.display="block",h.shad_from[0].style.left=t+"%",h.shad_from[0].style.width=i+"%"):h.shad_from[0].style.display="none",e.to_shadow&&(a||c)?(s=this.convertToPercent(a?e.to_min:e.min),o=this.convertToPercent(c?e.to_max:e.max)-s,s=this.toFixed(s-this.coords.p_handle/100*s),o=this.toFixed(o-this.coords.p_handle/100*o),s+=this.coords.p_handle/2,h.shad_to[0].style.display="block",h.shad_to[0].style.left=s+"%",h.shad_to[0].style.width=o+"%"):h.shad_to[0].style.display="none")},writeToInput:function(){"single"===this.options.type?(this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))},callOnStart:function(){this.writeToInput(),this.options.onStart&&"function"==typeof this.options.onStart&&(this.options.scope?this.options.onStart.call(this.options.scope,this.result):this.options.onStart(this.result))},callOnChange:function(){this.writeToInput(),this.options.onChange&&"function"==typeof this.options.onChange&&(this.options.scope?this.options.onChange.call(this.options.scope,this.result):this.options.onChange(this.result))},callOnFinish:function(){this.writeToInput(),this.options.onFinish&&"function"==typeof this.options.onFinish&&(this.options.scope?this.options.onFinish.call(this.options.scope,this.result):this.options.onFinish(this.result))},callOnUpdate:function(){this.writeToInput(),this.options.onUpdate&&"function"==typeof this.options.onUpdate&&(this.options.scope?this.options.onUpdate.call(this.options.scope,this.result):this.options.onUpdate(this.result))},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input"),this.has_tab_index?this.$cache.input.prop("tabindex",-1):this.$cache.input.removeProp("tabindex"),this.has_tab_index=!this.has_tab_index},convertToPercent:function(t,i){var s,o=this.options.max-this.options.min,e=o/100;return o?(s=(i?t:t-this.options.min)/e,this.toFixed(s)):(this.no_diapason=!0,0)},convertToValue:function(t){var i,s,o=this.options.min,e=this.options.max,h=o.toString().split(".")[1],r=e.toString().split(".")[1],n=0,a=0;if(0===t)return this.options.min;if(100===t)return this.options.max;h&&(n=i=h.length),r&&(n=s=r.length),i&&s&&(n=s<=i?i:s),o<0&&(o=+(o+(a=Math.abs(o))).toFixed(n),e=+(e+a).toFixed(n));var c,l=(e-o)/100*t+o,_=this.options.step.toString().split(".")[1];return l=_?+l.toFixed(_.length):(l/=this.options.step,+(l*=this.options.step).toFixed(0)),a&&(l-=a),(c=_?+l.toFixed(_.length):this.toFixed(l))<this.options.min?c=this.options.min:c>this.options.max&&(c=this.options.max),c},calcWithStep:function(t){var i=Math.round(t/this.coords.p_step)*this.coords.p_step;return 100<i&&(i=100),100===t&&(i=100),this.toFixed(i)},checkMinInterval:function(t,i,s){var o,e,h=this.options;return h.min_interval?(o=this.convertToValue(t),e=this.convertToValue(i),"from"===s?e-o<h.min_interval&&(o=e-h.min_interval):o-e<h.min_interval&&(o=e+h.min_interval),this.convertToPercent(o)):t},checkMaxInterval:function(t,i,s){var o,e,h=this.options;return h.max_interval?(o=this.convertToValue(t),e=this.convertToValue(i),"from"===s?e-o>h.max_interval&&(o=e-h.max_interval):o-e>h.max_interval&&(o=e+h.max_interval),this.convertToPercent(o)):t},checkDiapason:function(t,i,s){var o=this.convertToValue(t),e=this.options;return"number"!=typeof i&&(i=e.min),"number"!=typeof s&&(s=e.max),o<i&&(o=i),s<o&&(o=s),this.convertToPercent(o)},toFixed:function(t){return+(t=t.toFixed(20))},_prettify:function(t){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(t):this.prettify(t):t},prettify:function(t){return t.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(t,i){return this.options.force_edges&&(t<0?t=0:100-i<t&&(t=100-i)),this.toFixed(t)},validate:function(){var t,i,s=this.options,o=this.result,e=s.values,h=e.length;if("string"==typeof s.min&&(s.min=+s.min),"string"==typeof s.max&&(s.max=+s.max),"string"==typeof s.from&&(s.from=+s.from),"string"==typeof s.to&&(s.to=+s.to),"string"==typeof s.step&&(s.step=+s.step),"string"==typeof s.from_min&&(s.from_min=+s.from_min),"string"==typeof s.from_max&&(s.from_max=+s.from_max),"string"==typeof s.to_min&&(s.to_min=+s.to_min),"string"==typeof s.to_max&&(s.to_max=+s.to_max),"string"==typeof s.grid_num&&(s.grid_num=+s.grid_num),s.max<s.min&&(s.max=s.min),h)for(s.p_values=[],s.min=0,s.max=h-1,s.step=1,s.grid_num=s.max,s.grid_snap=!0,i=0;i<h;i++)t=+e[i],t=isNaN(t)?e[i]:(e[i]=t,this._prettify(t)),s.p_values.push(t);("number"!=typeof s.from||isNaN(s.from))&&(s.from=s.min),("number"!=typeof s.to||isNaN(s.to))&&(s.to=s.max),"single"===s.type?(s.from<s.min&&(s.from=s.min),s.from>s.max&&(s.from=s.max)):(s.from<s.min&&(s.from=s.min),s.from>s.max&&(s.from=s.max),s.to<s.min&&(s.to=s.min),s.to>s.max&&(s.to=s.max),this.update_check.from&&(this.update_check.from!==s.from&&s.from>s.to&&(s.from=s.to),this.update_check.to!==s.to&&s.to<s.from&&(s.to=s.from)),s.from>s.to&&(s.from=s.to),s.to<s.from&&(s.to=s.from)),("number"!=typeof s.step||isNaN(s.step)||!s.step||s.step<0)&&(s.step=1),"number"==typeof s.from_min&&s.from<s.from_min&&(s.from=s.from_min),"number"==typeof s.from_max&&s.from>s.from_max&&(s.from=s.from_max),"number"==typeof s.to_min&&s.to<s.to_min&&(s.to=s.to_min),"number"==typeof s.to_max&&s.from>s.to_max&&(s.to=s.to_max),o&&(o.min!==s.min&&(o.min=s.min),o.max!==s.max&&(o.max=s.max),(o.from<o.min||o.from>o.max)&&(o.from=s.from),(o.to<o.min||o.to>o.max)&&(o.to=s.to)),("number"!=typeof s.min_interval||isNaN(s.min_interval)||!s.min_interval||s.min_interval<0)&&(s.min_interval=0),("number"!=typeof s.max_interval||isNaN(s.max_interval)||!s.max_interval||s.max_interval<0)&&(s.max_interval=0),s.min_interval&&s.min_interval>s.max-s.min&&(s.min_interval=s.max-s.min),s.max_interval&&s.max_interval>s.max-s.min&&(s.max_interval=s.max-s.min)},decorate:function(t,i){var s="",o=this.options;return o.prefix&&(s+=o.prefix),s+=t,o.max_postfix&&(o.values.length&&t===o.p_values[o.max]?(s+=o.max_postfix,o.postfix&&(s+=" ")):i===o.max&&(s+=o.max_postfix,o.postfix&&(s+=" "))),o.postfix&&(s+=o.postfix),s},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.result.from_pretty=this._prettify(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.result.to_pretty=this._prettify(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var t,i,s,o,e,h,r=this.options,n=r.max-r.min,a=r.grid_num,c=0,l=4,_="";for(this.calcGridMargin(),r.grid_snap&&(a=n/r.step),50<a&&(a=50),s=this.toFixed(100/a),4<a&&(l=3),7<a&&(l=2),14<a&&(l=1),28<a&&(l=0),t=0;t<a+1;t++){for(o=l,100<(c=this.toFixed(s*t))&&(c=100),e=((this.coords.big[t]=c)-s*(t-1))/(o+1),i=1;i<=o&&0!==c;i++)_+='<span class="irs-grid-pol small" style="left: '+this.toFixed(c-e*i)+'%"></span>';_+='<span class="irs-grid-pol" style="left: '+c+'%"></span>',h=this.convertToValue(c),_+='<span class="irs-grid-text js-grid-text-'+t+'" style="left: '+c+'%">'+(h=r.values.length?r.p_values[h]:this._prettify(h))+"</span>"}this.coords.big_num=Math.ceil(a+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(_),this.cacheGridLabels()}},cacheGridLabels:function(){var t,i,s=this.coords.big_num;for(i=0;i<s;i++)t=this.$cache.grid.find(".js-grid-text-"+i),this.$cache.grid_labels.push(t);this.calcGridLabels()},calcGridLabels:function(){var t,i,s=[],o=[],e=this.coords.big_num;for(t=0;t<e;t++)this.coords.big_w[t]=this.$cache.grid_labels[t].outerWidth(!1),this.coords.big_p[t]=this.toFixed(this.coords.big_w[t]/this.coords.w_rs*100),this.coords.big_x[t]=this.toFixed(this.coords.big_p[t]/2),s[t]=this.toFixed(this.coords.big[t]-this.coords.big_x[t]),o[t]=this.toFixed(s[t]+this.coords.big_p[t]);for(this.options.force_edges&&(s[0]<-this.coords.grid_gap&&(s[0]=-this.coords.grid_gap,o[0]=this.toFixed(s[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),o[e-1]>100+this.coords.grid_gap&&(o[e-1]=100+this.coords.grid_gap,s[e-1]=this.toFixed(o[e-1]-this.coords.big_p[e-1]),this.coords.big_x[e-1]=this.toFixed(this.coords.big_p[e-1]-this.coords.grid_gap))),this.calcGridCollision(2,s,o),this.calcGridCollision(4,s,o),t=0;t<e;t++)i=this.$cache.grid_labels[t][0],this.coords.big_x[t]!==Number.POSITIVE_INFINITY&&(i.style.marginLeft=-this.coords.big_x[t]+"%")},calcGridCollision:function(t,i,s){var o,e,h,r=this.coords.big_num;for(o=0;o<r&&!(r<=(e=o+t/2));o+=t)h=this.$cache.grid_labels[e][0],s[o]<=i[e]?h.style.visibility="visible":h.style.visibility="hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&("single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(t){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=a.extend(this.options,t),this.validate(),this.updateResult(t),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),a.data(this.input,"ionRangeSlider",null),this.remove(),this.input=null,this.options=null)}},a.fn.ionRangeSlider=function(t){return this.each(function(){a.data(this,"ionRangeSlider")||a.data(this,"ionRangeSlider",new h(this,t,o++))})},function(){for(var h=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!l.requestAnimationFrame;++i)l.requestAnimationFrame=l[t[i]+"RequestAnimationFrame"],l.cancelAnimationFrame=l[t[i]+"CancelAnimationFrame"]||l[t[i]+"CancelRequestAnimationFrame"];l.requestAnimationFrame||(l.requestAnimationFrame=function(t,i){var s=(new Date).getTime(),o=Math.max(0,16-(s-h)),e=l.setTimeout(function(){t(s+o)},o);return h=s+o,e}),l.cancelAnimationFrame||(l.cancelAnimationFrame=function(t){clearTimeout(t)})}()});

/*
 * Custom
 */

document.addEventListener("DOMContentLoaded", function () {
	$('input[type="tel"]').inputmask({
		mask: "+7(999)999-99-99",
		showMaskOnHover: false,
		showMaskOnFocus: true
	})
	
	var mySwiper1 = new Swiper("#stage-slider.swiper-container", {
		speed: 500,
		spaceBetween: 0
	})
	
	var mySwiper2 = new Swiper("#main-diploma-slider .diploma-block__container", {
		speed: 500,
		spaceBetween: 10,
		slidesPerView: 4,
		autoplay: false,
		noSwiping: true,
		onlyExternal: true,
		keyboard: false,
		simulateTouch: false,
	
		breakpoints: {
			1140: {
				slidesPerView: 3,
				spaceBetween: 10,
				noSwiping: false,
				onlyExternal: false,
				keyboard: true,
				simulateTouch: true
			},
			800: {
				slidesPerView: 2,
				spaceBetween: 0
			},
	
			700: {
				slidesPerView: 1,
				spaceBetween: 0
			}
		}
	})
	
	var mySwiper3 = new Swiper("#second-diploma-slider .diploma-block__container", {
		speed: 500,
		slidesPerView: 6,
		slidesPerColumn: 2,
		spaceBetween: 15,
		loop: false,
		pagination: {
			el: ".swiper-pagination",
			clickable: true
		},
	
		breakpoints: {
			1500: {
				slidesPerView: 4
			},
	
			1024: {
				slidesPerView: 3
			},
	
			580: {
				slidesPerView: 2
			},
	
			450: {
				slidesPerView: 1,
				spaceBetween: 0
			}
		}
	})
	
	var clickItemMenu = function () {
		var menuItem = document.querySelectorAll(".header-menu__item")
	
		document.body.addEventListener("click", function (e) {
			for (var item of menuItem) {
				var submenu = item.querySelector(".header-submenu")
	
				if (submenu) {
					if (e.target == item.querySelector("a")) {
						if (
							!item
							.querySelector("a")
							.getAttribute("href")
							.substr(1)
						) {
							e.preventDefault()
							submenu.classList.add("open")
							item.querySelector("a").setAttribute('aria-expanded', 'true');
						}
					} else {
						submenu.classList.remove("open")
						item.querySelector("a").setAttribute('aria-expanded', 'false');
					}
				}
			}
		})
	}
	
	clickItemMenu()
	
	var getOpenMenu = function () {
		var overlayMenu = document.getElementById("layout-menu")
		var btn = document.querySelector(".burger-menu")
	
		btn.addEventListener("click", function () {
			overlayMenu.classList.add("open")
			this.setAttribute('aria-expanded', 'true');
		})
	}
	
	getOpenMenu()
	
	var getCloseMenu = function () {
		var overlayMenu = document.getElementById("layout-menu")
		var sectionsMenu = overlayMenu.querySelectorAll(".layout-menu__section")
		var mobileMenuWrapper = overlayMenu.querySelector(".layout-menu__mobile")
		var closeMobile = document.getElementById("close-mobile-menu")
		var layoutLogo = overlayMenu.querySelector(".layout-menu__logo")
		var btnOpen = document.querySelector(".burger-menu")
		var btn = document.getElementById("close-layout-menu")
	
		btn.addEventListener("click", function () {
			overlayMenu.classList.remove("open")
			closeMobile.classList.remove("open")
			layoutLogo.classList.remove("open")
			btnOpen.setAttribute('aria-expanded', 'false');
			mobileMenuWrapper.classList.remove("close")
	
			for (var sectionItem of sectionsMenu) {
				if (sectionItem.classList.contains("open")) {
					sectionItem.classList.remove("open")
				}
			}
		})
	
		overlayMenu.addEventListener("click", function (e) {
			if (e.target === this) {
				overlayMenu.classList.remove("open")
				btnOpen.setAttribute('aria-expanded', 'false');
			}
		})
	}
	
	getCloseMenu()
	
	var getMobileMenu = function () {
		var overlayMenu = document.getElementById("layout-menu")
		var layoutLogo = overlayMenu.querySelector(".layout-menu__logo")
		var closeMobile = document.getElementById("close-mobile-menu")
		var mobileMenuWrapper = overlayMenu.querySelector(".layout-menu__mobile")
		var mobileMenu = document.querySelector(".mobile-menu")
		var mobileItem = mobileMenu.querySelectorAll(".mobile-menu__item")
		var sectionsMenu = overlayMenu.querySelectorAll(".layout-menu__section")
	
		for (var item of mobileItem) {
			item.addEventListener("click", function (e) {
				var link = this.querySelector("a");
				var numSectionMenu = link.hash.substr(1)
	
				for (var sectionItem of sectionsMenu) {
					var dataNum = sectionItem.dataset.sectionMenu
	
					if (numSectionMenu === dataNum) {
						e.preventDefault()
						closeMobile.classList.add("open")
						layoutLogo.classList.add("open")
						mobileMenuWrapper.classList.add("close")
						sectionItem.classList.add("open")
						link.setAttribute('aria-expanded', 'true')
					}
				}
			})
		}
	
		closeMobile.addEventListener("click", function () {
			this.classList.remove("open")
			layoutLogo.classList.remove("open")
			mobileMenuWrapper.classList.remove("close")
	
			for (var item of mobileItem) {
				item.querySelector("a").setAttribute('aria-expanded', 'false');
			}
	
			for (var sectionItem of sectionsMenu) {
				if (sectionItem.classList.contains("open")) {
					sectionItem.classList.remove("open")
				}
			}
		})
	}
	
	getMobileMenu()
	
	var getOpenSearch = function () {
		var overlaySearch = document.getElementById("layout-search")
		var btn = document.getElementById("search-btn")
	
		btn.addEventListener("click", function () {
			// overlaySearch.classList.add("open")
	
			$.fancybox.open({
				src  : '#popup-thnx',
				type : 'inline',
			});
	
			setTimeout(() => {
				$.fancybox.close()
			}, 2000);
		})
	}
	
	getOpenSearch()
	
	var getCloseSearch = function () {
		var overlaySearch = document.getElementById("layout-search")
		var btn = document.getElementById("close-layout-search")
	
		btn.addEventListener("click", function () {
			overlaySearch.classList.remove("open")
		})
	}
	
	getCloseSearch()
	
	var getHeightSurgeryItem = function () {
		const surgeryItems = document.querySelectorAll(".surgery-list__item")
	
		for (const item of surgeryItems) {
			const itemContent = item.querySelector(".surgery-list__item-content")
			const btn = item.querySelector(".btn-arrow")
	
			item.addEventListener("click", function (e) {
				for (const item of surgeryItems) {
					item.querySelector(".surgery-list__item-content").style.height = 0 + "px"
					item.querySelector(".btn-arrow").classList.remove("active")
					item.classList.remove("open")
				}
	
				const ch = itemContent.clientHeight,
					sh = itemContent.scrollHeight,
					isCollapsed = !ch,
					noHeightSet = !itemContent.style.height
	
				if (isCollapsed || noHeightSet) {
					itemContent.style.height = sh + "px"
					item.classList.add("open")
					btn.classList.add("active")
				} else {
					itemContent.style.height = 0 + "px"
					item.classList.remove("open")
					btn.classList.remove("active")
				}
			})
		}
	}
	
	getHeightSurgeryItem()
	
	var getAnchorText = function () {
		var articleBlock = document.querySelector(".article-block")
		if (articleBlock) {
			var articleSidebar = articleBlock.querySelector(".article-block__left")
			var articleSidebarBox = articleSidebar.getBoundingClientRect()
			var articleSidebarTop = articleSidebarBox.top
			var articleText = articleBlock.querySelector(".article-block__main-text")
			var articleTextParagraph = articleText.querySelectorAll("p")
			var listAnchorText = articleBlock.querySelectorAll(".article-block__anchor-block")
	
			for (var paragraph of articleTextParagraph) {
				if (paragraph.dataset.anchor) {
					var paragraphBox = paragraph.getBoundingClientRect()
					var paragraphTop = paragraphBox.top
	
					for (var text of listAnchorText) {
						if (paragraph.dataset.anchor === text.dataset.anchor) {
							text.style.top = paragraphTop - articleSidebarTop + "px"
						}
					}
				}
			}
		}
	}
	// window.addEventListener("scroll", getAnchorText)
	window.addEventListener("load", getAnchorText)
	window.addEventListener("resize", getAnchorText)
	
	var getOpenQnA = function () {
		const quBlock = document.querySelector(".qa-block")
		if (quBlock) {
			const quItems = quBlock.querySelectorAll(".qa-block__item")
	
			for (const item of quItems) {
				const question = item.querySelector(".qa-block__question")
	
				question.addEventListener("click", function () {
					const answer = this.nextElementSibling
	
					const ch = answer.clientHeight,
						sh = answer.scrollHeight,
						isCollapsed = !ch,
						noHeightSet = !answer.style.height
	
					if (isCollapsed || noHeightSet) {
						item.classList.add("open")
						answer.style.height = sh + "px"
					} else {
						item.classList.remove("open")
						answer.style.height = 0 + "px"
					}
				})
			}
		}
	}
	
	getOpenQnA()
	
	var getFocusValue = function () {
		var form = document.querySelector(".appointment-form")
	
		if (form) {
			var fieldiList = form.querySelectorAll(".appointment-form__field")
	
			for (var field of fieldiList) {
				var input = field.querySelector("input")
	
				if (input) {
	
					input.addEventListener("focus", function () {
						this.parentElement.classList.add("appointment-form__field_focus")
					})
	
					input.addEventListener("blur", function () {
						if (this.value !== "") {
							this.parentElement.classList.add("appointment-form__field_focus")
						} else {
							this.parentElement.classList.remove("appointment-form__field_focus")
						}
					})
				}
			}
		}
	}
	
	getFocusValue()
	
	var scrollTo = function (element, to, duration) {
		if (duration < 0) return
		var difference = to - element.scrollTop
		var perTick = (difference / duration) * 2
	
		setTimeout(function () {
			element.scrollTop = element.scrollTop + perTick
			scrollTo(element, to, duration - 2)
		}, 10)
	}
	
	function scrollToTop(scrollDuration) {
		var scrollStep = -window.scrollY / (scrollDuration / 15),
			scrollInterval = setInterval(function () {
				if (window.scrollY != 0) {
					window.scrollBy(0, scrollStep)
				} else clearInterval(scrollInterval)
			}, 15)
	}
	
	var scrollToTop = function () {
		var btn = document.getElementById("scroll-to-top")
	
		btn.addEventListener("click", function () {
			window.scrollTo(0, 0)
		})
	}
	
	scrollToTop()
})
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJhcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogVGhpcmQgcGFydHlcclxuICovXHJcbi8qIVxyXG5cdGF1dG9zaXplIDQuMC4yXHJcblx0bGljZW5zZTogTUlUXHJcblx0aHR0cDovL3d3dy5qYWNrbG1vb3JlLmNvbS9hdXRvc2l6ZVxyXG4qL1xyXG4hZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtcIm1vZHVsZVwiLFwiZXhwb3J0c1wiXSx0KTtlbHNlIGlmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBleHBvcnRzKXQobW9kdWxlLGV4cG9ydHMpO2Vsc2V7dmFyIG49e2V4cG9ydHM6e319O3QobixuLmV4cG9ydHMpLGUuYXV0b3NpemU9bi5leHBvcnRzfX0odGhpcyxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO3ZhciBuLG8scD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBNYXA/bmV3IE1hcDoobj1bXSxvPVtdLHtoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuLTE8bi5pbmRleE9mKGUpfSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG9bbi5pbmRleE9mKGUpXX0sc2V0OmZ1bmN0aW9uKGUsdCl7LTE9PT1uLmluZGV4T2YoZSkmJihuLnB1c2goZSksby5wdXNoKHQpKX0sZGVsZXRlOmZ1bmN0aW9uKGUpe3ZhciB0PW4uaW5kZXhPZihlKTstMTx0JiYobi5zcGxpY2UodCwxKSxvLnNwbGljZSh0LDEpKX19KSxjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgRXZlbnQoZSx7YnViYmxlczohMH0pfTt0cnl7bmV3IEV2ZW50KFwidGVzdFwiKX1jYXRjaChlKXtjPWZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7cmV0dXJuIHQuaW5pdEV2ZW50KGUsITAsITEpLHR9fWZ1bmN0aW9uIHIocil7aWYociYmci5ub2RlTmFtZSYmXCJURVhUQVJFQVwiPT09ci5ub2RlTmFtZSYmIXAuaGFzKHIpKXt2YXIgZSxuPW51bGwsbz1udWxsLGk9bnVsbCxkPWZ1bmN0aW9uKCl7ci5jbGllbnRXaWR0aCE9PW8mJmEoKX0sbD1mdW5jdGlvbih0KXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLGQsITEpLHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsYSwhMSksci5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIixhLCExKSxyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhdXRvc2l6ZTpkZXN0cm95XCIsbCwhMSksci5yZW1vdmVFdmVudExpc3RlbmVyKFwiYXV0b3NpemU6dXBkYXRlXCIsYSwhMSksT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXtyLnN0eWxlW2VdPXRbZV19KSxwLmRlbGV0ZShyKX0uYmluZChyLHtoZWlnaHQ6ci5zdHlsZS5oZWlnaHQscmVzaXplOnIuc3R5bGUucmVzaXplLG92ZXJmbG93WTpyLnN0eWxlLm92ZXJmbG93WSxvdmVyZmxvd1g6ci5zdHlsZS5vdmVyZmxvd1gsd29yZFdyYXA6ci5zdHlsZS53b3JkV3JhcH0pO3IuYWRkRXZlbnRMaXN0ZW5lcihcImF1dG9zaXplOmRlc3Ryb3lcIixsLCExKSxcIm9ucHJvcGVydHljaGFuZ2VcImluIHImJlwib25pbnB1dFwiaW4gciYmci5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIixhLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLGQsITEpLHIuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsYSwhMSksci5hZGRFdmVudExpc3RlbmVyKFwiYXV0b3NpemU6dXBkYXRlXCIsYSwhMSksci5zdHlsZS5vdmVyZmxvd1g9XCJoaWRkZW5cIixyLnN0eWxlLndvcmRXcmFwPVwiYnJlYWstd29yZFwiLHAuc2V0KHIse2Rlc3Ryb3k6bCx1cGRhdGU6YX0pLFwidmVydGljYWxcIj09PShlPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHIsbnVsbCkpLnJlc2l6ZT9yLnN0eWxlLnJlc2l6ZT1cIm5vbmVcIjpcImJvdGhcIj09PWUucmVzaXplJiYoci5zdHlsZS5yZXNpemU9XCJob3Jpem9udGFsXCIpLG49XCJjb250ZW50LWJveFwiPT09ZS5ib3hTaXppbmc/LShwYXJzZUZsb2F0KGUucGFkZGluZ1RvcCkrcGFyc2VGbG9hdChlLnBhZGRpbmdCb3R0b20pKTpwYXJzZUZsb2F0KGUuYm9yZGVyVG9wV2lkdGgpK3BhcnNlRmxvYXQoZS5ib3JkZXJCb3R0b21XaWR0aCksaXNOYU4obikmJihuPTApLGEoKX1mdW5jdGlvbiBzKGUpe3ZhciB0PXIuc3R5bGUud2lkdGg7ci5zdHlsZS53aWR0aD1cIjBweFwiLHIub2Zmc2V0V2lkdGgsci5zdHlsZS53aWR0aD10LHIuc3R5bGUub3ZlcmZsb3dZPWV9ZnVuY3Rpb24gdSgpe2lmKDAhPT1yLnNjcm9sbEhlaWdodCl7dmFyIGU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdO2UmJmUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlIGluc3RhbmNlb2YgRWxlbWVudDspZS5wYXJlbnROb2RlLnNjcm9sbFRvcCYmdC5wdXNoKHtub2RlOmUucGFyZW50Tm9kZSxzY3JvbGxUb3A6ZS5wYXJlbnROb2RlLnNjcm9sbFRvcH0pLGU9ZS5wYXJlbnROb2RlO3JldHVybiB0fShyKSx0PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtyLnN0eWxlLmhlaWdodD1cIlwiLHIuc3R5bGUuaGVpZ2h0PXIuc2Nyb2xsSGVpZ2h0K24rXCJweFwiLG89ci5jbGllbnRXaWR0aCxlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5ub2RlLnNjcm9sbFRvcD1lLnNjcm9sbFRvcH0pLHQmJihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wPXQpfX1mdW5jdGlvbiBhKCl7dSgpO3ZhciBlPU1hdGgucm91bmQocGFyc2VGbG9hdChyLnN0eWxlLmhlaWdodCkpLHQ9d2luZG93LmdldENvbXB1dGVkU3R5bGUocixudWxsKSxuPVwiY29udGVudC1ib3hcIj09PXQuYm94U2l6aW5nP01hdGgucm91bmQocGFyc2VGbG9hdCh0LmhlaWdodCkpOnIub2Zmc2V0SGVpZ2h0O2lmKG48ZT9cImhpZGRlblwiPT09dC5vdmVyZmxvd1kmJihzKFwic2Nyb2xsXCIpLHUoKSxuPVwiY29udGVudC1ib3hcIj09PXQuYm94U2l6aW5nP01hdGgucm91bmQocGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShyLG51bGwpLmhlaWdodCkpOnIub2Zmc2V0SGVpZ2h0KTpcImhpZGRlblwiIT09dC5vdmVyZmxvd1kmJihzKFwiaGlkZGVuXCIpLHUoKSxuPVwiY29udGVudC1ib3hcIj09PXQuYm94U2l6aW5nP01hdGgucm91bmQocGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShyLG51bGwpLmhlaWdodCkpOnIub2Zmc2V0SGVpZ2h0KSxpIT09bil7aT1uO3ZhciBvPWMoXCJhdXRvc2l6ZTpyZXNpemVkXCIpO3RyeXtyLmRpc3BhdGNoRXZlbnQobyl9Y2F0Y2goZSl7fX19fWZ1bmN0aW9uIGkoZSl7dmFyIHQ9cC5nZXQoZSk7dCYmdC5kZXN0cm95KCl9ZnVuY3Rpb24gZChlKXt2YXIgdD1wLmdldChlKTt0JiZ0LnVwZGF0ZSgpfXZhciBsPW51bGw7XCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8XCJmdW5jdGlvblwiIT10eXBlb2Ygd2luZG93LmdldENvbXB1dGVkU3R5bGU/KChsPWZ1bmN0aW9uKGUpe3JldHVybiBlfSkuZGVzdHJveT1mdW5jdGlvbihlKXtyZXR1cm4gZX0sbC51cGRhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9KTooKGw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlLmxlbmd0aD9lOltlXSxmdW5jdGlvbihlKXtyZXR1cm4gcihlKX0pLGV9KS5kZXN0cm95PWZ1bmN0aW9uKGUpe3JldHVybiBlJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGUubGVuZ3RoP2U6W2VdLGkpLGV9LGwudXBkYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGUubGVuZ3RoP2U6W2VdLGQpLGV9KSx0LmRlZmF1bHQ9bCxlLmV4cG9ydHM9dC5kZWZhdWx0fSk7XHJcbi8qIVxyXG4gKiBkaXN0L2pxdWVyeS5pbnB1dG1hc2subWluXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Sb2JpbkhlcmJvdHMvSW5wdXRtYXNrXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMCAtIDIwMTkgUm9iaW4gSGVyYm90c1xyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICogVmVyc2lvbjogNS4wLjAtYmV0YS4yMDRcclxuICovXHJcbiFmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LGZhY3Rvcnkpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWZhY3RvcnkocmVxdWlyZShcImpxdWVyeVwiKSk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtcImpxdWVyeVwiXSxmYWN0b3J5KTtlbHNle3ZhciBhPVwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2ZhY3RvcnkocmVxdWlyZShcImpxdWVyeVwiKSk6ZmFjdG9yeShyb290LmpRdWVyeSk7Zm9yKHZhciBpIGluIGEpKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHM6cm9vdClbaV09YVtpXX19KHdpbmRvdyxmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX181X18pe3JldHVybiBtb2R1bGVzPVtmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgaW09X193ZWJwYWNrX3JlcXVpcmVfXygxKSxqUXVlcnk9X193ZWJwYWNrX3JlcXVpcmVfXyg1KTtpbS5kZXBlbmRlbmN5TGliPT09alF1ZXJ5JiZfX3dlYnBhY2tfcmVxdWlyZV9fKDExKSxtb2R1bGUuZXhwb3J0cz1pbX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7X193ZWJwYWNrX3JlcXVpcmVfXygyKSxfX3dlYnBhY2tfcmVxdWlyZV9fKDkpLF9fd2VicGFja19yZXF1aXJlX18oMTApLG1vZHVsZS5leHBvcnRzPV9fd2VicGFja19yZXF1aXJlX18oMyl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBJbnB1dG1hc2s9X193ZWJwYWNrX3JlcXVpcmVfXygzKTtmdW5jdGlvbiBpcFZhbGlkYXRvcihjaHJzLG1hc2tzZXQscG9zLHN0cmljdCxvcHRzKXtyZXR1cm4gY2hycz0tMTxwb3MtMSYmXCIuXCIhPT1tYXNrc2V0LmJ1ZmZlcltwb3MtMV0/KGNocnM9bWFza3NldC5idWZmZXJbcG9zLTFdK2NocnMsLTE8cG9zLTImJlwiLlwiIT09bWFza3NldC5idWZmZXJbcG9zLTJdP21hc2tzZXQuYnVmZmVyW3Bvcy0yXStjaHJzOlwiMFwiK2NocnMpOlwiMDBcIitjaHJzLG5ldyBSZWdFeHAoXCIyNVswLTVdfDJbMC00XVswLTldfFswMV1bMC05XVswLTldXCIpLnRlc3QoY2hycyl9SW5wdXRtYXNrLmV4dGVuZERlZmluaXRpb25zKHtBOnt2YWxpZGF0b3I6XCJbQS1aYS16XFx1MDQxMC1cXHUwNDRmXFx1MDQwMVxcdTA0NTFcXHhjMC1cXHhmZlxceGI1XVwiLGNhc2luZzpcInVwcGVyXCJ9LFwiJlwiOnt2YWxpZGF0b3I6XCJbMC05QS1aYS16XFx1MDQxMC1cXHUwNDRmXFx1MDQwMVxcdTA0NTFcXHhjMC1cXHhmZlxceGI1XVwiLGNhc2luZzpcInVwcGVyXCJ9LFwiI1wiOnt2YWxpZGF0b3I6XCJbMC05QS1GYS1mXVwiLGNhc2luZzpcInVwcGVyXCJ9fSksSW5wdXRtYXNrLmV4dGVuZEFsaWFzZXMoe2Nzc3VuaXQ6e3JlZ2V4OlwiWystXT9bMC05XStcXFxcLj8oWzAtOV0rKT8ocHh8ZW18cmVtfGV4fCV8aW58Y218bW18cHR8cGMpXCJ9LHVybDp7cmVnZXg6XCIoaHR0cHM/fGZ0cCkvLy4qXCIsYXV0b1VubWFzazohMX0saXA6e21hc2s6XCJpW2lbaV1dLmpbaltqXV0ua1trW2tdXS5sW2xbbF1dXCIsZGVmaW5pdGlvbnM6e2k6e3ZhbGlkYXRvcjppcFZhbGlkYXRvcn0sajp7dmFsaWRhdG9yOmlwVmFsaWRhdG9yfSxrOnt2YWxpZGF0b3I6aXBWYWxpZGF0b3J9LGw6e3ZhbGlkYXRvcjppcFZhbGlkYXRvcn19LG9uVW5NYXNrOmZ1bmN0aW9uIG9uVW5NYXNrKG1hc2tlZFZhbHVlLHVubWFza2VkVmFsdWUsb3B0cyl7cmV0dXJuIG1hc2tlZFZhbHVlfSxpbnB1dG1vZGU6XCJudW1lcmljXCJ9LGVtYWlsOnttYXNrOlwiKnsxLDY0fVsuKnsxLDY0fV1bLip7MSw2NH1dWy4qezEsNjN9XUAtezEsNjN9Li17MSw2M31bLi17MSw2M31dWy4tezEsNjN9XVwiLGdyZWVkeTohMSxjYXNpbmc6XCJsb3dlclwiLG9uQmVmb3JlUGFzdGU6ZnVuY3Rpb24gb25CZWZvcmVQYXN0ZShwYXN0ZWRWYWx1ZSxvcHRzKXtyZXR1cm4gcGFzdGVkVmFsdWU9cGFzdGVkVmFsdWUudG9Mb3dlckNhc2UoKSxwYXN0ZWRWYWx1ZS5yZXBsYWNlKFwibWFpbHRvOlwiLFwiXCIpfSxkZWZpbml0aW9uczp7XCIqXCI6e3ZhbGlkYXRvcjpcIlswLTlcXHVmZjExLVxcdWZmMTlBLVphLXpcXHUwNDEwLVxcdTA0NGZcXHUwNDAxXFx1MDQ1MVxceGMwLVxceGZmXFx4YjUhIyQlJicqKy89P15fYHt8fX4tXVwifSxcIi1cIjp7dmFsaWRhdG9yOlwiWzAtOUEtWmEtei1dXCJ9fSxvblVuTWFzazpmdW5jdGlvbiBvblVuTWFzayhtYXNrZWRWYWx1ZSx1bm1hc2tlZFZhbHVlLG9wdHMpe3JldHVybiBtYXNrZWRWYWx1ZX0saW5wdXRtb2RlOlwiZW1haWxcIn0sbWFjOnttYXNrOlwiIyM6IyM6IyM6IyM6IyM6IyNcIn0sdmluOnttYXNrOlwiVnsxM305ezR9XCIsZGVmaW5pdGlvbnM6e1Y6e3ZhbGlkYXRvcjpcIltBLUhKLU5QUi1aYS1oai1ucHItelxcXFxkXVwiLGNhc2luZzpcInVwcGVyXCJ9fSxjbGVhckluY29tcGxldGU6ITAsYXV0b1VubWFzazohMH19KSxtb2R1bGUuZXhwb3J0cz1JbnB1dG1hc2t9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe2Z1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gX3R5cGVvZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiB0eXBlb2Ygb2JqfTpmdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIG9iaiYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZvYmouY29uc3RydWN0b3I9PT1TeW1ib2wmJm9iaiE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2Ygb2JqfSxfdHlwZW9mKG9iail9dmFyICQ9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSx3aW5kb3c9X193ZWJwYWNrX3JlcXVpcmVfXyg2KSxkb2N1bWVudD13aW5kb3cuZG9jdW1lbnQsZ2VuZXJhdGVNYXNrU2V0PV9fd2VicGFja19yZXF1aXJlX18oNykuZ2VuZXJhdGVNYXNrU2V0LGFuYWx5c2VNYXNrPV9fd2VicGFja19yZXF1aXJlX18oNykuYW5hbHlzZU1hc2ssbWFza1Njb3BlPV9fd2VicGFja19yZXF1aXJlX18oOCk7ZnVuY3Rpb24gSW5wdXRtYXNrKGFsaWFzLG9wdGlvbnMsaW50ZXJuYWwpe2lmKCEodGhpcyBpbnN0YW5jZW9mIElucHV0bWFzaykpcmV0dXJuIG5ldyBJbnB1dG1hc2soYWxpYXMsb3B0aW9ucyxpbnRlcm5hbCk7dGhpcy5lbD12b2lkIDAsdGhpcy5ldmVudHM9e30sdGhpcy5tYXNrc2V0PXZvaWQgMCx0aGlzLnJlZnJlc2hWYWx1ZT0hMSwhMCE9PWludGVybmFsJiYoJC5pc1BsYWluT2JqZWN0KGFsaWFzKT9vcHRpb25zPWFsaWFzOihvcHRpb25zPW9wdGlvbnN8fHt9LGFsaWFzJiYob3B0aW9ucy5hbGlhcz1hbGlhcykpLHRoaXMub3B0cz0kLmV4dGVuZCghMCx7fSx0aGlzLmRlZmF1bHRzLG9wdGlvbnMpLHRoaXMubm9NYXNrc0NhY2hlPW9wdGlvbnMmJnZvaWQgMCE9PW9wdGlvbnMuZGVmaW5pdGlvbnMsdGhpcy51c2VyT3B0aW9ucz1vcHRpb25zfHx7fSxyZXNvbHZlQWxpYXModGhpcy5vcHRzLmFsaWFzLG9wdGlvbnMsdGhpcy5vcHRzKSx0aGlzLmlzUlRMPXRoaXMub3B0cy5udW1lcmljSW5wdXQpfWZ1bmN0aW9uIHJlc29sdmVBbGlhcyhhbGlhc1N0cixvcHRpb25zLG9wdHMpe3ZhciBhbGlhc0RlZmluaXRpb249SW5wdXRtYXNrLnByb3RvdHlwZS5hbGlhc2VzW2FsaWFzU3RyXTtyZXR1cm4gYWxpYXNEZWZpbml0aW9uPyhhbGlhc0RlZmluaXRpb24uYWxpYXMmJnJlc29sdmVBbGlhcyhhbGlhc0RlZmluaXRpb24uYWxpYXMsdm9pZCAwLG9wdHMpLCQuZXh0ZW5kKCEwLG9wdHMsYWxpYXNEZWZpbml0aW9uKSwkLmV4dGVuZCghMCxvcHRzLG9wdGlvbnMpLCEwKToobnVsbD09PW9wdHMubWFzayYmKG9wdHMubWFzaz1hbGlhc1N0ciksITEpfWZ1bmN0aW9uIGltcG9ydEF0dHJpYnV0ZU9wdGlvbnMobnB0LG9wdHMsdXNlck9wdGlvbnMsZGF0YUF0dHJpYnV0ZSl7ZnVuY3Rpb24gaW1wb3J0T3B0aW9uKG9wdGlvbixvcHRpb25EYXRhKXtvcHRpb25EYXRhPXZvaWQgMCE9PW9wdGlvbkRhdGE/b3B0aW9uRGF0YTpucHQuZ2V0QXR0cmlidXRlKGRhdGFBdHRyaWJ1dGUrXCItXCIrb3B0aW9uKSxudWxsIT09b3B0aW9uRGF0YSYmKFwic3RyaW5nXCI9PXR5cGVvZiBvcHRpb25EYXRhJiYoMD09PW9wdGlvbi5pbmRleE9mKFwib25cIik/b3B0aW9uRGF0YT13aW5kb3dbb3B0aW9uRGF0YV06XCJmYWxzZVwiPT09b3B0aW9uRGF0YT9vcHRpb25EYXRhPSExOlwidHJ1ZVwiPT09b3B0aW9uRGF0YSYmKG9wdGlvbkRhdGE9ITApKSx1c2VyT3B0aW9uc1tvcHRpb25dPW9wdGlvbkRhdGEpfWlmKCEwPT09b3B0cy5pbXBvcnREYXRhQXR0cmlidXRlcyl7dmFyIGF0dHJPcHRpb25zPW5wdC5nZXRBdHRyaWJ1dGUoZGF0YUF0dHJpYnV0ZSksb3B0aW9uLGRhdGFvcHRpb25zLG9wdGlvbkRhdGEscDtpZihhdHRyT3B0aW9ucyYmXCJcIiE9PWF0dHJPcHRpb25zJiYoYXR0ck9wdGlvbnM9YXR0ck9wdGlvbnMucmVwbGFjZSgvJy9nLCdcIicpLGRhdGFvcHRpb25zPUpTT04ucGFyc2UoXCJ7XCIrYXR0ck9wdGlvbnMrXCJ9XCIpKSxkYXRhb3B0aW9ucylmb3IocCBpbiBvcHRpb25EYXRhPXZvaWQgMCxkYXRhb3B0aW9ucylpZihcImFsaWFzXCI9PT1wLnRvTG93ZXJDYXNlKCkpe29wdGlvbkRhdGE9ZGF0YW9wdGlvbnNbcF07YnJlYWt9Zm9yKG9wdGlvbiBpbiBpbXBvcnRPcHRpb24oXCJhbGlhc1wiLG9wdGlvbkRhdGEpLHVzZXJPcHRpb25zLmFsaWFzJiZyZXNvbHZlQWxpYXModXNlck9wdGlvbnMuYWxpYXMsdXNlck9wdGlvbnMsb3B0cyksb3B0cyl7aWYoZGF0YW9wdGlvbnMpZm9yKHAgaW4gb3B0aW9uRGF0YT12b2lkIDAsZGF0YW9wdGlvbnMpaWYocC50b0xvd2VyQ2FzZSgpPT09b3B0aW9uLnRvTG93ZXJDYXNlKCkpe29wdGlvbkRhdGE9ZGF0YW9wdGlvbnNbcF07YnJlYWt9aW1wb3J0T3B0aW9uKG9wdGlvbixvcHRpb25EYXRhKX19cmV0dXJuICQuZXh0ZW5kKCEwLG9wdHMsdXNlck9wdGlvbnMpLFwicnRsXCIhPT1ucHQuZGlyJiYhb3B0cy5yaWdodEFsaWdufHwobnB0LnN0eWxlLnRleHRBbGlnbj1cInJpZ2h0XCIpLFwicnRsXCIhPT1ucHQuZGlyJiYhb3B0cy5udW1lcmljSW5wdXR8fChucHQuZGlyPVwibHRyXCIsbnB0LnJlbW92ZUF0dHJpYnV0ZShcImRpclwiKSxvcHRzLmlzUlRMPSEwKSxPYmplY3Qua2V5cyh1c2VyT3B0aW9ucykubGVuZ3RofUlucHV0bWFzay5wcm90b3R5cGU9e2RhdGFBdHRyaWJ1dGU6XCJkYXRhLWlucHV0bWFza1wiLGRlZmF1bHRzOntwbGFjZWhvbGRlcjpcIl9cIixvcHRpb25hbG1hcmtlcjpbXCJbXCIsXCJdXCJdLHF1YW50aWZpZXJtYXJrZXI6W1wie1wiLFwifVwiXSxncm91cG1hcmtlcjpbXCIoXCIsXCIpXCJdLGFsdGVybmF0b3JtYXJrZXI6XCJ8XCIsZXNjYXBlQ2hhcjpcIlxcXFxcIixtYXNrOm51bGwscmVnZXg6bnVsbCxvbmNvbXBsZXRlOiQubm9vcCxvbmluY29tcGxldGU6JC5ub29wLG9uY2xlYXJlZDokLm5vb3AscmVwZWF0OjAsZ3JlZWR5OiExLGF1dG9Vbm1hc2s6ITEscmVtb3ZlTWFza09uU3VibWl0OiExLGNsZWFyTWFza09uTG9zdEZvY3VzOiEwLGluc2VydE1vZGU6ITAsY2xlYXJJbmNvbXBsZXRlOiExLGFsaWFzOm51bGwsb25LZXlEb3duOiQubm9vcCxvbkJlZm9yZU1hc2s6bnVsbCxvbkJlZm9yZVBhc3RlOmZ1bmN0aW9uIG9uQmVmb3JlUGFzdGUocGFzdGVkVmFsdWUsb3B0cyl7cmV0dXJuICQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlTWFzayk/b3B0cy5vbkJlZm9yZU1hc2suY2FsbCh0aGlzLHBhc3RlZFZhbHVlLG9wdHMpOnBhc3RlZFZhbHVlfSxvbkJlZm9yZVdyaXRlOm51bGwsb25Vbk1hc2s6bnVsbCxzaG93TWFza09uRm9jdXM6ITAsc2hvd01hc2tPbkhvdmVyOiEwLG9uS2V5VmFsaWRhdGlvbjokLm5vb3Asc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlcjpcIiBcIixudW1lcmljSW5wdXQ6ITEscmlnaHRBbGlnbjohMSx1bmRvT25Fc2NhcGU6ITAscmFkaXhQb2ludDpcIlwiLF9yYWRpeERhbmNlOiExLGdyb3VwU2VwYXJhdG9yOlwiXCIsa2VlcFN0YXRpYzpudWxsLHBvc2l0aW9uQ2FyZXRPblRhYjohMCx0YWJUaHJvdWdoOiExLHN1cHBvcnRzSW5wdXRUeXBlOltcInRleHRcIixcInRlbFwiLFwidXJsXCIsXCJwYXNzd29yZFwiLFwic2VhcmNoXCJdLGlnbm9yYWJsZXM6WzgsOSwxMywxOSwyNywzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0NSw0Niw5MywxMTIsMTEzLDExNCwxMTUsMTE2LDExNywxMTgsMTE5LDEyMCwxMjEsMTIyLDEyMywwLDIyOV0saXNDb21wbGV0ZTpudWxsLHByZVZhbGlkYXRpb246bnVsbCxwb3N0VmFsaWRhdGlvbjpudWxsLHN0YXRpY0RlZmluaXRpb25TeW1ib2w6dm9pZCAwLGppdE1hc2tpbmc6ITEsbnVsbGFibGU6ITAsaW5wdXRFdmVudE9ubHk6ITEsbm9WYWx1ZVBhdGNoaW5nOiExLHBvc2l0aW9uQ2FyZXRPbkNsaWNrOlwibHZwXCIsY2FzaW5nOm51bGwsaW5wdXRtb2RlOlwidmVyYmF0aW1cIixjb2xvck1hc2s6ITEsZGlzYWJsZVByZWRpY3RpdmVUZXh0OiExLGltcG9ydERhdGFBdHRyaWJ1dGVzOiEwLHNoaWZ0UG9zaXRpb25zOiEwfSxkZWZpbml0aW9uczp7OTp7dmFsaWRhdG9yOlwiWzAtOVxcdWZmMTEtXFx1ZmYxOV1cIixkZWZpbml0aW9uU3ltYm9sOlwiKlwifSxhOnt2YWxpZGF0b3I6XCJbQS1aYS16XFx1MDQxMC1cXHUwNDRmXFx1MDQwMVxcdTA0NTFcXHhjMC1cXHhmZlxceGI1XVwiLGRlZmluaXRpb25TeW1ib2w6XCIqXCJ9LFwiKlwiOnt2YWxpZGF0b3I6XCJbMC05XFx1ZmYxMS1cXHVmZjE5QS1aYS16XFx1MDQxMC1cXHUwNDRmXFx1MDQwMVxcdTA0NTFcXHhjMC1cXHhmZlxceGI1XVwifX0sYWxpYXNlczp7fSxtYXNrc0NhY2hlOnt9LG1hc2s6ZnVuY3Rpb24gbWFzayhlbGVtcyl7dmFyIHRoYXQ9dGhpcztyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZWxlbXMmJihlbGVtcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtcyl8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbXMpKSxlbGVtcz1lbGVtcy5ub2RlTmFtZT9bZWxlbXNdOmVsZW1zLCQuZWFjaChlbGVtcyxmdW5jdGlvbihuZHgsZWwpe3ZhciBzY29wZWRPcHRzPSQuZXh0ZW5kKCEwLHt9LHRoYXQub3B0cyk7aWYoaW1wb3J0QXR0cmlidXRlT3B0aW9ucyhlbCxzY29wZWRPcHRzLCQuZXh0ZW5kKCEwLHt9LHRoYXQudXNlck9wdGlvbnMpLHRoYXQuZGF0YUF0dHJpYnV0ZSkpe3ZhciBtYXNrc2V0PWdlbmVyYXRlTWFza1NldChzY29wZWRPcHRzLHRoYXQubm9NYXNrc0NhY2hlKTt2b2lkIDAhPT1tYXNrc2V0JiYodm9pZCAwIT09ZWwuaW5wdXRtYXNrJiYoZWwuaW5wdXRtYXNrLm9wdHMuYXV0b1VubWFzaz0hMCxlbC5pbnB1dG1hc2sucmVtb3ZlKCkpLGVsLmlucHV0bWFzaz1uZXcgSW5wdXRtYXNrKHZvaWQgMCx2b2lkIDAsITApLGVsLmlucHV0bWFzay5vcHRzPXNjb3BlZE9wdHMsZWwuaW5wdXRtYXNrLm5vTWFza3NDYWNoZT10aGF0Lm5vTWFza3NDYWNoZSxlbC5pbnB1dG1hc2sudXNlck9wdGlvbnM9JC5leHRlbmQoITAse30sdGhhdC51c2VyT3B0aW9ucyksZWwuaW5wdXRtYXNrLmlzUlRMPXNjb3BlZE9wdHMuaXNSVEx8fHNjb3BlZE9wdHMubnVtZXJpY0lucHV0LGVsLmlucHV0bWFzay5lbD1lbCxlbC5pbnB1dG1hc2subWFza3NldD1tYXNrc2V0LCQuZGF0YShlbCxcIl9pbnB1dG1hc2tfb3B0c1wiLHNjb3BlZE9wdHMpLG1hc2tTY29wZS5jYWxsKGVsLmlucHV0bWFzayx7YWN0aW9uOlwibWFza1wifSkpfX0pLGVsZW1zJiZlbGVtc1swXSYmZWxlbXNbMF0uaW5wdXRtYXNrfHx0aGlzfSxvcHRpb246ZnVuY3Rpb24gb3B0aW9uKG9wdGlvbnMsbm9yZW1hc2spe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBvcHRpb25zP3RoaXMub3B0c1tvcHRpb25zXTpcIm9iamVjdFwiPT09X3R5cGVvZihvcHRpb25zKT8oJC5leHRlbmQodGhpcy51c2VyT3B0aW9ucyxvcHRpb25zKSx0aGlzLmVsJiYhMCE9PW5vcmVtYXNrJiZ0aGlzLm1hc2sodGhpcy5lbCksdGhpcyk6dm9pZCAwfSx1bm1hc2tlZHZhbHVlOmZ1bmN0aW9uIHVubWFza2VkdmFsdWUodmFsdWUpe3JldHVybiB0aGlzLm1hc2tzZXQ9dGhpcy5tYXNrc2V0fHxnZW5lcmF0ZU1hc2tTZXQodGhpcy5vcHRzLHRoaXMubm9NYXNrc0NhY2hlKSxtYXNrU2NvcGUuY2FsbCh0aGlzLHthY3Rpb246XCJ1bm1hc2tlZHZhbHVlXCIsdmFsdWU6dmFsdWV9KX0scmVtb3ZlOmZ1bmN0aW9uIHJlbW92ZSgpe3JldHVybiBtYXNrU2NvcGUuY2FsbCh0aGlzLHthY3Rpb246XCJyZW1vdmVcIn0pfSxnZXRlbXB0eW1hc2s6ZnVuY3Rpb24gZ2V0ZW1wdHltYXNrKCl7cmV0dXJuIHRoaXMubWFza3NldD10aGlzLm1hc2tzZXR8fGdlbmVyYXRlTWFza1NldCh0aGlzLm9wdHMsdGhpcy5ub01hc2tzQ2FjaGUpLG1hc2tTY29wZS5jYWxsKHRoaXMse2FjdGlvbjpcImdldGVtcHR5bWFza1wifSl9LGhhc01hc2tlZFZhbHVlOmZ1bmN0aW9uIGhhc01hc2tlZFZhbHVlKCl7cmV0dXJuIXRoaXMub3B0cy5hdXRvVW5tYXNrfSxpc0NvbXBsZXRlOmZ1bmN0aW9uIGlzQ29tcGxldGUoKXtyZXR1cm4gdGhpcy5tYXNrc2V0PXRoaXMubWFza3NldHx8Z2VuZXJhdGVNYXNrU2V0KHRoaXMub3B0cyx0aGlzLm5vTWFza3NDYWNoZSksbWFza1Njb3BlLmNhbGwodGhpcyx7YWN0aW9uOlwiaXNDb21wbGV0ZVwifSl9LGdldG1ldGFkYXRhOmZ1bmN0aW9uIGdldG1ldGFkYXRhKCl7cmV0dXJuIHRoaXMubWFza3NldD10aGlzLm1hc2tzZXR8fGdlbmVyYXRlTWFza1NldCh0aGlzLm9wdHMsdGhpcy5ub01hc2tzQ2FjaGUpLG1hc2tTY29wZS5jYWxsKHRoaXMse2FjdGlvbjpcImdldG1ldGFkYXRhXCJ9KX0saXNWYWxpZDpmdW5jdGlvbiBpc1ZhbGlkKHZhbHVlKXtyZXR1cm4gdGhpcy5tYXNrc2V0PXRoaXMubWFza3NldHx8Z2VuZXJhdGVNYXNrU2V0KHRoaXMub3B0cyx0aGlzLm5vTWFza3NDYWNoZSksbWFza1Njb3BlLmNhbGwodGhpcyx7YWN0aW9uOlwiaXNWYWxpZFwiLHZhbHVlOnZhbHVlfSl9LGZvcm1hdDpmdW5jdGlvbiBmb3JtYXQodmFsdWUsbWV0YWRhdGEpe3JldHVybiB0aGlzLm1hc2tzZXQ9dGhpcy5tYXNrc2V0fHxnZW5lcmF0ZU1hc2tTZXQodGhpcy5vcHRzLHRoaXMubm9NYXNrc0NhY2hlKSxtYXNrU2NvcGUuY2FsbCh0aGlzLHthY3Rpb246XCJmb3JtYXRcIix2YWx1ZTp2YWx1ZSxtZXRhZGF0YTptZXRhZGF0YX0pfSxzZXRWYWx1ZTpmdW5jdGlvbiBzZXRWYWx1ZSh2YWx1ZSl7dGhpcy5lbCYmJCh0aGlzLmVsKS50cmlnZ2VyKFwic2V0dmFsdWVcIixbdmFsdWVdKX0sYW5hbHlzZU1hc2s6YW5hbHlzZU1hc2sscG9zaXRpb25Db2xvck1hc2s6ZnVuY3Rpb24gcG9zaXRpb25Db2xvck1hc2soaW5wdXQsdGVtcGxhdGUpe2lucHV0LnN0eWxlLmxlZnQ9dGVtcGxhdGUub2Zmc2V0TGVmdCtcInB4XCJ9fSxJbnB1dG1hc2suZXh0ZW5kRGVmYXVsdHM9ZnVuY3Rpb24ob3B0aW9ucyl7JC5leHRlbmQoITAsSW5wdXRtYXNrLnByb3RvdHlwZS5kZWZhdWx0cyxvcHRpb25zKX0sSW5wdXRtYXNrLmV4dGVuZERlZmluaXRpb25zPWZ1bmN0aW9uKGRlZmluaXRpb24peyQuZXh0ZW5kKCEwLElucHV0bWFzay5wcm90b3R5cGUuZGVmaW5pdGlvbnMsZGVmaW5pdGlvbil9LElucHV0bWFzay5leHRlbmRBbGlhc2VzPWZ1bmN0aW9uKGFsaWFzKXskLmV4dGVuZCghMCxJbnB1dG1hc2sucHJvdG90eXBlLmFsaWFzZXMsYWxpYXMpfSxJbnB1dG1hc2suZm9ybWF0PWZ1bmN0aW9uKHZhbHVlLG9wdGlvbnMsbWV0YWRhdGEpe3JldHVybiBJbnB1dG1hc2sob3B0aW9ucykuZm9ybWF0KHZhbHVlLG1ldGFkYXRhKX0sSW5wdXRtYXNrLnVubWFzaz1mdW5jdGlvbih2YWx1ZSxvcHRpb25zKXtyZXR1cm4gSW5wdXRtYXNrKG9wdGlvbnMpLnVubWFza2VkdmFsdWUodmFsdWUpfSxJbnB1dG1hc2suaXNWYWxpZD1mdW5jdGlvbih2YWx1ZSxvcHRpb25zKXtyZXR1cm4gSW5wdXRtYXNrKG9wdGlvbnMpLmlzVmFsaWQodmFsdWUpfSxJbnB1dG1hc2sucmVtb3ZlPWZ1bmN0aW9uKGVsZW1zKXtcInN0cmluZ1wiPT10eXBlb2YgZWxlbXMmJihlbGVtcz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtcyl8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbXMpKSxlbGVtcz1lbGVtcy5ub2RlTmFtZT9bZWxlbXNdOmVsZW1zLCQuZWFjaChlbGVtcyxmdW5jdGlvbihuZHgsZWwpe2VsLmlucHV0bWFzayYmZWwuaW5wdXRtYXNrLnJlbW92ZSgpfSl9LElucHV0bWFzay5zZXRWYWx1ZT1mdW5jdGlvbihlbGVtcyx2YWx1ZSl7XCJzdHJpbmdcIj09dHlwZW9mIGVsZW1zJiYoZWxlbXM9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbXMpfHxkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsZW1zKSksZWxlbXM9ZWxlbXMubm9kZU5hbWU/W2VsZW1zXTplbGVtcywkLmVhY2goZWxlbXMsZnVuY3Rpb24obmR4LGVsKXtlbC5pbnB1dG1hc2s/ZWwuaW5wdXRtYXNrLnNldFZhbHVlKHZhbHVlKTokKGVsKS50cmlnZ2VyKFwic2V0dmFsdWVcIixbdmFsdWVdKX0pfSxJbnB1dG1hc2suZXNjYXBlUmVnZXg9ZnVuY3Rpb24oc3RyKXt2YXIgc3BlY2lhbHM9W1wiL1wiLFwiLlwiLFwiKlwiLFwiK1wiLFwiP1wiLFwifFwiLFwiKFwiLFwiKVwiLFwiW1wiLFwiXVwiLFwie1wiLFwifVwiLFwiXFxcXFwiLFwiJFwiLFwiXlwiXTtyZXR1cm4gc3RyLnJlcGxhY2UobmV3IFJlZ0V4cChcIihcXFxcXCIrc3BlY2lhbHMuam9pbihcInxcXFxcXCIpK1wiKVwiLFwiZ2ltXCIpLFwiXFxcXCQxXCIpfSxJbnB1dG1hc2sua2V5Q29kZT17QkFDS1NQQUNFOjgsQkFDS1NQQUNFX1NBRkFSSToxMjcsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LElOU0VSVDo0NSxMRUZUOjM3LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFJJR0hUOjM5LFNQQUNFOjMyLFRBQjo5LFVQOjM4LFg6ODgsQ09OVFJPTDoxN30sSW5wdXRtYXNrLmRlcGVuZGVuY3lMaWI9JCx3aW5kb3cuSW5wdXRtYXNrPUlucHV0bWFzayxtb2R1bGUuZXhwb3J0cz1JbnB1dG1hc2t9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPV9fd2VicGFja19yZXF1aXJlX18oNSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1fX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX181X199LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXztmdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIF90eXBlb2Y9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gdHlwZW9mIG9ian06ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiBvYmomJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmb2JqLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZvYmohPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIG9ian0sX3R5cGVvZihvYmopfV9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fPWZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6bmV3KGV2YWwoXCJyZXF1aXJlKCdqc2RvbScpLkpTRE9NXCIpKShcIlwiKS53aW5kb3d9LmNhbGwoZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fLGV4cG9ydHMsbW9kdWxlKSx2b2lkIDA9PT1fX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfX3x8KG1vZHVsZS5leHBvcnRzPV9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyICQ9X193ZWJwYWNrX3JlcXVpcmVfXyg0KTtmdW5jdGlvbiBnZW5lcmF0ZU1hc2tTZXQob3B0cyxub2NhY2hlKXt2YXIgbXM7ZnVuY3Rpb24gZ2VuZXJhdGVNYXNrKG1hc2ssbWV0YWRhdGEsb3B0cyl7dmFyIHJlZ2V4TWFzaz0hMSxtYXNrc2V0RGVmaW5pdGlvbixtYXNrZGVmS2V5O2lmKG51bGwhPT1tYXNrJiZcIlwiIT09bWFza3x8KHJlZ2V4TWFzaz1udWxsIT09b3B0cy5yZWdleCxtYXNrPXJlZ2V4TWFzaz8obWFzaz1vcHRzLnJlZ2V4LG1hc2sucmVwbGFjZSgvXihcXF4pKC4qKShcXCQpJC8sXCIkMlwiKSk6KHJlZ2V4TWFzaz0hMCxcIi4qXCIpKSwxPT09bWFzay5sZW5ndGgmJiExPT09b3B0cy5ncmVlZHkmJjAhPT1vcHRzLnJlcGVhdCYmKG9wdHMucGxhY2Vob2xkZXI9XCJcIiksMDxvcHRzLnJlcGVhdHx8XCIqXCI9PT1vcHRzLnJlcGVhdHx8XCIrXCI9PT1vcHRzLnJlcGVhdCl7dmFyIHJlcGVhdFN0YXJ0PVwiKlwiPT09b3B0cy5yZXBlYXQ/MDpcIitcIj09PW9wdHMucmVwZWF0PzE6b3B0cy5yZXBlYXQ7bWFzaz1vcHRzLmdyb3VwbWFya2VyWzBdK21hc2srb3B0cy5ncm91cG1hcmtlclsxXStvcHRzLnF1YW50aWZpZXJtYXJrZXJbMF0rcmVwZWF0U3RhcnQrXCIsXCIrb3B0cy5yZXBlYXQrb3B0cy5xdWFudGlmaWVybWFya2VyWzFdfXJldHVybiBtYXNrZGVmS2V5PXJlZ2V4TWFzaz9cInJlZ2V4X1wiK29wdHMucmVnZXg6b3B0cy5udW1lcmljSW5wdXQ/bWFzay5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKTptYXNrLCExIT09b3B0cy5rZWVwU3RhdGljJiYobWFza2RlZktleT1cImtzX1wiK21hc2tkZWZLZXkpLHZvaWQgMD09PUlucHV0bWFzay5wcm90b3R5cGUubWFza3NDYWNoZVttYXNrZGVmS2V5XXx8ITA9PT1ub2NhY2hlPyhtYXNrc2V0RGVmaW5pdGlvbj17bWFzazptYXNrLG1hc2tUb2tlbjpJbnB1dG1hc2sucHJvdG90eXBlLmFuYWx5c2VNYXNrKG1hc2sscmVnZXhNYXNrLG9wdHMpLHZhbGlkUG9zaXRpb25zOnt9LF9idWZmZXI6dm9pZCAwLGJ1ZmZlcjp2b2lkIDAsdGVzdHM6e30sZXhjbHVkZXM6e30sbWV0YWRhdGE6bWV0YWRhdGEsbWFza0xlbmd0aDp2b2lkIDAsaml0T2Zmc2V0Ont9fSwhMCE9PW5vY2FjaGUmJihJbnB1dG1hc2sucHJvdG90eXBlLm1hc2tzQ2FjaGVbbWFza2RlZktleV09bWFza3NldERlZmluaXRpb24sbWFza3NldERlZmluaXRpb249JC5leHRlbmQoITAse30sSW5wdXRtYXNrLnByb3RvdHlwZS5tYXNrc0NhY2hlW21hc2tkZWZLZXldKSkpOm1hc2tzZXREZWZpbml0aW9uPSQuZXh0ZW5kKCEwLHt9LElucHV0bWFzay5wcm90b3R5cGUubWFza3NDYWNoZVttYXNrZGVmS2V5XSksbWFza3NldERlZmluaXRpb259aWYoJC5pc0Z1bmN0aW9uKG9wdHMubWFzaykmJihvcHRzLm1hc2s9b3B0cy5tYXNrKG9wdHMpKSwkLmlzQXJyYXkob3B0cy5tYXNrKSl7aWYoMTxvcHRzLm1hc2subGVuZ3RoKXtpZihudWxsPT09b3B0cy5rZWVwU3RhdGljKXtvcHRzLmtlZXBTdGF0aWM9XCJhdXRvXCI7Zm9yKHZhciBpPTA7aTxvcHRzLm1hc2subGVuZ3RoO2krKylpZihvcHRzLm1hc2tbaV0uY2hhckF0KDApIT09b3B0cy5tYXNrWzBdLmNoYXJBdCgwKSl7b3B0cy5rZWVwU3RhdGljPSEwO2JyZWFrfX12YXIgYWx0TWFzaz1vcHRzLmdyb3VwbWFya2VyWzBdO3JldHVybiAkLmVhY2gob3B0cy5pc1JUTD9vcHRzLm1hc2sucmV2ZXJzZSgpOm9wdHMubWFzayxmdW5jdGlvbihuZHgsbXNrKXsxPGFsdE1hc2subGVuZ3RoJiYoYWx0TWFzays9b3B0cy5ncm91cG1hcmtlclsxXStvcHRzLmFsdGVybmF0b3JtYXJrZXIrb3B0cy5ncm91cG1hcmtlclswXSksdm9pZCAwPT09bXNrLm1hc2t8fCQuaXNGdW5jdGlvbihtc2subWFzayk/YWx0TWFzays9bXNrOmFsdE1hc2srPW1zay5tYXNrfSksYWx0TWFzays9b3B0cy5ncm91cG1hcmtlclsxXSxnZW5lcmF0ZU1hc2soYWx0TWFzayxvcHRzLm1hc2ssb3B0cyl9b3B0cy5tYXNrPW9wdHMubWFzay5wb3AoKX1yZXR1cm4gbXM9b3B0cy5tYXNrJiZ2b2lkIDAhPT1vcHRzLm1hc2subWFzayYmISQuaXNGdW5jdGlvbihvcHRzLm1hc2subWFzayk/Z2VuZXJhdGVNYXNrKG9wdHMubWFzay5tYXNrLG9wdHMubWFzayxvcHRzKTpnZW5lcmF0ZU1hc2sob3B0cy5tYXNrLG9wdHMubWFzayxvcHRzKSxtc31mdW5jdGlvbiBhbmFseXNlTWFzayhtYXNrLHJlZ2V4TWFzayxvcHRzKXt2YXIgdG9rZW5pemVyPS8oPzpbPyorXXxcXHtbMC05KypdKyg/OixbMC05KypdKik/KD86XFx8WzAtOSsqXSopP1xcfSl8W14uPyorXiR7W10oKXxcXFxcXSt8Li9nLHJlZ2V4VG9rZW5pemVyPS9cXFtcXF4/XT8oPzpbXlxcXFxcXF1dK3xcXFxcW1xcU1xcc10/KSpdP3xcXFxcKD86MCg/OlswLTNdWzAtN117MCwyfXxbNC03XVswLTddPyk/fFsxLTldWzAtOV0qfHhbMC05QS1GYS1mXXsyfXx1WzAtOUEtRmEtZl17NH18Y1tBLVphLXpdfFtcXFNcXHNdPyl8XFwoKD86XFw/Wzo9IV0/KT98KD86Wz8qK118XFx7WzAtOV0rKD86LFswLTldKik/XFx9KVxcPz98W14uPyorXiR7WygpfFxcXFxdK3wuL2csZXNjYXBlZD0hMSxjdXJyZW50VG9rZW49bmV3IE1hc2tUb2tlbixtYXRjaCxtLG9wZW5lbmluZ3M9W10sbWFza1Rva2Vucz1bXSxvcGVuaW5nVG9rZW4sY3VycmVudE9wZW5pbmdUb2tlbixhbHRlcm5hdG9yLGxhc3RNYXRjaCxjbG9zZVJlZ2V4R3JvdXA9ITE7ZnVuY3Rpb24gTWFza1Rva2VuKGlzR3JvdXAsaXNPcHRpb25hbCxpc1F1YW50aWZpZXIsaXNBbHRlcm5hdG9yKXt0aGlzLm1hdGNoZXM9W10sdGhpcy5vcGVuR3JvdXA9aXNHcm91cHx8ITEsdGhpcy5hbHRlcm5hdG9yR3JvdXA9ITEsdGhpcy5pc0dyb3VwPWlzR3JvdXB8fCExLHRoaXMuaXNPcHRpb25hbD1pc09wdGlvbmFsfHwhMSx0aGlzLmlzUXVhbnRpZmllcj1pc1F1YW50aWZpZXJ8fCExLHRoaXMuaXNBbHRlcm5hdG9yPWlzQWx0ZXJuYXRvcnx8ITEsdGhpcy5xdWFudGlmaWVyPXttaW46MSxtYXg6MX19ZnVuY3Rpb24gaW5zZXJ0VGVzdERlZmluaXRpb24obXRva2VuLGVsZW1lbnQscG9zaXRpb24pe3Bvc2l0aW9uPXZvaWQgMCE9PXBvc2l0aW9uP3Bvc2l0aW9uOm10b2tlbi5tYXRjaGVzLmxlbmd0aDt2YXIgcHJldk1hdGNoPW10b2tlbi5tYXRjaGVzW3Bvc2l0aW9uLTFdO2lmKHJlZ2V4TWFzaykwPT09ZWxlbWVudC5pbmRleE9mKFwiW1wiKXx8ZXNjYXBlZCYmL1xcXFxkfFxcXFxzfFxcXFx3XS9pLnRlc3QoZWxlbWVudCl8fFwiLlwiPT09ZWxlbWVudD9tdG9rZW4ubWF0Y2hlcy5zcGxpY2UocG9zaXRpb24rKywwLHtmbjpuZXcgUmVnRXhwKGVsZW1lbnQsb3B0cy5jYXNpbmc/XCJpXCI6XCJcIiksc3RhdGljOiExLG9wdGlvbmFsaXR5OiExLG5ld0Jsb2NrTWFya2VyOnZvaWQgMD09PXByZXZNYXRjaD9cIm1hc3RlclwiOnByZXZNYXRjaC5kZWYhPT1lbGVtZW50LGNhc2luZzpudWxsLGRlZjplbGVtZW50LHBsYWNlaG9sZGVyOnZvaWQgMCxuYXRpdmVEZWY6ZWxlbWVudH0pOihlc2NhcGVkJiYoZWxlbWVudD1lbGVtZW50W2VsZW1lbnQubGVuZ3RoLTFdKSwkLmVhY2goZWxlbWVudC5zcGxpdChcIlwiKSxmdW5jdGlvbihuZHgsbG1udCl7cHJldk1hdGNoPW10b2tlbi5tYXRjaGVzW3Bvc2l0aW9uLTFdLG10b2tlbi5tYXRjaGVzLnNwbGljZShwb3NpdGlvbisrLDAse2ZuOi9bYS16XS9pLnRlc3Qob3B0cy5zdGF0aWNEZWZpbml0aW9uU3ltYm9sfHxsbW50KT9uZXcgUmVnRXhwKFwiW1wiKyhvcHRzLnN0YXRpY0RlZmluaXRpb25TeW1ib2x8fGxtbnQpK1wiXVwiLG9wdHMuY2FzaW5nP1wiaVwiOlwiXCIpOm51bGwsc3RhdGljOiEwLG9wdGlvbmFsaXR5OiExLG5ld0Jsb2NrTWFya2VyOnZvaWQgMD09PXByZXZNYXRjaD9cIm1hc3RlclwiOnByZXZNYXRjaC5kZWYhPT1sbW50JiYhMCE9PXByZXZNYXRjaC5zdGF0aWMsY2FzaW5nOm51bGwsZGVmOm9wdHMuc3RhdGljRGVmaW5pdGlvblN5bWJvbHx8bG1udCxwbGFjZWhvbGRlcjp2b2lkIDAhPT1vcHRzLnN0YXRpY0RlZmluaXRpb25TeW1ib2w/bG1udDp2b2lkIDAsbmF0aXZlRGVmOihlc2NhcGVkP1wiJ1wiOlwiXCIpK2xtbnR9KX0pKSxlc2NhcGVkPSExO2Vsc2V7dmFyIG1hc2tkZWY9KG9wdHMuZGVmaW5pdGlvbnM/b3B0cy5kZWZpbml0aW9uc1tlbGVtZW50XTp2b2lkIDApfHxJbnB1dG1hc2sucHJvdG90eXBlLmRlZmluaXRpb25zW2VsZW1lbnRdO21hc2tkZWYmJiFlc2NhcGVkP210b2tlbi5tYXRjaGVzLnNwbGljZShwb3NpdGlvbisrLDAse2ZuOm1hc2tkZWYudmFsaWRhdG9yP1wic3RyaW5nXCI9PXR5cGVvZiBtYXNrZGVmLnZhbGlkYXRvcj9uZXcgUmVnRXhwKG1hc2tkZWYudmFsaWRhdG9yLG9wdHMuY2FzaW5nP1wiaVwiOlwiXCIpOm5ldyBmdW5jdGlvbigpe3RoaXMudGVzdD1tYXNrZGVmLnZhbGlkYXRvcn06bmV3IFJlZ0V4cChcIi5cIiksc3RhdGljOiExLG9wdGlvbmFsaXR5OiExLG5ld0Jsb2NrTWFya2VyOnZvaWQgMD09PXByZXZNYXRjaD9cIm1hc3RlclwiOnByZXZNYXRjaC5kZWYhPT0obWFza2RlZi5kZWZpbml0aW9uU3ltYm9sfHxlbGVtZW50KSxjYXNpbmc6bWFza2RlZi5jYXNpbmcsZGVmOm1hc2tkZWYuZGVmaW5pdGlvblN5bWJvbHx8ZWxlbWVudCxwbGFjZWhvbGRlcjptYXNrZGVmLnBsYWNlaG9sZGVyLG5hdGl2ZURlZjplbGVtZW50fSk6KG10b2tlbi5tYXRjaGVzLnNwbGljZShwb3NpdGlvbisrLDAse2ZuOi9bYS16XS9pLnRlc3Qob3B0cy5zdGF0aWNEZWZpbml0aW9uU3ltYm9sfHxlbGVtZW50KT9uZXcgUmVnRXhwKFwiW1wiKyhvcHRzLnN0YXRpY0RlZmluaXRpb25TeW1ib2x8fGVsZW1lbnQpK1wiXVwiLG9wdHMuY2FzaW5nP1wiaVwiOlwiXCIpOm51bGwsc3RhdGljOiEwLG9wdGlvbmFsaXR5OiExLG5ld0Jsb2NrTWFya2VyOnZvaWQgMD09PXByZXZNYXRjaD9cIm1hc3RlclwiOnByZXZNYXRjaC5kZWYhPT1lbGVtZW50JiYhMCE9PXByZXZNYXRjaC5zdGF0aWMsY2FzaW5nOm51bGwsZGVmOm9wdHMuc3RhdGljRGVmaW5pdGlvblN5bWJvbHx8ZWxlbWVudCxwbGFjZWhvbGRlcjp2b2lkIDAhPT1vcHRzLnN0YXRpY0RlZmluaXRpb25TeW1ib2w/ZWxlbWVudDp2b2lkIDAsbmF0aXZlRGVmOihlc2NhcGVkP1wiJ1wiOlwiXCIpK2VsZW1lbnR9KSxlc2NhcGVkPSExKX19ZnVuY3Rpb24gdmVyaWZ5R3JvdXBNYXJrZXIobWFza1Rva2VuKXttYXNrVG9rZW4mJm1hc2tUb2tlbi5tYXRjaGVzJiYkLmVhY2gobWFza1Rva2VuLm1hdGNoZXMsZnVuY3Rpb24obmR4LHRva2VuKXt2YXIgbmV4dFRva2VuPW1hc2tUb2tlbi5tYXRjaGVzW25keCsxXTsodm9pZCAwPT09bmV4dFRva2VufHx2b2lkIDA9PT1uZXh0VG9rZW4ubWF0Y2hlc3x8ITE9PT1uZXh0VG9rZW4uaXNRdWFudGlmaWVyKSYmdG9rZW4mJnRva2VuLmlzR3JvdXAmJih0b2tlbi5pc0dyb3VwPSExLHJlZ2V4TWFza3x8KGluc2VydFRlc3REZWZpbml0aW9uKHRva2VuLG9wdHMuZ3JvdXBtYXJrZXJbMF0sMCksITAhPT10b2tlbi5vcGVuR3JvdXAmJmluc2VydFRlc3REZWZpbml0aW9uKHRva2VuLG9wdHMuZ3JvdXBtYXJrZXJbMV0pKSksdmVyaWZ5R3JvdXBNYXJrZXIodG9rZW4pfSl9ZnVuY3Rpb24gZGVmYXVsdENhc2UoKXtpZigwPG9wZW5lbmluZ3MubGVuZ3RoKXtpZihjdXJyZW50T3BlbmluZ1Rva2VuPW9wZW5lbmluZ3Nbb3BlbmVuaW5ncy5sZW5ndGgtMV0saW5zZXJ0VGVzdERlZmluaXRpb24oY3VycmVudE9wZW5pbmdUb2tlbixtKSxjdXJyZW50T3BlbmluZ1Rva2VuLmlzQWx0ZXJuYXRvcil7YWx0ZXJuYXRvcj1vcGVuZW5pbmdzLnBvcCgpO2Zvcih2YXIgbW5keD0wO21uZHg8YWx0ZXJuYXRvci5tYXRjaGVzLmxlbmd0aDttbmR4KyspYWx0ZXJuYXRvci5tYXRjaGVzW21uZHhdLmlzR3JvdXAmJihhbHRlcm5hdG9yLm1hdGNoZXNbbW5keF0uaXNHcm91cD0hMSk7MDxvcGVuZW5pbmdzLmxlbmd0aD8oY3VycmVudE9wZW5pbmdUb2tlbj1vcGVuZW5pbmdzW29wZW5lbmluZ3MubGVuZ3RoLTFdLGN1cnJlbnRPcGVuaW5nVG9rZW4ubWF0Y2hlcy5wdXNoKGFsdGVybmF0b3IpKTpjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKGFsdGVybmF0b3IpfX1lbHNlIGluc2VydFRlc3REZWZpbml0aW9uKGN1cnJlbnRUb2tlbixtKX1mdW5jdGlvbiByZXZlcnNlVG9rZW5zKG1hc2tUb2tlbil7ZnVuY3Rpb24gcmV2ZXJzZVN0YXRpYyhzdCl7cmV0dXJuIHN0PT09b3B0cy5vcHRpb25hbG1hcmtlclswXT9zdD1vcHRzLm9wdGlvbmFsbWFya2VyWzFdOnN0PT09b3B0cy5vcHRpb25hbG1hcmtlclsxXT9zdD1vcHRzLm9wdGlvbmFsbWFya2VyWzBdOnN0PT09b3B0cy5ncm91cG1hcmtlclswXT9zdD1vcHRzLmdyb3VwbWFya2VyWzFdOnN0PT09b3B0cy5ncm91cG1hcmtlclsxXSYmKHN0PW9wdHMuZ3JvdXBtYXJrZXJbMF0pLHN0fWZvcih2YXIgbWF0Y2ggaW4gbWFza1Rva2VuLm1hdGNoZXM9bWFza1Rva2VuLm1hdGNoZXMucmV2ZXJzZSgpLG1hc2tUb2tlbi5tYXRjaGVzKWlmKG1hc2tUb2tlbi5tYXRjaGVzLmhhc093blByb3BlcnR5KG1hdGNoKSl7dmFyIGludE1hdGNoPXBhcnNlSW50KG1hdGNoKTtpZihtYXNrVG9rZW4ubWF0Y2hlc1ttYXRjaF0uaXNRdWFudGlmaWVyJiZtYXNrVG9rZW4ubWF0Y2hlc1tpbnRNYXRjaCsxXSYmbWFza1Rva2VuLm1hdGNoZXNbaW50TWF0Y2grMV0uaXNHcm91cCl7dmFyIHF0PW1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXTttYXNrVG9rZW4ubWF0Y2hlcy5zcGxpY2UobWF0Y2gsMSksbWFza1Rva2VuLm1hdGNoZXMuc3BsaWNlKGludE1hdGNoKzEsMCxxdCl9dm9pZCAwIT09bWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdLm1hdGNoZXM/bWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdPXJldmVyc2VUb2tlbnMobWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdKTptYXNrVG9rZW4ubWF0Y2hlc1ttYXRjaF09cmV2ZXJzZVN0YXRpYyhtYXNrVG9rZW4ubWF0Y2hlc1ttYXRjaF0pfXJldHVybiBtYXNrVG9rZW59ZnVuY3Rpb24gZ3JvdXBpZnkobWF0Y2hlcyl7dmFyIGdyb3VwVG9rZW49bmV3IE1hc2tUb2tlbighMCk7cmV0dXJuIGdyb3VwVG9rZW4ub3Blbkdyb3VwPSExLGdyb3VwVG9rZW4ubWF0Y2hlcz1tYXRjaGVzLGdyb3VwVG9rZW59ZnVuY3Rpb24gY2xvc2VHcm91cCgpe2lmKG9wZW5pbmdUb2tlbj1vcGVuZW5pbmdzLnBvcCgpLG9wZW5pbmdUb2tlbi5vcGVuR3JvdXA9ITEsdm9pZCAwIT09b3BlbmluZ1Rva2VuKWlmKDA8b3BlbmVuaW5ncy5sZW5ndGgpe2lmKGN1cnJlbnRPcGVuaW5nVG9rZW49b3BlbmVuaW5nc1tvcGVuZW5pbmdzLmxlbmd0aC0xXSxjdXJyZW50T3BlbmluZ1Rva2VuLm1hdGNoZXMucHVzaChvcGVuaW5nVG9rZW4pLGN1cnJlbnRPcGVuaW5nVG9rZW4uaXNBbHRlcm5hdG9yKXthbHRlcm5hdG9yPW9wZW5lbmluZ3MucG9wKCk7Zm9yKHZhciBtbmR4PTA7bW5keDxhbHRlcm5hdG9yLm1hdGNoZXMubGVuZ3RoO21uZHgrKylhbHRlcm5hdG9yLm1hdGNoZXNbbW5keF0uaXNHcm91cD0hMSxhbHRlcm5hdG9yLm1hdGNoZXNbbW5keF0uYWx0ZXJuYXRvckdyb3VwPSExOzA8b3BlbmVuaW5ncy5sZW5ndGg/KGN1cnJlbnRPcGVuaW5nVG9rZW49b3BlbmVuaW5nc1tvcGVuZW5pbmdzLmxlbmd0aC0xXSxjdXJyZW50T3BlbmluZ1Rva2VuLm1hdGNoZXMucHVzaChhbHRlcm5hdG9yKSk6Y3VycmVudFRva2VuLm1hdGNoZXMucHVzaChhbHRlcm5hdG9yKX19ZWxzZSBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKG9wZW5pbmdUb2tlbik7ZWxzZSBkZWZhdWx0Q2FzZSgpfWZ1bmN0aW9uIGdyb3VwUXVhbnRpZmllcihtYXRjaGVzKXt2YXIgbGFzdE1hdGNoPW1hdGNoZXMucG9wKCk7cmV0dXJuIGxhc3RNYXRjaC5pc1F1YW50aWZpZXImJihsYXN0TWF0Y2g9Z3JvdXBpZnkoW21hdGNoZXMucG9wKCksbGFzdE1hdGNoXSkpLGxhc3RNYXRjaH1mb3IocmVnZXhNYXNrJiYob3B0cy5vcHRpb25hbG1hcmtlclswXT12b2lkIDAsb3B0cy5vcHRpb25hbG1hcmtlclsxXT12b2lkIDApO21hdGNoPXJlZ2V4TWFzaz9yZWdleFRva2VuaXplci5leGVjKG1hc2spOnRva2VuaXplci5leGVjKG1hc2spOyl7aWYobT1tYXRjaFswXSxyZWdleE1hc2spc3dpdGNoKG0uY2hhckF0KDApKXtjYXNlXCI/XCI6bT1cInswLDF9XCI7YnJlYWs7Y2FzZVwiK1wiOmNhc2VcIipcIjptPVwie1wiK20rXCJ9XCI7YnJlYWs7Y2FzZVwifFwiOmlmKDA9PT1vcGVuZW5pbmdzLmxlbmd0aCl7dmFyIGFsdFJlZ2V4R3JvdXA9Z3JvdXBpZnkoY3VycmVudFRva2VuLm1hdGNoZXMpO2FsdFJlZ2V4R3JvdXAub3Blbkdyb3VwPSEwLG9wZW5lbmluZ3MucHVzaChhbHRSZWdleEdyb3VwKSxjdXJyZW50VG9rZW4ubWF0Y2hlcz1bXSxjbG9zZVJlZ2V4R3JvdXA9ITB9YnJlYWt9aWYoZXNjYXBlZClkZWZhdWx0Q2FzZSgpO2Vsc2Ugc3dpdGNoKG0uY2hhckF0KDApKXtjYXNlXCIoPz1cIjpicmVhaztjYXNlXCIoPyFcIjpicmVhaztjYXNlXCIoPzw9XCI6YnJlYWs7Y2FzZVwiKD88IVwiOmJyZWFrO2Nhc2Ugb3B0cy5lc2NhcGVDaGFyOmVzY2FwZWQ9ITAscmVnZXhNYXNrJiZkZWZhdWx0Q2FzZSgpO2JyZWFrO2Nhc2Ugb3B0cy5vcHRpb25hbG1hcmtlclsxXTpjYXNlIG9wdHMuZ3JvdXBtYXJrZXJbMV06Y2xvc2VHcm91cCgpO2JyZWFrO2Nhc2Ugb3B0cy5vcHRpb25hbG1hcmtlclswXTpvcGVuZW5pbmdzLnB1c2gobmV3IE1hc2tUb2tlbighMSwhMCkpO2JyZWFrO2Nhc2Ugb3B0cy5ncm91cG1hcmtlclswXTpvcGVuZW5pbmdzLnB1c2gobmV3IE1hc2tUb2tlbighMCkpO2JyZWFrO2Nhc2Ugb3B0cy5xdWFudGlmaWVybWFya2VyWzBdOnZhciBxdWFudGlmaWVyPW5ldyBNYXNrVG9rZW4oITEsITEsITApO209bS5yZXBsYWNlKC9be31dL2csXCJcIik7dmFyIG1xaj1tLnNwbGl0KFwifFwiKSxtcT1tcWpbMF0uc3BsaXQoXCIsXCIpLG1xMD1pc05hTihtcVswXSk/bXFbMF06cGFyc2VJbnQobXFbMF0pLG1xMT0xPT09bXEubGVuZ3RoP21xMDppc05hTihtcVsxXSk/bXFbMV06cGFyc2VJbnQobXFbMV0pO1wiKlwiIT09bXEwJiZcIitcIiE9PW1xMHx8KG1xMD1cIipcIj09PW1xMT8wOjEpLHF1YW50aWZpZXIucXVhbnRpZmllcj17bWluOm1xMCxtYXg6bXExLGppdDptcWpbMV19O3ZhciBtYXRjaGVzPTA8b3BlbmVuaW5ncy5sZW5ndGg/b3BlbmVuaW5nc1tvcGVuZW5pbmdzLmxlbmd0aC0xXS5tYXRjaGVzOmN1cnJlbnRUb2tlbi5tYXRjaGVzO2lmKG1hdGNoPW1hdGNoZXMucG9wKCksbWF0Y2guaXNBbHRlcm5hdG9yKXttYXRjaGVzLnB1c2gobWF0Y2gpLG1hdGNoZXM9bWF0Y2gubWF0Y2hlczt2YXIgZ3JvdXBUb2tlbj1uZXcgTWFza1Rva2VuKCEwKSx0bXBNYXRjaD1tYXRjaGVzLnBvcCgpO21hdGNoZXMucHVzaChncm91cFRva2VuKSxtYXRjaGVzPWdyb3VwVG9rZW4ubWF0Y2hlcyxtYXRjaD10bXBNYXRjaH1tYXRjaC5pc0dyb3VwfHwobWF0Y2g9Z3JvdXBpZnkoW21hdGNoXSkpLG1hdGNoZXMucHVzaChtYXRjaCksbWF0Y2hlcy5wdXNoKHF1YW50aWZpZXIpO2JyZWFrO2Nhc2Ugb3B0cy5hbHRlcm5hdG9ybWFya2VyOmlmKDA8b3BlbmVuaW5ncy5sZW5ndGgpe2N1cnJlbnRPcGVuaW5nVG9rZW49b3BlbmVuaW5nc1tvcGVuZW5pbmdzLmxlbmd0aC0xXTt2YXIgc3ViVG9rZW49Y3VycmVudE9wZW5pbmdUb2tlbi5tYXRjaGVzW2N1cnJlbnRPcGVuaW5nVG9rZW4ubWF0Y2hlcy5sZW5ndGgtMV07bGFzdE1hdGNoPWN1cnJlbnRPcGVuaW5nVG9rZW4ub3Blbkdyb3VwJiYodm9pZCAwPT09c3ViVG9rZW4ubWF0Y2hlc3x8ITE9PT1zdWJUb2tlbi5pc0dyb3VwJiYhMT09PXN1YlRva2VuLmlzQWx0ZXJuYXRvcik/b3BlbmVuaW5ncy5wb3AoKTpncm91cFF1YW50aWZpZXIoY3VycmVudE9wZW5pbmdUb2tlbi5tYXRjaGVzKX1lbHNlIGxhc3RNYXRjaD1ncm91cFF1YW50aWZpZXIoY3VycmVudFRva2VuLm1hdGNoZXMpO2lmKGxhc3RNYXRjaC5pc0FsdGVybmF0b3Ipb3BlbmVuaW5ncy5wdXNoKGxhc3RNYXRjaCk7ZWxzZSBpZihsYXN0TWF0Y2guYWx0ZXJuYXRvckdyb3VwPyhhbHRlcm5hdG9yPW9wZW5lbmluZ3MucG9wKCksbGFzdE1hdGNoLmFsdGVybmF0b3JHcm91cD0hMSk6YWx0ZXJuYXRvcj1uZXcgTWFza1Rva2VuKCExLCExLCExLCEwKSxhbHRlcm5hdG9yLm1hdGNoZXMucHVzaChsYXN0TWF0Y2gpLG9wZW5lbmluZ3MucHVzaChhbHRlcm5hdG9yKSxsYXN0TWF0Y2gub3Blbkdyb3VwKXtsYXN0TWF0Y2gub3Blbkdyb3VwPSExO3ZhciBhbHRlcm5hdG9yR3JvdXA9bmV3IE1hc2tUb2tlbighMCk7YWx0ZXJuYXRvckdyb3VwLmFsdGVybmF0b3JHcm91cD0hMCxvcGVuZW5pbmdzLnB1c2goYWx0ZXJuYXRvckdyb3VwKX1icmVhaztkZWZhdWx0OmRlZmF1bHRDYXNlKCl9fWZvcihjbG9zZVJlZ2V4R3JvdXAmJmNsb3NlR3JvdXAoKTswPG9wZW5lbmluZ3MubGVuZ3RoOylvcGVuaW5nVG9rZW49b3BlbmVuaW5ncy5wb3AoKSxjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKG9wZW5pbmdUb2tlbik7cmV0dXJuIDA8Y3VycmVudFRva2VuLm1hdGNoZXMubGVuZ3RoJiYodmVyaWZ5R3JvdXBNYXJrZXIoY3VycmVudFRva2VuKSxtYXNrVG9rZW5zLnB1c2goY3VycmVudFRva2VuKSksKG9wdHMubnVtZXJpY0lucHV0fHxvcHRzLmlzUlRMKSYmcmV2ZXJzZVRva2VucyhtYXNrVG9rZW5zWzBdKSxtYXNrVG9rZW5zfW1vZHVsZS5leHBvcnRzPXtnZW5lcmF0ZU1hc2tTZXQ6Z2VuZXJhdGVNYXNrU2V0LGFuYWx5c2VNYXNrOmFuYWx5c2VNYXNrfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiBfdHlwZW9mPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIHR5cGVvZiBvYmp9OmZ1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gb2JqJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJm9iai5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmb2JqIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBvYmp9LF90eXBlb2Yob2JqKX12YXIgJD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLHdpbmRvdz1fX3dlYnBhY2tfcmVxdWlyZV9fKDYpLGRvY3VtZW50PXdpbmRvdy5kb2N1bWVudCx1YT13aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCxpZT0wPHVhLmluZGV4T2YoXCJNU0lFIFwiKXx8MDx1YS5pbmRleE9mKFwiVHJpZGVudC9cIiksbW9iaWxlPWlzSW5wdXRFdmVudFN1cHBvcnRlZChcInRvdWNoc3RhcnRcIiksaWVtb2JpbGU9L2llbW9iaWxlL2kudGVzdCh1YSksaXBob25lPS9pcGhvbmUvaS50ZXN0KHVhKSYmIWllbW9iaWxlO2Z1bmN0aW9uIGlzSW5wdXRFdmVudFN1cHBvcnRlZChldmVudE5hbWUpe3ZhciBlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksZXZOYW1lPVwib25cIitldmVudE5hbWUsaXNTdXBwb3J0ZWQ9ZXZOYW1lIGluIGVsO3JldHVybiBpc1N1cHBvcnRlZHx8KGVsLnNldEF0dHJpYnV0ZShldk5hbWUsXCJyZXR1cm47XCIpLGlzU3VwcG9ydGVkPVwiZnVuY3Rpb25cIj09dHlwZW9mIGVsW2V2TmFtZV0pLGVsPW51bGwsaXNTdXBwb3J0ZWR9bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24gbWFza1Njb3BlKGFjdGlvbk9iaixtYXNrc2V0LG9wdHMpe21hc2tzZXQ9bWFza3NldHx8dGhpcy5tYXNrc2V0LG9wdHM9b3B0c3x8dGhpcy5vcHRzO3ZhciBpbnB1dG1hc2s9dGhpcyxlbD10aGlzLmVsLGlzUlRMPXRoaXMuaXNSVEx8fCh0aGlzLmlzUlRMPW9wdHMubnVtZXJpY0lucHV0KSx1bmRvVmFsdWUsJGVsLHNraXBLZXlQcmVzc0V2ZW50PSExLHNraXBJbnB1dEV2ZW50PSExLGlnbm9yYWJsZT0hMSxtYXhMZW5ndGgsbW91c2VFbnRlcj0hMSxjb2xvck1hc2ssb3JpZ2luYWxQbGFjZWhvbGRlcj12b2lkIDA7ZnVuY3Rpb24gZ2V0TWFza1RlbXBsYXRlKGJhc2VPbklucHV0LG1pbmltYWxQb3MsaW5jbHVkZU1vZGUsbm9KaXQsY2xlYXJPcHRpb25hbFRhaWwpe3ZhciBncmVlZHk9b3B0cy5ncmVlZHk7Y2xlYXJPcHRpb25hbFRhaWwmJihvcHRzLmdyZWVkeT0hMSksbWluaW1hbFBvcz1taW5pbWFsUG9zfHwwO3ZhciBtYXNrVGVtcGxhdGU9W10sbmR4SW50bHpyLHBvcz0wLHRlc3QsdGVzdFBvcztkb3tpZighMD09PWJhc2VPbklucHV0JiZtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10pdGVzdFBvcz1jbGVhck9wdGlvbmFsVGFpbCYmITA9PT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10ubWF0Y2gub3B0aW9uYWxpdHkmJnZvaWQgMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zKzFdJiYoITA9PT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10uZ2VuZXJhdGVkSW5wdXR8fG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXS5pbnB1dD09b3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyJiYwPHBvcyk/ZGV0ZXJtaW5lVGVzdFRlbXBsYXRlKHBvcyxnZXRUZXN0cyhwb3MsbmR4SW50bHpyLHBvcy0xKSk6bWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdLHRlc3Q9dGVzdFBvcy5tYXRjaCxuZHhJbnRsenI9dGVzdFBvcy5sb2NhdG9yLnNsaWNlKCksbWFza1RlbXBsYXRlLnB1c2goITA9PT1pbmNsdWRlTW9kZT90ZXN0UG9zLmlucHV0OiExPT09aW5jbHVkZU1vZGU/dGVzdC5uYXRpdmVEZWY6Z2V0UGxhY2Vob2xkZXIocG9zLHRlc3QpKTtlbHNle3Rlc3RQb3M9Z2V0VGVzdFRlbXBsYXRlKHBvcyxuZHhJbnRsenIscG9zLTEpLHRlc3Q9dGVzdFBvcy5tYXRjaCxuZHhJbnRsenI9dGVzdFBvcy5sb2NhdG9yLnNsaWNlKCk7dmFyIGppdE1hc2tpbmc9ITAhPT1ub0ppdCYmKCExIT09b3B0cy5qaXRNYXNraW5nP29wdHMuaml0TWFza2luZzp0ZXN0LmppdCk7KCExPT09aml0TWFza2luZ3x8dm9pZCAwPT09aml0TWFza2luZ3x8XCJudW1iZXJcIj09dHlwZW9mIGppdE1hc2tpbmcmJmlzRmluaXRlKGppdE1hc2tpbmcpJiZwb3M8aml0TWFza2luZykmJm1hc2tUZW1wbGF0ZS5wdXNoKCExPT09aW5jbHVkZU1vZGU/dGVzdC5uYXRpdmVEZWY6Z2V0UGxhY2Vob2xkZXIocG9zLHRlc3QpKX1cImF1dG9cIj09PW9wdHMua2VlcFN0YXRpYyYmdGVzdC5uZXdCbG9ja01hcmtlciYmITAhPT10ZXN0LnN0YXRpYyYmKG9wdHMua2VlcFN0YXRpYz1wb3MtMSkscG9zKyt9d2hpbGUoKHZvaWQgMD09PW1heExlbmd0aHx8cG9zPG1heExlbmd0aCkmJighMCE9PXRlc3Quc3RhdGljfHxcIlwiIT09dGVzdC5kZWYpfHxwb3M8bWluaW1hbFBvcyk7cmV0dXJuXCJcIj09PW1hc2tUZW1wbGF0ZVttYXNrVGVtcGxhdGUubGVuZ3RoLTFdJiZtYXNrVGVtcGxhdGUucG9wKCksITE9PT1pbmNsdWRlTW9kZSYmdm9pZCAwIT09bWFza3NldC5tYXNrTGVuZ3RofHwobWFza3NldC5tYXNrTGVuZ3RoPXBvcy0xKSxvcHRzLmdyZWVkeT1ncmVlZHksbWFza1RlbXBsYXRlfWZ1bmN0aW9uIHJlc2V0TWFza1NldChzb2Z0KXttYXNrc2V0LmJ1ZmZlcj12b2lkIDAsITAhPT1zb2Z0JiYobWFza3NldC52YWxpZFBvc2l0aW9ucz17fSxtYXNrc2V0LnA9MCl9ZnVuY3Rpb24gZ2V0TGFzdFZhbGlkUG9zaXRpb24oY2xvc2VzdFRvLHN0cmljdCx2YWxpZFBvc2l0aW9ucyl7dmFyIGJlZm9yZT0tMSxhZnRlcj0tMSx2YWxpZHM9dmFsaWRQb3NpdGlvbnN8fG1hc2tzZXQudmFsaWRQb3NpdGlvbnM7Zm9yKHZhciBwb3NOZHggaW4gdm9pZCAwPT09Y2xvc2VzdFRvJiYoY2xvc2VzdFRvPS0xKSx2YWxpZHMpe3ZhciBwc05keD1wYXJzZUludChwb3NOZHgpO3ZhbGlkc1twc05keF0mJihzdHJpY3R8fCEwIT09dmFsaWRzW3BzTmR4XS5nZW5lcmF0ZWRJbnB1dCkmJihwc05keDw9Y2xvc2VzdFRvJiYoYmVmb3JlPXBzTmR4KSxjbG9zZXN0VG88PXBzTmR4JiYoYWZ0ZXI9cHNOZHgpKX1yZXR1cm4tMT09PWJlZm9yZXx8YmVmb3JlPT1jbG9zZXN0VG8/YWZ0ZXI6LTE9PWFmdGVyP2JlZm9yZTpjbG9zZXN0VG8tYmVmb3JlPGFmdGVyLWNsb3Nlc3RUbz9iZWZvcmU6YWZ0ZXJ9ZnVuY3Rpb24gZ2V0RGVjaXNpb25UYWtlcih0c3Qpe3ZhciBkZWNpc2lvblRha2VyPXRzdC5sb2NhdG9yW3RzdC5hbHRlcm5hdGlvbl07cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGRlY2lzaW9uVGFrZXImJjA8ZGVjaXNpb25UYWtlci5sZW5ndGgmJihkZWNpc2lvblRha2VyPWRlY2lzaW9uVGFrZXIuc3BsaXQoXCIsXCIpWzBdKSx2b2lkIDAhPT1kZWNpc2lvblRha2VyP2RlY2lzaW9uVGFrZXIudG9TdHJpbmcoKTpcIlwifWZ1bmN0aW9uIGdldExvY2F0b3IodHN0LGFsaWduKXt2YXIgbG9jYXRvcj0obnVsbCE9dHN0LmFsdGVybmF0aW9uP3RzdC5tbG9jW2dldERlY2lzaW9uVGFrZXIodHN0KV06dHN0LmxvY2F0b3IpLmpvaW4oXCJcIik7aWYoXCJcIiE9PWxvY2F0b3IpZm9yKDtsb2NhdG9yLmxlbmd0aDxhbGlnbjspbG9jYXRvcis9XCIwXCI7cmV0dXJuIGxvY2F0b3J9ZnVuY3Rpb24gZGV0ZXJtaW5lVGVzdFRlbXBsYXRlKHBvcyx0ZXN0cyl7cG9zPTA8cG9zP3Bvcy0xOjA7Zm9yKHZhciBhbHRUZXN0PWdldFRlc3QocG9zKSx0YXJnZXRMb2NhdG9yPWdldExvY2F0b3IoYWx0VGVzdCksdHN0TG9jYXRvcixjbG9zZXN0LGJlc3RNYXRjaCxuZHg9MDtuZHg8dGVzdHMubGVuZ3RoO25keCsrKXt2YXIgdHN0PXRlc3RzW25keF07dHN0TG9jYXRvcj1nZXRMb2NhdG9yKHRzdCx0YXJnZXRMb2NhdG9yLmxlbmd0aCk7dmFyIGRpc3RhbmNlPU1hdGguYWJzKHRzdExvY2F0b3ItdGFyZ2V0TG9jYXRvcik7KHZvaWQgMD09PWNsb3Nlc3R8fFwiXCIhPT10c3RMb2NhdG9yJiZkaXN0YW5jZTxjbG9zZXN0fHxiZXN0TWF0Y2gmJiFvcHRzLmdyZWVkeSYmYmVzdE1hdGNoLm1hdGNoLm9wdGlvbmFsaXR5JiZcIm1hc3RlclwiPT09YmVzdE1hdGNoLm1hdGNoLm5ld0Jsb2NrTWFya2VyJiYoIXRzdC5tYXRjaC5vcHRpb25hbGl0eXx8IXRzdC5tYXRjaC5uZXdCbG9ja01hcmtlcil8fGJlc3RNYXRjaCYmYmVzdE1hdGNoLm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciYmIXRzdC5tYXRjaC5vcHRpb25hbFF1YW50aWZpZXIpJiYoY2xvc2VzdD1kaXN0YW5jZSxiZXN0TWF0Y2g9dHN0KX1yZXR1cm4gYmVzdE1hdGNofWZ1bmN0aW9uIGdldFRlc3RUZW1wbGF0ZShwb3MsbmR4SW50bHpyLHRzdFBzKXtyZXR1cm4gbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdfHxkZXRlcm1pbmVUZXN0VGVtcGxhdGUocG9zLGdldFRlc3RzKHBvcyxuZHhJbnRsenI/bmR4SW50bHpyLnNsaWNlKCk6bmR4SW50bHpyLHRzdFBzKSl9ZnVuY3Rpb24gZ2V0VGVzdChwb3MsdGVzdHMpe3JldHVybiBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10/bWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdOih0ZXN0c3x8Z2V0VGVzdHMocG9zKSlbMF19ZnVuY3Rpb24gcG9zaXRpb25DYW5NYXRjaERlZmluaXRpb24ocG9zLGRlZil7Zm9yKHZhciB2YWxpZD0hMSx0ZXN0cz1nZXRUZXN0cyhwb3MpLHRuZHg9MDt0bmR4PHRlc3RzLmxlbmd0aDt0bmR4KyspaWYodGVzdHNbdG5keF0ubWF0Y2gmJnRlc3RzW3RuZHhdLm1hdGNoLmRlZj09PWRlZil7dmFsaWQ9ITA7YnJlYWt9cmV0dXJuITE9PT12YWxpZCYmdm9pZCAwIT09bWFza3NldC5qaXRPZmZzZXRbcG9zXSYmKHZhbGlkPXBvc2l0aW9uQ2FuTWF0Y2hEZWZpbml0aW9uKHBvcyttYXNrc2V0LmppdE9mZnNldFtwb3NdLGRlZikpLHZhbGlkfWZ1bmN0aW9uIGdldFRlc3RzKHBvcyxuZHhJbnRsenIsdHN0UHMpe3ZhciBtYXNrVG9rZW5zPW1hc2tzZXQubWFza1Rva2VuLHRlc3RQb3M9bmR4SW50bHpyP3RzdFBzOjAsbmR4SW5pdGlhbGl6ZXI9bmR4SW50bHpyP25keEludGx6ci5zbGljZSgpOlswXSxtYXRjaGVzPVtdLGluc2VydFN0b3A9ITEsbGF0ZXN0TWF0Y2gsY2FjaGVEZXBlbmRlbmN5PW5keEludGx6cj9uZHhJbnRsenIuam9pbihcIlwiKTpcIlwiO2Z1bmN0aW9uIHJlc29sdmVUZXN0RnJvbVRva2VuKG1hc2tUb2tlbixuZHhJbml0aWFsaXplcixsb29wTmR4LHF1YW50aWZpZXJSZWN1cnNlKXtmdW5jdGlvbiBoYW5kbGVNYXRjaChtYXRjaCxsb29wTmR4LHF1YW50aWZpZXJSZWN1cnNlKXtmdW5jdGlvbiBpc0ZpcnN0TWF0Y2gobGF0ZXN0TWF0Y2gsdG9rZW5Hcm91cCl7dmFyIGZpcnN0TWF0Y2g9MD09PSQuaW5BcnJheShsYXRlc3RNYXRjaCx0b2tlbkdyb3VwLm1hdGNoZXMpO3JldHVybiBmaXJzdE1hdGNofHwkLmVhY2godG9rZW5Hcm91cC5tYXRjaGVzLGZ1bmN0aW9uKG5keCxtYXRjaCl7aWYoITA9PT1tYXRjaC5pc1F1YW50aWZpZXI/Zmlyc3RNYXRjaD1pc0ZpcnN0TWF0Y2gobGF0ZXN0TWF0Y2gsdG9rZW5Hcm91cC5tYXRjaGVzW25keC0xXSk6bWF0Y2guaGFzT3duUHJvcGVydHkoXCJtYXRjaGVzXCIpJiYoZmlyc3RNYXRjaD1pc0ZpcnN0TWF0Y2gobGF0ZXN0TWF0Y2gsbWF0Y2gpKSxmaXJzdE1hdGNoKXJldHVybiExfSksZmlyc3RNYXRjaH1mdW5jdGlvbiByZXNvbHZlTmR4SW5pdGlhbGl6ZXIocG9zLGFsdGVybmF0ZU5keCx0YXJnZXRBbHRlcm5hdGlvbil7dmFyIGJlc3RNYXRjaCxpbmRleFBvcztpZigobWFza3NldC50ZXN0c1twb3NdfHxtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10pJiYkLmVhY2gobWFza3NldC50ZXN0c1twb3NdfHxbbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdXSxmdW5jdGlvbihuZHgsbG1udCl7aWYobG1udC5tbG9jW2FsdGVybmF0ZU5keF0pcmV0dXJuIGJlc3RNYXRjaD1sbW50LCExO3ZhciBhbHRlcm5hdGlvbj12b2lkIDAhPT10YXJnZXRBbHRlcm5hdGlvbj90YXJnZXRBbHRlcm5hdGlvbjpsbW50LmFsdGVybmF0aW9uLG5keFBvcz12b2lkIDAhPT1sbW50LmxvY2F0b3JbYWx0ZXJuYXRpb25dP2xtbnQubG9jYXRvclthbHRlcm5hdGlvbl0udG9TdHJpbmcoKS5pbmRleE9mKGFsdGVybmF0ZU5keCk6LTE7KHZvaWQgMD09PWluZGV4UG9zfHxuZHhQb3M8aW5kZXhQb3MpJiYtMSE9PW5keFBvcyYmKGJlc3RNYXRjaD1sbW50LGluZGV4UG9zPW5keFBvcyl9KSxiZXN0TWF0Y2gpe3ZhciBiZXN0TWF0Y2hBbHRJbmRleD1iZXN0TWF0Y2gubG9jYXRvcltiZXN0TWF0Y2guYWx0ZXJuYXRpb25dLGxvY2F0b3I9YmVzdE1hdGNoLm1sb2NbYWx0ZXJuYXRlTmR4XXx8YmVzdE1hdGNoLm1sb2NbYmVzdE1hdGNoQWx0SW5kZXhdfHxiZXN0TWF0Y2gubG9jYXRvcjtyZXR1cm4gbG9jYXRvci5zbGljZSgodm9pZCAwIT09dGFyZ2V0QWx0ZXJuYXRpb24/dGFyZ2V0QWx0ZXJuYXRpb246YmVzdE1hdGNoLmFsdGVybmF0aW9uKSsxKX1yZXR1cm4gdm9pZCAwIT09dGFyZ2V0QWx0ZXJuYXRpb24/cmVzb2x2ZU5keEluaXRpYWxpemVyKHBvcyxhbHRlcm5hdGVOZHgpOnZvaWQgMH1mdW5jdGlvbiBpc1N1YnNldE9mKHNvdXJjZSx0YXJnZXQpe2Z1bmN0aW9uIGV4cGFuZChwYXR0ZXJuKXtmb3IodmFyIGV4cGFuZGVkPVtdLHN0YXJ0PS0xLGVuZCxpPTAsbD1wYXR0ZXJuLmxlbmd0aDtpPGw7aSsrKWlmKFwiLVwiPT09cGF0dGVybi5jaGFyQXQoaSkpZm9yKGVuZD1wYXR0ZXJuLmNoYXJDb2RlQXQoaSsxKTsrK3N0YXJ0PGVuZDspZXhwYW5kZWQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHN0YXJ0KSk7ZWxzZSBzdGFydD1wYXR0ZXJuLmNoYXJDb2RlQXQoaSksZXhwYW5kZWQucHVzaChwYXR0ZXJuLmNoYXJBdChpKSk7cmV0dXJuIGV4cGFuZGVkLmpvaW4oXCJcIil9cmV0dXJuIG9wdHMucmVnZXgmJiEwIT09c291cmNlLm1hdGNoLnN0YXRpYyYmITAhPT10YXJnZXQubWF0Y2guc3RhdGljPy0xIT09ZXhwYW5kKHRhcmdldC5tYXRjaC5kZWYucmVwbGFjZSgvW1tcXF1dL2csXCJcIikpLmluZGV4T2YoZXhwYW5kKHNvdXJjZS5tYXRjaC5kZWYucmVwbGFjZSgvW1tcXF1dL2csXCJcIikpKTpzb3VyY2UubWF0Y2guZGVmPT09dGFyZ2V0Lm1hdGNoLm5hdGl2ZURlZn1mdW5jdGlvbiBzdGF0aWNDYW5NYXRjaERlZmluaXRpb24oc291cmNlLHRhcmdldCl7dmFyIHNsb2M9c291cmNlLmxvY2F0b3Iuc2xpY2Uoc291cmNlLmFsdGVybmF0aW9uKS5qb2luKFwiXCIpLHRsb2M9dGFyZ2V0LmxvY2F0b3Iuc2xpY2UodGFyZ2V0LmFsdGVybmF0aW9uKS5qb2luKFwiXCIpLGNhbk1hdGNoPXNsb2M9PXRsb2M7cmV0dXJuIGNhbk1hdGNoPSEoIWNhbk1hdGNofHwhMCE9PXNvdXJjZS5tYXRjaC5zdGF0aWN8fCEwPT09dGFyZ2V0Lm1hdGNoLnN0YXRpYykmJnRhcmdldC5tYXRjaC5mbi50ZXN0KHNvdXJjZS5tYXRjaC5kZWYsbWFza3NldCxwb3MsITEsb3B0cywhMSksY2FuTWF0Y2h9ZnVuY3Rpb24gc2V0TWVyZ2VMb2NhdG9ycyh0YXJnZXRNYXRjaCxhbHRNYXRjaCl7aWYodm9pZCAwPT09YWx0TWF0Y2h8fHRhcmdldE1hdGNoLmFsdGVybmF0aW9uPT09YWx0TWF0Y2guYWx0ZXJuYXRpb24mJi0xPT09dGFyZ2V0TWF0Y2gubG9jYXRvclt0YXJnZXRNYXRjaC5hbHRlcm5hdGlvbl0udG9TdHJpbmcoKS5pbmRleE9mKGFsdE1hdGNoLmxvY2F0b3JbYWx0TWF0Y2guYWx0ZXJuYXRpb25dKSl7dGFyZ2V0TWF0Y2gubWxvYz10YXJnZXRNYXRjaC5tbG9jfHx7fTt2YXIgbG9jTmR4PXRhcmdldE1hdGNoLmxvY2F0b3JbdGFyZ2V0TWF0Y2guYWx0ZXJuYXRpb25dO2lmKHZvaWQgMCE9PWxvY05keCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGxvY05keCYmKGxvY05keD1sb2NOZHguc3BsaXQoXCIsXCIpWzBdKSx2b2lkIDA9PT10YXJnZXRNYXRjaC5tbG9jW2xvY05keF0mJih0YXJnZXRNYXRjaC5tbG9jW2xvY05keF09dGFyZ2V0TWF0Y2gubG9jYXRvci5zbGljZSgpKSx2b2lkIDAhPT1hbHRNYXRjaCl7Zm9yKHZhciBuZHggaW4gYWx0TWF0Y2gubWxvYylcInN0cmluZ1wiPT10eXBlb2YgbmR4JiYobmR4PW5keC5zcGxpdChcIixcIilbMF0pLHZvaWQgMD09PXRhcmdldE1hdGNoLm1sb2NbbmR4XSYmKHRhcmdldE1hdGNoLm1sb2NbbmR4XT1hbHRNYXRjaC5tbG9jW25keF0pO3RhcmdldE1hdGNoLmxvY2F0b3JbdGFyZ2V0TWF0Y2guYWx0ZXJuYXRpb25dPU9iamVjdC5rZXlzKHRhcmdldE1hdGNoLm1sb2MpLmpvaW4oXCIsXCIpfXJldHVybiEwfXRhcmdldE1hdGNoLmFsdGVybmF0aW9uPXZvaWQgMH1yZXR1cm4hMX1pZig1MDA8dGVzdFBvcyYmdm9pZCAwIT09cXVhbnRpZmllclJlY3Vyc2UpdGhyb3dcIklucHV0bWFzazogVGhlcmUgaXMgcHJvYmFibHkgYW4gZXJyb3IgaW4geW91ciBtYXNrIGRlZmluaXRpb24gb3IgaW4gdGhlIGNvZGUuIENyZWF0ZSBhbiBpc3N1ZSBvbiBnaXRodWIgd2l0aCBhbiBleGFtcGxlIG9mIHRoZSBtYXNrIHlvdSBhcmUgdXNpbmcuIFwiK21hc2tzZXQubWFzaztpZih0ZXN0UG9zPT09cG9zJiZ2b2lkIDA9PT1tYXRjaC5tYXRjaGVzKXJldHVybiBtYXRjaGVzLnB1c2goe21hdGNoOm1hdGNoLGxvY2F0b3I6bG9vcE5keC5yZXZlcnNlKCksY2Q6Y2FjaGVEZXBlbmRlbmN5LG1sb2M6e319KSwhMDtpZih2b2lkIDAhPT1tYXRjaC5tYXRjaGVzKXtpZihtYXRjaC5pc0dyb3VwJiZxdWFudGlmaWVyUmVjdXJzZSE9PW1hdGNoKXtpZihtYXRjaD1oYW5kbGVNYXRjaChtYXNrVG9rZW4ubWF0Y2hlc1skLmluQXJyYXkobWF0Y2gsbWFza1Rva2VuLm1hdGNoZXMpKzFdLGxvb3BOZHgscXVhbnRpZmllclJlY3Vyc2UpLG1hdGNoKXJldHVybiEwfWVsc2UgaWYobWF0Y2guaXNPcHRpb25hbCl7dmFyIG9wdGlvbmFsVG9rZW49bWF0Y2gsbXRjaHNOZHg9bWF0Y2hlcy5sZW5ndGg7aWYobWF0Y2g9cmVzb2x2ZVRlc3RGcm9tVG9rZW4obWF0Y2gsbmR4SW5pdGlhbGl6ZXIsbG9vcE5keCxxdWFudGlmaWVyUmVjdXJzZSksbWF0Y2gpe2lmKCQuZWFjaChtYXRjaGVzLGZ1bmN0aW9uKG5keCxtdGNoKXttdGNoc05keDw9bmR4JiYobXRjaC5tYXRjaC5vcHRpb25hbGl0eT0hMCl9KSxsYXRlc3RNYXRjaD1tYXRjaGVzW21hdGNoZXMubGVuZ3RoLTFdLm1hdGNoLHZvaWQgMCE9PXF1YW50aWZpZXJSZWN1cnNlfHwhaXNGaXJzdE1hdGNoKGxhdGVzdE1hdGNoLG9wdGlvbmFsVG9rZW4pKXJldHVybiEwO2luc2VydFN0b3A9ITAsdGVzdFBvcz1wb3N9fWVsc2UgaWYobWF0Y2guaXNBbHRlcm5hdG9yKXt2YXIgYWx0ZXJuYXRlVG9rZW49bWF0Y2gsbWFsdGVybmF0ZU1hdGNoZXM9W10sbWFsdE1hdGNoZXMsY3VycmVudE1hdGNoZXM9bWF0Y2hlcy5zbGljZSgpLGxvb3BOZHhDbnQ9bG9vcE5keC5sZW5ndGgsYWx0SW5kZXg9MDxuZHhJbml0aWFsaXplci5sZW5ndGg/bmR4SW5pdGlhbGl6ZXIuc2hpZnQoKTotMTtpZigtMT09PWFsdEluZGV4fHxcInN0cmluZ1wiPT10eXBlb2YgYWx0SW5kZXgpe3ZhciBjdXJyZW50UG9zPXRlc3RQb3MsbmR4SW5pdGlhbGl6ZXJDbG9uZT1uZHhJbml0aWFsaXplci5zbGljZSgpLGFsdEluZGV4QXJyPVtdLGFtbmR4O2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhbHRJbmRleClhbHRJbmRleEFycj1hbHRJbmRleC5zcGxpdChcIixcIik7ZWxzZSBmb3IoYW1uZHg9MDthbW5keDxhbHRlcm5hdGVUb2tlbi5tYXRjaGVzLmxlbmd0aDthbW5keCsrKWFsdEluZGV4QXJyLnB1c2goYW1uZHgudG9TdHJpbmcoKSk7aWYobWFza3NldC5leGNsdWRlc1twb3NdKXtmb3IodmFyIGFsdEluZGV4QXJyQ2xvbmU9YWx0SW5kZXhBcnIuc2xpY2UoKSxpPTAsZWw9bWFza3NldC5leGNsdWRlc1twb3NdLmxlbmd0aDtpPGVsO2krKylhbHRJbmRleEFyci5zcGxpY2UoYWx0SW5kZXhBcnIuaW5kZXhPZihtYXNrc2V0LmV4Y2x1ZGVzW3Bvc11baV0udG9TdHJpbmcoKSksMSk7MD09PWFsdEluZGV4QXJyLmxlbmd0aCYmKGRlbGV0ZSBtYXNrc2V0LmV4Y2x1ZGVzW3Bvc10sYWx0SW5kZXhBcnI9YWx0SW5kZXhBcnJDbG9uZSl9KCEwPT09b3B0cy5rZWVwU3RhdGljfHxpc0Zpbml0ZShwYXJzZUludChvcHRzLmtlZXBTdGF0aWMpKSYmY3VycmVudFBvcz49b3B0cy5rZWVwU3RhdGljKSYmKGFsdEluZGV4QXJyPWFsdEluZGV4QXJyLnNsaWNlKDAsMSkpO2Zvcih2YXIgdW5NYXRjaGVkQWx0ZXJuYXRpb249ITEsbmR4PTA7bmR4PGFsdEluZGV4QXJyLmxlbmd0aDtuZHgrKyl7YW1uZHg9cGFyc2VJbnQoYWx0SW5kZXhBcnJbbmR4XSksbWF0Y2hlcz1bXSxuZHhJbml0aWFsaXplcj1cInN0cmluZ1wiPT10eXBlb2YgYWx0SW5kZXgmJnJlc29sdmVOZHhJbml0aWFsaXplcih0ZXN0UG9zLGFtbmR4LGxvb3BOZHhDbnQpfHxuZHhJbml0aWFsaXplckNsb25lLnNsaWNlKCksYWx0ZXJuYXRlVG9rZW4ubWF0Y2hlc1thbW5keF0mJmhhbmRsZU1hdGNoKGFsdGVybmF0ZVRva2VuLm1hdGNoZXNbYW1uZHhdLFthbW5keF0uY29uY2F0KGxvb3BOZHgpLHF1YW50aWZpZXJSZWN1cnNlKT9tYXRjaD0hMDowPT09bmR4JiYodW5NYXRjaGVkQWx0ZXJuYXRpb249ITApLG1hbHRNYXRjaGVzPW1hdGNoZXMuc2xpY2UoKSx0ZXN0UG9zPWN1cnJlbnRQb3MsbWF0Y2hlcz1bXTtmb3IodmFyIG5keDE9MDtuZHgxPG1hbHRNYXRjaGVzLmxlbmd0aDtuZHgxKyspe3ZhciBhbHRNYXRjaD1tYWx0TWF0Y2hlc1tuZHgxXSxkcm9wTWF0Y2g9ITE7YWx0TWF0Y2gubWF0Y2guaml0PWFsdE1hdGNoLm1hdGNoLmppdHx8dW5NYXRjaGVkQWx0ZXJuYXRpb24sYWx0TWF0Y2guYWx0ZXJuYXRpb249YWx0TWF0Y2guYWx0ZXJuYXRpb258fGxvb3BOZHhDbnQsc2V0TWVyZ2VMb2NhdG9ycyhhbHRNYXRjaCk7Zm9yKHZhciBuZHgyPTA7bmR4MjxtYWx0ZXJuYXRlTWF0Y2hlcy5sZW5ndGg7bmR4MisrKXt2YXIgYWx0TWF0Y2gyPW1hbHRlcm5hdGVNYXRjaGVzW25keDJdO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhbHRJbmRleHx8dm9pZCAwIT09YWx0TWF0Y2guYWx0ZXJuYXRpb24mJi0xIT09JC5pbkFycmF5KGFsdE1hdGNoLmxvY2F0b3JbYWx0TWF0Y2guYWx0ZXJuYXRpb25dLnRvU3RyaW5nKCksYWx0SW5kZXhBcnIpKXtpZihhbHRNYXRjaC5tYXRjaC5uYXRpdmVEZWY9PT1hbHRNYXRjaDIubWF0Y2gubmF0aXZlRGVmKXtkcm9wTWF0Y2g9ITAsc2V0TWVyZ2VMb2NhdG9ycyhhbHRNYXRjaDIsYWx0TWF0Y2gpO2JyZWFrfWlmKGlzU3Vic2V0T2YoYWx0TWF0Y2gsYWx0TWF0Y2gyKSl7c2V0TWVyZ2VMb2NhdG9ycyhhbHRNYXRjaCxhbHRNYXRjaDIpJiYoZHJvcE1hdGNoPSEwLG1hbHRlcm5hdGVNYXRjaGVzLnNwbGljZShtYWx0ZXJuYXRlTWF0Y2hlcy5pbmRleE9mKGFsdE1hdGNoMiksMCxhbHRNYXRjaCkpO2JyZWFrfWlmKGlzU3Vic2V0T2YoYWx0TWF0Y2gyLGFsdE1hdGNoKSl7c2V0TWVyZ2VMb2NhdG9ycyhhbHRNYXRjaDIsYWx0TWF0Y2gpO2JyZWFrfWlmKHN0YXRpY0Nhbk1hdGNoRGVmaW5pdGlvbihhbHRNYXRjaCxhbHRNYXRjaDIpKXtzZXRNZXJnZUxvY2F0b3JzKGFsdE1hdGNoLGFsdE1hdGNoMikmJihkcm9wTWF0Y2g9ITAsbWFsdGVybmF0ZU1hdGNoZXMuc3BsaWNlKG1hbHRlcm5hdGVNYXRjaGVzLmluZGV4T2YoYWx0TWF0Y2gyKSwwLGFsdE1hdGNoKSk7YnJlYWt9fX1kcm9wTWF0Y2h8fG1hbHRlcm5hdGVNYXRjaGVzLnB1c2goYWx0TWF0Y2gpfX1tYXRjaGVzPWN1cnJlbnRNYXRjaGVzLmNvbmNhdChtYWx0ZXJuYXRlTWF0Y2hlcyksdGVzdFBvcz1wb3MsaW5zZXJ0U3RvcD0wPG1hdGNoZXMubGVuZ3RoLG1hdGNoPTA8bWFsdGVybmF0ZU1hdGNoZXMubGVuZ3RoLG5keEluaXRpYWxpemVyPW5keEluaXRpYWxpemVyQ2xvbmUuc2xpY2UoKX1lbHNlIG1hdGNoPWhhbmRsZU1hdGNoKGFsdGVybmF0ZVRva2VuLm1hdGNoZXNbYWx0SW5kZXhdfHxtYXNrVG9rZW4ubWF0Y2hlc1thbHRJbmRleF0sW2FsdEluZGV4XS5jb25jYXQobG9vcE5keCkscXVhbnRpZmllclJlY3Vyc2UpO2lmKG1hdGNoKXJldHVybiEwfWVsc2UgaWYobWF0Y2guaXNRdWFudGlmaWVyJiZxdWFudGlmaWVyUmVjdXJzZSE9PW1hc2tUb2tlbi5tYXRjaGVzWyQuaW5BcnJheShtYXRjaCxtYXNrVG9rZW4ubWF0Y2hlcyktMV0pZm9yKHZhciBxdD1tYXRjaCxxbmR4PTA8bmR4SW5pdGlhbGl6ZXIubGVuZ3RoP25keEluaXRpYWxpemVyLnNoaWZ0KCk6MDtxbmR4PChpc05hTihxdC5xdWFudGlmaWVyLm1heCk/cW5keCsxOnF0LnF1YW50aWZpZXIubWF4KSYmdGVzdFBvczw9cG9zO3FuZHgrKyl7dmFyIHRva2VuR3JvdXA9bWFza1Rva2VuLm1hdGNoZXNbJC5pbkFycmF5KHF0LG1hc2tUb2tlbi5tYXRjaGVzKS0xXTtpZihtYXRjaD1oYW5kbGVNYXRjaCh0b2tlbkdyb3VwLFtxbmR4XS5jb25jYXQobG9vcE5keCksdG9rZW5Hcm91cCksbWF0Y2gpe2lmKGxhdGVzdE1hdGNoPW1hdGNoZXNbbWF0Y2hlcy5sZW5ndGgtMV0ubWF0Y2gsbGF0ZXN0TWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyPXFuZHg+PXF0LnF1YW50aWZpZXIubWluLGxhdGVzdE1hdGNoLmppdD0ocW5keHx8MSkqdG9rZW5Hcm91cC5tYXRjaGVzLmluZGV4T2YobGF0ZXN0TWF0Y2gpPj1xdC5xdWFudGlmaWVyLmppdCxsYXRlc3RNYXRjaC5vcHRpb25hbFF1YW50aWZpZXImJmlzRmlyc3RNYXRjaChsYXRlc3RNYXRjaCx0b2tlbkdyb3VwKSl7aW5zZXJ0U3RvcD0hMCx0ZXN0UG9zPXBvczticmVha31yZXR1cm4gbGF0ZXN0TWF0Y2guaml0JiYobWFza3NldC5qaXRPZmZzZXRbcG9zXT10b2tlbkdyb3VwLm1hdGNoZXMubGVuZ3RoLXRva2VuR3JvdXAubWF0Y2hlcy5pbmRleE9mKGxhdGVzdE1hdGNoKSksITB9fWVsc2UgaWYobWF0Y2g9cmVzb2x2ZVRlc3RGcm9tVG9rZW4obWF0Y2gsbmR4SW5pdGlhbGl6ZXIsbG9vcE5keCxxdWFudGlmaWVyUmVjdXJzZSksbWF0Y2gpcmV0dXJuITB9ZWxzZSB0ZXN0UG9zKyt9Zm9yKHZhciB0bmR4PTA8bmR4SW5pdGlhbGl6ZXIubGVuZ3RoP25keEluaXRpYWxpemVyLnNoaWZ0KCk6MDt0bmR4PG1hc2tUb2tlbi5tYXRjaGVzLmxlbmd0aDt0bmR4KyspaWYoITAhPT1tYXNrVG9rZW4ubWF0Y2hlc1t0bmR4XS5pc1F1YW50aWZpZXIpe3ZhciBtYXRjaD1oYW5kbGVNYXRjaChtYXNrVG9rZW4ubWF0Y2hlc1t0bmR4XSxbdG5keF0uY29uY2F0KGxvb3BOZHgpLHF1YW50aWZpZXJSZWN1cnNlKTtpZihtYXRjaCYmdGVzdFBvcz09PXBvcylyZXR1cm4gbWF0Y2g7aWYocG9zPHRlc3RQb3MpYnJlYWt9fWZ1bmN0aW9uIG1lcmdlTG9jYXRvcnMocG9zLHRlc3RzKXt2YXIgbG9jYXRvcj1bXTtyZXR1cm4gJC5pc0FycmF5KHRlc3RzKXx8KHRlc3RzPVt0ZXN0c10pLDA8dGVzdHMubGVuZ3RoJiYodm9pZCAwPT09dGVzdHNbMF0uYWx0ZXJuYXRpb258fCEwPT09b3B0cy5rZWVwU3RhdGljPyhsb2NhdG9yPWRldGVybWluZVRlc3RUZW1wbGF0ZShwb3MsdGVzdHMuc2xpY2UoKSkubG9jYXRvci5zbGljZSgpLDA9PT1sb2NhdG9yLmxlbmd0aCYmKGxvY2F0b3I9dGVzdHNbMF0ubG9jYXRvci5zbGljZSgpKSk6JC5lYWNoKHRlc3RzLGZ1bmN0aW9uKG5keCx0c3Qpe2lmKFwiXCIhPT10c3QuZGVmKWlmKDA9PT1sb2NhdG9yLmxlbmd0aClsb2NhdG9yPXRzdC5sb2NhdG9yLnNsaWNlKCk7ZWxzZSBmb3IodmFyIGk9MDtpPGxvY2F0b3IubGVuZ3RoO2krKyl0c3QubG9jYXRvcltpXSYmLTE9PT1sb2NhdG9yW2ldLnRvU3RyaW5nKCkuaW5kZXhPZih0c3QubG9jYXRvcltpXSkmJihsb2NhdG9yW2ldKz1cIixcIit0c3QubG9jYXRvcltpXSl9KSksbG9jYXRvcn1pZigtMTxwb3MmJih2b2lkIDA9PT1tYXhMZW5ndGh8fHBvczxtYXhMZW5ndGgpKXtpZih2b2lkIDA9PT1uZHhJbnRsenIpe2Zvcih2YXIgcHJldmlvdXNQb3M9cG9zLTEsdGVzdDt2b2lkIDA9PT0odGVzdD1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3ByZXZpb3VzUG9zXXx8bWFza3NldC50ZXN0c1twcmV2aW91c1Bvc10pJiYtMTxwcmV2aW91c1BvczspcHJldmlvdXNQb3MtLTt2b2lkIDAhPT10ZXN0JiYtMTxwcmV2aW91c1BvcyYmKG5keEluaXRpYWxpemVyPW1lcmdlTG9jYXRvcnMocHJldmlvdXNQb3MsdGVzdCksY2FjaGVEZXBlbmRlbmN5PW5keEluaXRpYWxpemVyLmpvaW4oXCJcIiksdGVzdFBvcz1wcmV2aW91c1Bvcyl9aWYobWFza3NldC50ZXN0c1twb3NdJiZtYXNrc2V0LnRlc3RzW3Bvc11bMF0uY2Q9PT1jYWNoZURlcGVuZGVuY3kpcmV0dXJuIG1hc2tzZXQudGVzdHNbcG9zXTtmb3IodmFyIG10bmR4PW5keEluaXRpYWxpemVyLnNoaWZ0KCk7bXRuZHg8bWFza1Rva2Vucy5sZW5ndGg7bXRuZHgrKyl7dmFyIG1hdGNoPXJlc29sdmVUZXN0RnJvbVRva2VuKG1hc2tUb2tlbnNbbXRuZHhdLG5keEluaXRpYWxpemVyLFttdG5keF0pO2lmKG1hdGNoJiZ0ZXN0UG9zPT09cG9zfHxwb3M8dGVzdFBvcylicmVha319cmV0dXJuIDAhPT1tYXRjaGVzLmxlbmd0aCYmIWluc2VydFN0b3B8fG1hdGNoZXMucHVzaCh7bWF0Y2g6e2ZuOm51bGwsc3RhdGljOiEwLG9wdGlvbmFsaXR5OiExLGNhc2luZzpudWxsLGRlZjpcIlwiLHBsYWNlaG9sZGVyOlwiXCJ9LGxvY2F0b3I6W10sbWxvYzp7fSxjZDpjYWNoZURlcGVuZGVuY3l9KSx2b2lkIDAhPT1uZHhJbnRsenImJm1hc2tzZXQudGVzdHNbcG9zXT8kLmV4dGVuZCghMCxbXSxtYXRjaGVzKToobWFza3NldC50ZXN0c1twb3NdPSQuZXh0ZW5kKCEwLFtdLG1hdGNoZXMpLG1hc2tzZXQudGVzdHNbcG9zXSl9ZnVuY3Rpb24gZ2V0QnVmZmVyVGVtcGxhdGUoKXtyZXR1cm4gdm9pZCAwPT09bWFza3NldC5fYnVmZmVyJiYobWFza3NldC5fYnVmZmVyPWdldE1hc2tUZW1wbGF0ZSghMSwxKSx2b2lkIDA9PT1tYXNrc2V0LmJ1ZmZlciYmKG1hc2tzZXQuYnVmZmVyPW1hc2tzZXQuX2J1ZmZlci5zbGljZSgpKSksbWFza3NldC5fYnVmZmVyfWZ1bmN0aW9uIGdldEJ1ZmZlcihub0NhY2hlKXtyZXR1cm4gdm9pZCAwIT09bWFza3NldC5idWZmZXImJiEwIT09bm9DYWNoZXx8KG1hc2tzZXQuYnVmZmVyPWdldE1hc2tUZW1wbGF0ZSghMCxnZXRMYXN0VmFsaWRQb3NpdGlvbigpLCEwKSx2b2lkIDA9PT1tYXNrc2V0Ll9idWZmZXImJihtYXNrc2V0Ll9idWZmZXI9bWFza3NldC5idWZmZXIuc2xpY2UoKSkpLG1hc2tzZXQuYnVmZmVyfWZ1bmN0aW9uIHJlZnJlc2hGcm9tQnVmZmVyKHN0YXJ0LGVuZCxidWZmZXIpe3ZhciBpLHA7aWYoITA9PT1zdGFydClyZXNldE1hc2tTZXQoKSxtYXNrc2V0LnRlc3RzPXt9LHN0YXJ0PTAsZW5kPWJ1ZmZlci5sZW5ndGg7ZWxzZSBmb3IoaT1zdGFydDtpPGVuZDtpKyspZGVsZXRlIG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbaV07Zm9yKHA9c3RhcnQsaT1zdGFydDtpPGVuZDtpKyspaWYoYnVmZmVyW2ldIT09b3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyKXt2YXIgdmFsUmVzdWx0PWlzVmFsaWQocCxidWZmZXJbaV0sIW9wdHMubmVnYXRpb25TeW1ib2x8fFtpXSE9PW9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQsIW9wdHMubmVnYXRpb25TeW1ib2x8fFtpXSE9PW9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpOyExIT09dmFsUmVzdWx0JiYocD12b2lkIDAhPT12YWxSZXN1bHQuY2FyZXQ/dmFsUmVzdWx0LmNhcmV0OnZhbFJlc3VsdC5wb3MrMSl9fWZ1bmN0aW9uIGNhc2luZyhlbGVtLHRlc3QscG9zKXtzd2l0Y2gob3B0cy5jYXNpbmd8fHRlc3QuY2FzaW5nKXtjYXNlXCJ1cHBlclwiOmVsZW09ZWxlbS50b1VwcGVyQ2FzZSgpO2JyZWFrO2Nhc2VcImxvd2VyXCI6ZWxlbT1lbGVtLnRvTG93ZXJDYXNlKCk7YnJlYWs7Y2FzZVwidGl0bGVcIjp2YXIgcG9zQmVmb3JlPW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zLTFdO2VsZW09MD09PXBvc3x8cG9zQmVmb3JlJiZwb3NCZWZvcmUuaW5wdXQ9PT1TdHJpbmcuZnJvbUNoYXJDb2RlKElucHV0bWFzay5rZXlDb2RlLlNQQUNFKT9lbGVtLnRvVXBwZXJDYXNlKCk6ZWxlbS50b0xvd2VyQ2FzZSgpO2JyZWFrO2RlZmF1bHQ6aWYoJC5pc0Z1bmN0aW9uKG9wdHMuY2FzaW5nKSl7dmFyIGFyZ3M9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTthcmdzLnB1c2gobWFza3NldC52YWxpZFBvc2l0aW9ucyksZWxlbT1vcHRzLmNhc2luZy5hcHBseSh0aGlzLGFyZ3MpfX1yZXR1cm4gZWxlbX1mdW5jdGlvbiBjaGVja0FsdGVybmF0aW9uTWF0Y2goYWx0QXJyMSxhbHRBcnIyLG5hKXtmb3IodmFyIGFsdEFyckM9b3B0cy5ncmVlZHk/YWx0QXJyMjphbHRBcnIyLnNsaWNlKDAsMSksaXNNYXRjaD0hMSxuYUFycj12b2lkIDAhPT1uYT9uYS5zcGxpdChcIixcIik6W10sbmFOZHgsaT0wO2k8bmFBcnIubGVuZ3RoO2krKyktMSE9PShuYU5keD1hbHRBcnIxLmluZGV4T2YobmFBcnJbaV0pKSYmYWx0QXJyMS5zcGxpY2UobmFOZHgsMSk7Zm9yKHZhciBhbG5keD0wO2FsbmR4PGFsdEFycjEubGVuZ3RoO2FsbmR4KyspaWYoLTEhPT0kLmluQXJyYXkoYWx0QXJyMVthbG5keF0sYWx0QXJyQykpe2lzTWF0Y2g9ITA7YnJlYWt9cmV0dXJuIGlzTWF0Y2h9ZnVuY3Rpb24gYWx0ZXJuYXRlKHBvcyxjLHN0cmljdCxmcm9tSXNWYWxpZCxyQWx0UG9zKXt2YXIgdmFsaWRQc0Nsb25lPSQuZXh0ZW5kKCEwLHt9LG1hc2tzZXQudmFsaWRQb3NpdGlvbnMpLGxhc3RBbHQsYWx0ZXJuYXRpb24saXNWYWxpZFJzbHQ9ITEscmV0dXJuUnNsdD0hMSxhbHRQb3MscHJldkFsdFBvcyxpLHZhbGlkUG9zLGRlY2lzaW9uUG9zLGxBbHRQb3M9dm9pZCAwIT09ckFsdFBvcz9yQWx0UG9zOmdldExhc3RWYWxpZFBvc2l0aW9uKCk7ZnVuY3Rpb24gaW5zZXJ0UG9zaXRpb24oaW5zZXJ0KXtpZihpbnNlcnQmJmlzVmFsaWRSc2x0JiZ2b2lkIDAhPT1jKXt2YXIgdGFyZ2V0THZwPWdldExhc3RWYWxpZFBvc2l0aW9uKHBvcykrMTtmb3IoaT1kZWNpc2lvblBvcztpPGdldExhc3RWYWxpZFBvc2l0aW9uKCkrMTtpKyspdmFsaWRQb3M9bWFza3NldC52YWxpZFBvc2l0aW9uc1tpXSwodm9pZCAwPT09dmFsaWRQb3N8fDE9PXZhbGlkUG9zLm1hdGNoLnN0YXRpYykmJmk8cG9zK3Bvc09mZnNldCYmcG9zT2Zmc2V0Kys7cG9zKz1wb3NPZmZzZXQsaXNWYWxpZFJzbHQ9cmV0dXJuUnNsdD1pc1ZhbGlkKHRhcmdldEx2cDxwb3M/dGFyZ2V0THZwOnBvcyxjLHN0cmljdCxmcm9tSXNWYWxpZCwhMCl9fWlmKC0xPT09bEFsdFBvcyYmdm9pZCAwPT09ckFsdFBvcylsYXN0QWx0PTAscHJldkFsdFBvcz1nZXRUZXN0KGxhc3RBbHQpLGFsdGVybmF0aW9uPXByZXZBbHRQb3MuYWx0ZXJuYXRpb247ZWxzZSBmb3IoOzA8PWxBbHRQb3M7bEFsdFBvcy0tKWlmKGFsdFBvcz1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW2xBbHRQb3NdLGFsdFBvcyYmdm9pZCAwIT09YWx0UG9zLmFsdGVybmF0aW9uKXtpZihwcmV2QWx0UG9zJiZwcmV2QWx0UG9zLmxvY2F0b3JbYWx0UG9zLmFsdGVybmF0aW9uXSE9PWFsdFBvcy5sb2NhdG9yW2FsdFBvcy5hbHRlcm5hdGlvbl0pYnJlYWs7bGFzdEFsdD1sQWx0UG9zLGFsdGVybmF0aW9uPW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbbGFzdEFsdF0uYWx0ZXJuYXRpb24scHJldkFsdFBvcz1hbHRQb3N9aWYodm9pZCAwIT09YWx0ZXJuYXRpb24pe2RlY2lzaW9uUG9zPXBhcnNlSW50KGxhc3RBbHQpLG1hc2tzZXQuZXhjbHVkZXNbZGVjaXNpb25Qb3NdPW1hc2tzZXQuZXhjbHVkZXNbZGVjaXNpb25Qb3NdfHxbXSwhMCE9PXBvcyYmbWFza3NldC5leGNsdWRlc1tkZWNpc2lvblBvc10ucHVzaChnZXREZWNpc2lvblRha2VyKHByZXZBbHRQb3MpKTt2YXIgdmFsaWRJbnB1dHNDbG9uZT1bXSxzdGF0aWNJbnB1dHNCZWZvcmVQb3M9MDtmb3IoaT1kZWNpc2lvblBvcztpPGdldExhc3RWYWxpZFBvc2l0aW9uKHZvaWQgMCwhMCkrMTtpKyspdmFsaWRQb3M9bWFza3NldC52YWxpZFBvc2l0aW9uc1tpXSx2YWxpZFBvcyYmITAhPT12YWxpZFBvcy5nZW5lcmF0ZWRJbnB1dD92YWxpZElucHV0c0Nsb25lLnB1c2godmFsaWRQb3MuaW5wdXQpOmk8cG9zJiZzdGF0aWNJbnB1dHNCZWZvcmVQb3MrKyxkZWxldGUgbWFza3NldC52YWxpZFBvc2l0aW9uc1tpXTtmb3IoO21hc2tzZXQuZXhjbHVkZXNbZGVjaXNpb25Qb3NdJiZtYXNrc2V0LmV4Y2x1ZGVzW2RlY2lzaW9uUG9zXS5sZW5ndGg8MTA7KXt2YXIgcG9zT2Zmc2V0PS0xKnN0YXRpY0lucHV0c0JlZm9yZVBvcyx2YWxpZElucHV0cz12YWxpZElucHV0c0Nsb25lLnNsaWNlKCk7Zm9yKG1hc2tzZXQudGVzdHNbZGVjaXNpb25Qb3NdPXZvaWQgMCxyZXNldE1hc2tTZXQoITApLGlzVmFsaWRSc2x0PSEwLGluc2VydFBvc2l0aW9uKDA9PT1wb3MpOzA8dmFsaWRJbnB1dHMubGVuZ3RoOyl7dmFyIGlucHV0PXZhbGlkSW5wdXRzLnNoaWZ0KCk7aWYoIShpc1ZhbGlkUnNsdD1pc1ZhbGlkKGlzVmFsaWRSc2x0LmNhcmV0fHxnZXRMYXN0VmFsaWRQb3NpdGlvbih2b2lkIDAsITApKzEsaW5wdXQsITEsZnJvbUlzVmFsaWQsITApKSlicmVha31pZihpbnNlcnRQb3NpdGlvbigwPHBvcyksaXNWYWxpZFJzbHQpYnJlYWs7aWYocmVzZXRNYXNrU2V0KCkscHJldkFsdFBvcz1nZXRUZXN0KGRlY2lzaW9uUG9zKSxtYXNrc2V0LnZhbGlkUG9zaXRpb25zPSQuZXh0ZW5kKCEwLHt9LHZhbGlkUHNDbG9uZSksIW1hc2tzZXQuZXhjbHVkZXNbZGVjaXNpb25Qb3NdKXtyZXR1cm5Sc2x0PWFsdGVybmF0ZShwb3MsYyxzdHJpY3QsZnJvbUlzVmFsaWQsZGVjaXNpb25Qb3MtMSk7YnJlYWt9dmFyIGRlY2lzaW9uVGFrZXI9Z2V0RGVjaXNpb25UYWtlcihwcmV2QWx0UG9zKTtpZigtMSE9PW1hc2tzZXQuZXhjbHVkZXNbZGVjaXNpb25Qb3NdLmluZGV4T2YoZGVjaXNpb25UYWtlcikpe3JldHVyblJzbHQ9YWx0ZXJuYXRlKHBvcyxjLHN0cmljdCxmcm9tSXNWYWxpZCxkZWNpc2lvblBvcy0xKTticmVha31mb3IobWFza3NldC5leGNsdWRlc1tkZWNpc2lvblBvc10ucHVzaChkZWNpc2lvblRha2VyKSxpPWRlY2lzaW9uUG9zO2k8Z2V0TGFzdFZhbGlkUG9zaXRpb24odm9pZCAwLCEwKSsxO2krKylkZWxldGUgbWFza3NldC52YWxpZFBvc2l0aW9uc1tpXX19cmV0dXJuIGRlbGV0ZSBtYXNrc2V0LmV4Y2x1ZGVzW2RlY2lzaW9uUG9zXSxyZXR1cm5Sc2x0fWZ1bmN0aW9uIGlzVmFsaWQocG9zLGMsc3RyaWN0LGZyb21Jc1ZhbGlkLGZyb21BbHRlcm5hdGUsdmFsaWRhdGVPbmx5KXtmdW5jdGlvbiBpc1NlbGVjdGlvbihwb3NPYmope3JldHVybiBpc1JUTD8xPHBvc09iai5iZWdpbi1wb3NPYmouZW5kfHxwb3NPYmouYmVnaW4tcG9zT2JqLmVuZD09MToxPHBvc09iai5lbmQtcG9zT2JqLmJlZ2lufHxwb3NPYmouZW5kLXBvc09iai5iZWdpbj09MX1zdHJpY3Q9ITA9PT1zdHJpY3Q7dmFyIG1hc2tQb3M9cG9zO2Z1bmN0aW9uIHByb2Nlc3NDb21tYW5kT2JqZWN0KGNvbW1hbmRPYmope2lmKHZvaWQgMCE9PWNvbW1hbmRPYmope2lmKHZvaWQgMCE9PWNvbW1hbmRPYmoucmVtb3ZlJiYoJC5pc0FycmF5KGNvbW1hbmRPYmoucmVtb3ZlKXx8KGNvbW1hbmRPYmoucmVtb3ZlPVtjb21tYW5kT2JqLnJlbW92ZV0pLCQuZWFjaChjb21tYW5kT2JqLnJlbW92ZS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIucG9zLWEucG9zfSksZnVuY3Rpb24obmR4LGxtbnQpe3JldmFsaWRhdGVNYXNrKHtiZWdpbjpsbW50LGVuZDpsbW50KzF9KX0pLGNvbW1hbmRPYmoucmVtb3ZlPXZvaWQgMCksdm9pZCAwIT09Y29tbWFuZE9iai5pbnNlcnQmJigkLmlzQXJyYXkoY29tbWFuZE9iai5pbnNlcnQpfHwoY29tbWFuZE9iai5pbnNlcnQ9W2NvbW1hbmRPYmouaW5zZXJ0XSksJC5lYWNoKGNvbW1hbmRPYmouaW5zZXJ0LnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5wb3MtYi5wb3N9KSxmdW5jdGlvbihuZHgsbG1udCl7XCJcIiE9PWxtbnQuYyYmaXNWYWxpZChsbW50LnBvcyxsbW50LmMsdm9pZCAwPT09bG1udC5zdHJpY3R8fGxtbnQuc3RyaWN0LHZvaWQgMCE9PWxtbnQuZnJvbUlzVmFsaWQ/bG1udC5mcm9tSXNWYWxpZDpmcm9tSXNWYWxpZCl9KSxjb21tYW5kT2JqLmluc2VydD12b2lkIDApLGNvbW1hbmRPYmoucmVmcmVzaEZyb21CdWZmZXImJmNvbW1hbmRPYmouYnVmZmVyKXt2YXIgcmVmcmVzaD1jb21tYW5kT2JqLnJlZnJlc2hGcm9tQnVmZmVyO3JlZnJlc2hGcm9tQnVmZmVyKCEwPT09cmVmcmVzaD9yZWZyZXNoOnJlZnJlc2guc3RhcnQscmVmcmVzaC5lbmQsY29tbWFuZE9iai5idWZmZXIpLGNvbW1hbmRPYmoucmVmcmVzaEZyb21CdWZmZXI9dm9pZCAwfXZvaWQgMCE9PWNvbW1hbmRPYmoucmV3cml0ZVBvc2l0aW9uJiYobWFza1Bvcz1jb21tYW5kT2JqLnJld3JpdGVQb3NpdGlvbixjb21tYW5kT2JqPSEwLGNvbW1hbmRPYmoucmV3cml0ZVBvc2l0aW9uPXZvaWQgMCl9cmV0dXJuIGNvbW1hbmRPYmp9ZnVuY3Rpb24gX2lzVmFsaWQocG9zaXRpb24sYyxzdHJpY3Qpe3ZhciByc2x0PSExO3JldHVybiAkLmVhY2goZ2V0VGVzdHMocG9zaXRpb24pLGZ1bmN0aW9uKG5keCx0c3Qpe3ZhciB0ZXN0PXRzdC5tYXRjaDtpZihnZXRCdWZmZXIoITApLHJzbHQ9bnVsbCE9dGVzdC5mbj90ZXN0LmZuLnRlc3QoYyxtYXNrc2V0LHBvc2l0aW9uLHN0cmljdCxvcHRzLGlzU2VsZWN0aW9uKHBvcykpOihjPT09dGVzdC5kZWZ8fGM9PT1vcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIpJiZcIlwiIT09dGVzdC5kZWYmJntjOmdldFBsYWNlaG9sZGVyKHBvc2l0aW9uLHRlc3QsITApfHx0ZXN0LmRlZixwb3M6cG9zaXRpb259LCExIT09cnNsdCl7dmFyIGVsZW09dm9pZCAwIT09cnNsdC5jP3JzbHQuYzpjLHZhbGlkYXRlZFBvcz1wb3NpdGlvbjtyZXR1cm4gZWxlbT1lbGVtPT09b3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyJiYhMD09PXRlc3Quc3RhdGljP2dldFBsYWNlaG9sZGVyKHBvc2l0aW9uLHRlc3QsITApfHx0ZXN0LmRlZjplbGVtLHJzbHQ9cHJvY2Vzc0NvbW1hbmRPYmplY3QocnNsdCksITAhPT1yc2x0JiZ2b2lkIDAhPT1yc2x0LnBvcyYmcnNsdC5wb3MhPT1wb3NpdGlvbiYmKHZhbGlkYXRlZFBvcz1yc2x0LnBvcyksITAhPT1yc2x0JiZ2b2lkIDA9PT1yc2x0LnBvcyYmdm9pZCAwPT09cnNsdC5jPyExOihyZXZhbGlkYXRlTWFzayhwb3MsJC5leHRlbmQoe30sdHN0LHtpbnB1dDpjYXNpbmcoZWxlbSx0ZXN0LHZhbGlkYXRlZFBvcyl9KSxmcm9tSXNWYWxpZCx2YWxpZGF0ZWRQb3MpfHwocnNsdD0hMSksITEpfX0pLHJzbHR9dm9pZCAwIT09cG9zLmJlZ2luJiYobWFza1Bvcz1pc1JUTD9wb3MuZW5kOnBvcy5iZWdpbik7dmFyIHJlc3VsdD0hMCxwb3NpdGlvbnNDbG9uZT0kLmV4dGVuZCghMCx7fSxtYXNrc2V0LnZhbGlkUG9zaXRpb25zKTtpZigkLmlzRnVuY3Rpb24ob3B0cy5wcmVWYWxpZGF0aW9uKSYmIXN0cmljdCYmITAhPT1mcm9tSXNWYWxpZCYmITAhPT12YWxpZGF0ZU9ubHkmJiEwIT09ZnJvbUFsdGVybmF0ZSYmKHJlc3VsdD1vcHRzLnByZVZhbGlkYXRpb24oZ2V0QnVmZmVyKCksbWFza1BvcyxjLGlzU2VsZWN0aW9uKHBvcyksb3B0cyxtYXNrc2V0LHBvcykscmVzdWx0PXByb2Nlc3NDb21tYW5kT2JqZWN0KHJlc3VsdCkpLCEwPT09cmVzdWx0KXtpZigodm9pZCAwPT09bWF4TGVuZ3RofHxtYXNrUG9zPG1heExlbmd0aCkmJihyZXN1bHQ9X2lzVmFsaWQobWFza1BvcyxjLHN0cmljdCksKCFzdHJpY3R8fCEwPT09ZnJvbUlzVmFsaWQpJiYhMT09PXJlc3VsdCYmITAhPT12YWxpZGF0ZU9ubHkpKXt2YXIgY3VycmVudFBvc1ZhbGlkPW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbbWFza1Bvc107aWYoIWN1cnJlbnRQb3NWYWxpZHx8ITAhPT1jdXJyZW50UG9zVmFsaWQubWF0Y2guc3RhdGljfHxjdXJyZW50UG9zVmFsaWQubWF0Y2guZGVmIT09YyYmYyE9PW9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3Rlcil7aWYob3B0cy5pbnNlcnRNb2RlfHx2b2lkIDA9PT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3NlZWtOZXh0KG1hc2tQb3MpXSl7dmFyIHNraXA9ITE7aWYobWFza3NldC5qaXRPZmZzZXRbbWFza1Bvc10mJnZvaWQgMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbc2Vla05leHQobWFza1BvcyldJiYocmVzdWx0PWlzVmFsaWQobWFza1BvcyttYXNrc2V0LmppdE9mZnNldFttYXNrUG9zXSxjLCEwKSwhMSE9PXJlc3VsdCYmKCEwIT09ZnJvbUFsdGVybmF0ZSYmKHJlc3VsdC5jYXJldD1tYXNrUG9zKSxza2lwPSEwKSksIXNraXAmJiFpc01hc2sobWFza1BvcywhMCkpZm9yKHZhciBuUG9zPW1hc2tQb3MrMSxzblBvcz1zZWVrTmV4dChtYXNrUG9zKTtuUG9zPD1zblBvcztuUG9zKyspaWYocmVzdWx0PV9pc1ZhbGlkKG5Qb3MsYyxzdHJpY3QpLCExIT09cmVzdWx0KXtyZXN1bHQ9dHJhY2tiYWNrUG9zaXRpb25zKG1hc2tQb3Msdm9pZCAwIT09cmVzdWx0LnBvcz9yZXN1bHQucG9zOm5Qb3MpfHxyZXN1bHQsbWFza1Bvcz1uUG9zO2JyZWFrfX19ZWxzZSByZXN1bHQ9e2NhcmV0OnNlZWtOZXh0KG1hc2tQb3MpfX0hMSE9PXJlc3VsdHx8ITE9PT1vcHRzLmtlZXBTdGF0aWN8fG51bGwhPW9wdHMucmVnZXgmJiFpc0NvbXBsZXRlKGdldEJ1ZmZlcigpKXx8c3RyaWN0fHwhMD09PWZyb21BbHRlcm5hdGV8fChyZXN1bHQ9YWx0ZXJuYXRlKG1hc2tQb3MsYyxzdHJpY3QsZnJvbUlzVmFsaWQpKSwhMD09PXJlc3VsdCYmKHJlc3VsdD17cG9zOm1hc2tQb3N9KX1pZigkLmlzRnVuY3Rpb24ob3B0cy5wb3N0VmFsaWRhdGlvbikmJiExIT09cmVzdWx0JiYhc3RyaWN0JiYhMCE9PWZyb21Jc1ZhbGlkJiYhMCE9PXZhbGlkYXRlT25seSl7dmFyIHBvc3RSZXN1bHQ9b3B0cy5wb3N0VmFsaWRhdGlvbihnZXRCdWZmZXIoITApLHZvaWQgMCE9PXBvcy5iZWdpbj9pc1JUTD9wb3MuZW5kOnBvcy5iZWdpbjpwb3MscmVzdWx0LG9wdHMpO3ZvaWQgMCE9PXBvc3RSZXN1bHQmJihyZXN1bHQ9ITA9PT1wb3N0UmVzdWx0P3Jlc3VsdDpwb3N0UmVzdWx0KX1yZXN1bHQmJnZvaWQgMD09PXJlc3VsdC5wb3MmJihyZXN1bHQucG9zPW1hc2tQb3MpLCExPT09cmVzdWx0fHwhMD09PXZhbGlkYXRlT25seT8ocmVzZXRNYXNrU2V0KCEwKSxtYXNrc2V0LnZhbGlkUG9zaXRpb25zPSQuZXh0ZW5kKCEwLHt9LHBvc2l0aW9uc0Nsb25lKSk6dHJhY2tiYWNrUG9zaXRpb25zKHZvaWQgMCxtYXNrUG9zLCEwKTt2YXIgZW5kUmVzdWx0PXByb2Nlc3NDb21tYW5kT2JqZWN0KHJlc3VsdCk7cmV0dXJuIGVuZFJlc3VsdH1mdW5jdGlvbiB0cmFja2JhY2tQb3NpdGlvbnMob3JpZ2luYWxQb3MsbmV3UG9zLGZpbGxPbmx5KXtpZih2b2lkIDA9PT1vcmlnaW5hbFBvcylmb3Iob3JpZ2luYWxQb3M9bmV3UG9zLTE7MDxvcmlnaW5hbFBvcyYmIW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbb3JpZ2luYWxQb3NdO29yaWdpbmFsUG9zLS0pO2Zvcih2YXIgcHM9b3JpZ2luYWxQb3M7cHM8bmV3UG9zO3BzKyspaWYodm9pZCAwPT09bWFza3NldC52YWxpZFBvc2l0aW9uc1twc10mJiFpc01hc2socHMsITApKXt2YXIgdnA9MD09cHM/Z2V0VGVzdChwcyk6bWFza3NldC52YWxpZFBvc2l0aW9uc1twcy0xXTtpZih2cCl7dmFyIHRlc3RzPWdldFRlc3RzKHBzKS5zbGljZSgpO1wiXCI9PT10ZXN0c1t0ZXN0cy5sZW5ndGgtMV0ubWF0Y2guZGVmJiZ0ZXN0cy5wb3AoKTt2YXIgYmVzdE1hdGNoPWRldGVybWluZVRlc3RUZW1wbGF0ZShwcyx0ZXN0cyksbnA7aWYoYmVzdE1hdGNoJiYoITAhPT1iZXN0TWF0Y2gubWF0Y2guaml0fHxcIm1hc3RlclwiPT09YmVzdE1hdGNoLm1hdGNoLm5ld0Jsb2NrTWFya2VyJiYobnA9bWFza3NldC52YWxpZFBvc2l0aW9uc1twcysxXSkmJiEwPT09bnAubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyKSYmKGJlc3RNYXRjaD0kLmV4dGVuZCh7fSxiZXN0TWF0Y2gse2lucHV0OmdldFBsYWNlaG9sZGVyKHBzLGJlc3RNYXRjaC5tYXRjaCwhMCl8fGJlc3RNYXRjaC5tYXRjaC5kZWZ9KSxiZXN0TWF0Y2guZ2VuZXJhdGVkSW5wdXQ9ITAscmV2YWxpZGF0ZU1hc2socHMsYmVzdE1hdGNoLCEwKSwhMCE9PWZpbGxPbmx5KSl7dmFyIGN2cElucHV0PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbbmV3UG9zXS5pbnB1dDtyZXR1cm4gbWFza3NldC52YWxpZFBvc2l0aW9uc1tuZXdQb3NdPXZvaWQgMCxpc1ZhbGlkKG5ld1BvcyxjdnBJbnB1dCwhMCwhMCl9fX19ZnVuY3Rpb24gcmV2YWxpZGF0ZU1hc2socG9zLHZhbGlkVGVzdCxmcm9tSXNWYWxpZCx2YWxpZGF0ZWRQb3Mpe2Z1bmN0aW9uIElzRW5jbG9zZWRTdGF0aWMocG9zLHZhbGlkcyxzZWxlY3Rpb24pe3ZhciBwb3NNYXRjaD12YWxpZHNbcG9zXTtpZih2b2lkIDA9PT1wb3NNYXRjaHx8KCEwIT09cG9zTWF0Y2gubWF0Y2guc3RhdGljfHwhMD09PXBvc01hdGNoLm1hdGNoLm9wdGlvbmFsaXR5KSYmcG9zTWF0Y2guaW5wdXQhPT1vcHRzLnJhZGl4UG9pbnQpcmV0dXJuITE7dmFyIHByZXZNYXRjaD1zZWxlY3Rpb24uYmVnaW48PXBvcy0xP3ZhbGlkc1twb3MtMV0mJiEwPT09dmFsaWRzW3Bvcy0xXS5tYXRjaC5zdGF0aWMmJnZhbGlkc1twb3MtMV06dmFsaWRzW3Bvcy0xXSxuZXh0TWF0Y2g9c2VsZWN0aW9uLmVuZD5wb3MrMT92YWxpZHNbcG9zKzFdJiYhMD09PXZhbGlkc1twb3MrMV0ubWF0Y2guc3RhdGljJiZ2YWxpZHNbcG9zKzFdOnZhbGlkc1twb3MrMV07cmV0dXJuIHByZXZNYXRjaCYmbmV4dE1hdGNofXZhciBiZWdpbj12b2lkIDAhPT1wb3MuYmVnaW4/cG9zLmJlZ2luOnBvcyxlbmQ9dm9pZCAwIT09cG9zLmVuZD9wb3MuZW5kOnBvcztpZihwb3MuYmVnaW4+cG9zLmVuZCYmKGJlZ2luPXBvcy5lbmQsZW5kPXBvcy5iZWdpbiksdmFsaWRhdGVkUG9zPXZvaWQgMCE9PXZhbGlkYXRlZFBvcz92YWxpZGF0ZWRQb3M6YmVnaW4sYmVnaW4hPT1lbmR8fG9wdHMuaW5zZXJ0TW9kZSYmdm9pZCAwIT09bWFza3NldC52YWxpZFBvc2l0aW9uc1t2YWxpZGF0ZWRQb3NdJiZ2b2lkIDA9PT1mcm9tSXNWYWxpZCl7dmFyIHBvc2l0aW9uc0Nsb25lPSQuZXh0ZW5kKCEwLHt9LG1hc2tzZXQudmFsaWRQb3NpdGlvbnMpLGx2cD1nZXRMYXN0VmFsaWRQb3NpdGlvbih2b2lkIDAsITApLGk7Zm9yKG1hc2tzZXQucD1iZWdpbixpPWx2cDtiZWdpbjw9aTtpLS0pZGVsZXRlIG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbaV0sdm9pZCAwPT09dmFsaWRUZXN0JiZkZWxldGUgbWFza3NldC50ZXN0c1tpKzFdO3ZhciB2YWxpZD0hMCxqPXZhbGlkYXRlZFBvcyxuZWVkc1ZhbGlkYXRpb249MD09PXZhbGlkYXRlZFBvcyxwb3NNYXRjaD1qO2ZvcihpPWosdmFsaWRUZXN0JiYobWFza3NldC52YWxpZFBvc2l0aW9uc1t2YWxpZGF0ZWRQb3NdPSQuZXh0ZW5kKCEwLHt9LHZhbGlkVGVzdCkscG9zTWF0Y2grKyxqKyssYmVnaW48ZW5kJiZpKyspO2k8PWx2cDtpKyspe3ZhciB0PXBvc2l0aW9uc0Nsb25lW2ldO2lmKHZvaWQgMCE9PXQmJiEwIT09dC5nZW5lcmF0ZWRJbnB1dCYmKGVuZDw9aXx8YmVnaW48PWkmJklzRW5jbG9zZWRTdGF0aWMoaSxwb3NpdGlvbnNDbG9uZSx7YmVnaW46YmVnaW4sZW5kOmVuZH0pKSl7Zm9yKDtcIlwiIT09Z2V0VGVzdChwb3NNYXRjaCkubWF0Y2guZGVmOyl7aWYoITE9PT1uZWVkc1ZhbGlkYXRpb24mJnBvc2l0aW9uc0Nsb25lW3Bvc01hdGNoXSYmcG9zaXRpb25zQ2xvbmVbcG9zTWF0Y2hdLm1hdGNoLm5hdGl2ZURlZj09PXQubWF0Y2gubmF0aXZlRGVmJiYhMCE9PXQuZ2VuZXJhdGVkSW5wdXQpbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NNYXRjaF09JC5leHRlbmQoITAse30scG9zaXRpb25zQ2xvbmVbcG9zTWF0Y2hdKSxtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc01hdGNoXS5pbnB1dD10LmlucHV0LHRyYWNrYmFja1Bvc2l0aW9ucyh2b2lkIDAscG9zTWF0Y2gsITApLGo9cG9zTWF0Y2grMSx2YWxpZD0hMDtlbHNlIGlmKG9wdHMuc2hpZnRQb3NpdGlvbnMmJihwb3NpdGlvbkNhbk1hdGNoRGVmaW5pdGlvbihwb3NNYXRjaCx0Lm1hdGNoLmRlZil8fFwiK1wiPT09dC5tYXRjaC5kZWYpKXtcIitcIj09PXQubWF0Y2guZGVmJiZnZXRCdWZmZXIoITApO3ZhciByZXN1bHQ9aXNWYWxpZChwb3NNYXRjaCx0LmlucHV0LFwiK1wiIT09dC5tYXRjaC5kZWYsXCIrXCIhPT10Lm1hdGNoLmRlZik7dmFsaWQ9ITEhPT1yZXN1bHQsaj0ocmVzdWx0LnBvc3x8cG9zTWF0Y2gpKzEsbmVlZHNWYWxpZGF0aW9uPSEwfWVsc2UgdmFsaWQ9ITA9PT10LmdlbmVyYXRlZElucHV0O2lmKHZhbGlkKWJyZWFrO2lmKCF2YWxpZCYmZW5kPHBvc01hdGNoJiZpc01hc2socG9zTWF0Y2gsITApJiYoITAhPT10Lm1hdGNoLnN0YXRpY3x8cG9zTWF0Y2g+bWFza3NldC5tYXNrTGVuZ3RoKSlicmVhaztwb3NNYXRjaCsrfVwiXCI9PWdldFRlc3QocG9zTWF0Y2gpLm1hdGNoLmRlZiYmKHZhbGlkPSExKSxwb3NNYXRjaD1qfWlmKCF2YWxpZClicmVha31pZighdmFsaWQpcmV0dXJuIG1hc2tzZXQudmFsaWRQb3NpdGlvbnM9JC5leHRlbmQoITAse30scG9zaXRpb25zQ2xvbmUpLHJlc2V0TWFza1NldCghMCksITF9ZWxzZSB2YWxpZFRlc3QmJihtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3ZhbGlkYXRlZFBvc109JC5leHRlbmQoITAse30sdmFsaWRUZXN0KSk7cmV0dXJuIHJlc2V0TWFza1NldCghMCksITB9ZnVuY3Rpb24gaXNNYXNrKHBvcyxzdHJpY3Qpe3ZhciB0ZXN0PWdldFRlc3RUZW1wbGF0ZShwb3MpLm1hdGNoO2lmKFwiXCI9PT10ZXN0LmRlZiYmKHRlc3Q9Z2V0VGVzdChwb3MpLm1hdGNoKSwxIT10ZXN0LnN0YXRpYylyZXR1cm4gdGVzdC5mbjtpZighMCE9PXN0cmljdCYmLTE8cG9zKXt2YXIgdGVzdHM9Z2V0VGVzdHMocG9zKTtyZXR1cm4gdGVzdHMubGVuZ3RoPjErKFwiXCI9PT10ZXN0c1t0ZXN0cy5sZW5ndGgtMV0ubWF0Y2guZGVmPzE6MCl9cmV0dXJuITF9ZnVuY3Rpb24gc2Vla05leHQocG9zLG5ld0Jsb2NrKXtmb3IodmFyIHBvc2l0aW9uPXBvcysxO1wiXCIhPT1nZXRUZXN0KHBvc2l0aW9uKS5tYXRjaC5kZWYmJighMD09PW5ld0Jsb2NrJiYoITAhPT1nZXRUZXN0KHBvc2l0aW9uKS5tYXRjaC5uZXdCbG9ja01hcmtlcnx8IWlzTWFzayhwb3NpdGlvbikpfHwhMCE9PW5ld0Jsb2NrJiYhaXNNYXNrKHBvc2l0aW9uKSk7KXBvc2l0aW9uKys7cmV0dXJuIHBvc2l0aW9ufWZ1bmN0aW9uIHNlZWtQcmV2aW91cyhwb3MsbmV3QmxvY2spe3ZhciBwb3NpdGlvbj1wb3MsdGVzdHM7aWYocG9zaXRpb248PTApcmV0dXJuIDA7Zm9yKDswPC0tcG9zaXRpb24mJighMD09PW5ld0Jsb2NrJiYhMCE9PWdldFRlc3QocG9zaXRpb24pLm1hdGNoLm5ld0Jsb2NrTWFya2VyfHwhMCE9PW5ld0Jsb2NrJiYhaXNNYXNrKHBvc2l0aW9uKSYmKHRlc3RzPWdldFRlc3RzKHBvc2l0aW9uKSx0ZXN0cy5sZW5ndGg8Mnx8Mj09PXRlc3RzLmxlbmd0aCYmXCJcIj09PXRlc3RzWzFdLm1hdGNoLmRlZikpOyk7cmV0dXJuIHBvc2l0aW9ufWZ1bmN0aW9uIHdyaXRlQnVmZmVyKGlucHV0LGJ1ZmZlcixjYXJldFBvcyxldmVudCx0cmlnZ2VyRXZlbnRzKXtpZihldmVudCYmJC5pc0Z1bmN0aW9uKG9wdHMub25CZWZvcmVXcml0ZSkpe3ZhciByZXN1bHQ9b3B0cy5vbkJlZm9yZVdyaXRlLmNhbGwoaW5wdXRtYXNrLGV2ZW50LGJ1ZmZlcixjYXJldFBvcyxvcHRzKTtpZihyZXN1bHQpe2lmKHJlc3VsdC5yZWZyZXNoRnJvbUJ1ZmZlcil7dmFyIHJlZnJlc2g9cmVzdWx0LnJlZnJlc2hGcm9tQnVmZmVyO3JlZnJlc2hGcm9tQnVmZmVyKCEwPT09cmVmcmVzaD9yZWZyZXNoOnJlZnJlc2guc3RhcnQscmVmcmVzaC5lbmQscmVzdWx0LmJ1ZmZlcnx8YnVmZmVyKSxidWZmZXI9Z2V0QnVmZmVyKCEwKX12b2lkIDAhPT1jYXJldFBvcyYmKGNhcmV0UG9zPXZvaWQgMCE9PXJlc3VsdC5jYXJldD9yZXN1bHQuY2FyZXQ6Y2FyZXRQb3MpfX1pZih2b2lkIDAhPT1pbnB1dCYmKGlucHV0LmlucHV0bWFzay5fdmFsdWVTZXQoYnVmZmVyLmpvaW4oXCJcIikpLHZvaWQgMD09PWNhcmV0UG9zfHx2b2lkIDAhPT1ldmVudCYmXCJibHVyXCI9PT1ldmVudC50eXBlP3JlbmRlckNvbG9yTWFzayhpbnB1dCxjYXJldFBvcywwPT09YnVmZmVyLmxlbmd0aCk6Y2FyZXQoaW5wdXQsY2FyZXRQb3MpLCEwPT09dHJpZ2dlckV2ZW50cykpe3ZhciAkaW5wdXQ9JChpbnB1dCksbnB0VmFsPWlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKTtza2lwSW5wdXRFdmVudD0hMCwkaW5wdXQudHJpZ2dlcihcImlucHV0XCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtucHRWYWw9PT1nZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIik/JGlucHV0LnRyaWdnZXIoXCJjbGVhcmVkXCIpOiEwPT09aXNDb21wbGV0ZShidWZmZXIpJiYkaW5wdXQudHJpZ2dlcihcImNvbXBsZXRlXCIpfSwwKX19ZnVuY3Rpb24gZ2V0UGxhY2Vob2xkZXIocG9zLHRlc3QscmV0dXJuUEwpe2lmKHRlc3Q9dGVzdHx8Z2V0VGVzdChwb3MpLm1hdGNoLHZvaWQgMCE9PXRlc3QucGxhY2Vob2xkZXJ8fCEwPT09cmV0dXJuUEwpcmV0dXJuICQuaXNGdW5jdGlvbih0ZXN0LnBsYWNlaG9sZGVyKT90ZXN0LnBsYWNlaG9sZGVyKG9wdHMpOnRlc3QucGxhY2Vob2xkZXI7aWYoITAhPT10ZXN0LnN0YXRpYylyZXR1cm4gb3B0cy5wbGFjZWhvbGRlci5jaGFyQXQocG9zJW9wdHMucGxhY2Vob2xkZXIubGVuZ3RoKTtpZigtMTxwb3MmJnZvaWQgMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXSl7dmFyIHRlc3RzPWdldFRlc3RzKHBvcyksc3RhdGljQWx0ZXJuYXRpb25zPVtdLHByZXZUZXN0O2lmKHRlc3RzLmxlbmd0aD4xKyhcIlwiPT09dGVzdHNbdGVzdHMubGVuZ3RoLTFdLm1hdGNoLmRlZj8xOjApKWZvcih2YXIgaT0wO2k8dGVzdHMubGVuZ3RoO2krKylpZighMCE9PXRlc3RzW2ldLm1hdGNoLm9wdGlvbmFsaXR5JiYhMCE9PXRlc3RzW2ldLm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciYmKCEwPT09dGVzdHNbaV0ubWF0Y2guc3RhdGljfHx2b2lkIDA9PT1wcmV2VGVzdHx8ITEhPT10ZXN0c1tpXS5tYXRjaC5mbi50ZXN0KHByZXZUZXN0Lm1hdGNoLmRlZixtYXNrc2V0LHBvcywhMCxvcHRzKSkmJihzdGF0aWNBbHRlcm5hdGlvbnMucHVzaCh0ZXN0c1tpXSksITA9PT10ZXN0c1tpXS5tYXRjaC5zdGF0aWMmJihwcmV2VGVzdD10ZXN0c1tpXSksMTxzdGF0aWNBbHRlcm5hdGlvbnMubGVuZ3RoJiYvWzAtOWEtYkEtWl0vLnRlc3Qoc3RhdGljQWx0ZXJuYXRpb25zWzBdLm1hdGNoLmRlZikpKXJldHVybiBvcHRzLnBsYWNlaG9sZGVyLmNoYXJBdChwb3Mlb3B0cy5wbGFjZWhvbGRlci5sZW5ndGgpfXJldHVybiB0ZXN0LmRlZn1mdW5jdGlvbiBIYW5kbGVOYXRpdmVQbGFjZWhvbGRlcihucHQsdmFsdWUpe2lmKGllKXtpZihucHQuaW5wdXRtYXNrLl92YWx1ZUdldCgpIT09dmFsdWUmJihucHQucGxhY2Vob2xkZXIhPT12YWx1ZXx8XCJcIj09PW5wdC5wbGFjZWhvbGRlcikpe3ZhciBidWZmZXI9Z2V0QnVmZmVyKCkuc2xpY2UoKSxucHRWYWx1ZT1ucHQuaW5wdXRtYXNrLl92YWx1ZUdldCgpO2lmKG5wdFZhbHVlIT09dmFsdWUpe3ZhciBsdnA9Z2V0TGFzdFZhbGlkUG9zaXRpb24oKTstMT09PWx2cCYmbnB0VmFsdWU9PT1nZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIik/YnVmZmVyPVtdOi0xIT09bHZwJiZjbGVhck9wdGlvbmFsVGFpbChidWZmZXIpLHdyaXRlQnVmZmVyKG5wdCxidWZmZXIpfX19ZWxzZSBucHQucGxhY2Vob2xkZXIhPT12YWx1ZSYmKG5wdC5wbGFjZWhvbGRlcj12YWx1ZSxcIlwiPT09bnB0LnBsYWNlaG9sZGVyJiZucHQucmVtb3ZlQXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIikpfWZ1bmN0aW9uIGRldGVybWluZU5ld0NhcmV0UG9zaXRpb24oc2VsZWN0ZWRDYXJldCx0YWJiZWQpe2Z1bmN0aW9uIGRvUmFkaXhGb2N1cyhjbGlja1Bvcyl7aWYoXCJcIiE9PW9wdHMucmFkaXhQb2ludCl7dmFyIHZwcz1tYXNrc2V0LnZhbGlkUG9zaXRpb25zO2lmKHZvaWQgMD09PXZwc1tjbGlja1Bvc118fHZwc1tjbGlja1Bvc10uaW5wdXQ9PT1nZXRQbGFjZWhvbGRlcihjbGlja1Bvcykpe2lmKGNsaWNrUG9zPHNlZWtOZXh0KC0xKSlyZXR1cm4hMDt2YXIgcmFkaXhQb3M9JC5pbkFycmF5KG9wdHMucmFkaXhQb2ludCxnZXRCdWZmZXIoKSk7aWYoLTEhPT1yYWRpeFBvcyl7Zm9yKHZhciB2cCBpbiB2cHMpaWYodnBzW3ZwXSYmcmFkaXhQb3M8dnAmJnZwc1t2cF0uaW5wdXQhPT1nZXRQbGFjZWhvbGRlcih2cCkpcmV0dXJuITE7cmV0dXJuITB9fX1yZXR1cm4hMX1pZih0YWJiZWQmJihpc1JUTD9zZWxlY3RlZENhcmV0LmVuZD1zZWxlY3RlZENhcmV0LmJlZ2luOnNlbGVjdGVkQ2FyZXQuYmVnaW49c2VsZWN0ZWRDYXJldC5lbmQpLHNlbGVjdGVkQ2FyZXQuYmVnaW49PT1zZWxlY3RlZENhcmV0LmVuZClzd2l0Y2gob3B0cy5wb3NpdGlvbkNhcmV0T25DbGljayl7Y2FzZVwibm9uZVwiOmJyZWFrO2Nhc2VcInNlbGVjdFwiOnJldHVybntiZWdpbjowLGVuZDpnZXRCdWZmZXIoKS5sZW5ndGh9O2Nhc2VcImlnbm9yZVwiOnJldHVybiBzZWVrTmV4dChnZXRMYXN0VmFsaWRQb3NpdGlvbigpKTtjYXNlXCJyYWRpeEZvY3VzXCI6aWYoZG9SYWRpeEZvY3VzKHNlbGVjdGVkQ2FyZXQuYmVnaW4pKXt2YXIgcmFkaXhQb3M9Z2V0QnVmZmVyKCkuam9pbihcIlwiKS5pbmRleE9mKG9wdHMucmFkaXhQb2ludCk7cmV0dXJuIG9wdHMubnVtZXJpY0lucHV0P3NlZWtOZXh0KHJhZGl4UG9zKTpyYWRpeFBvc31kZWZhdWx0OnZhciBjbGlja1Bvc2l0aW9uPXNlbGVjdGVkQ2FyZXQuYmVnaW4sbHZjbGlja1Bvc2l0aW9uPWdldExhc3RWYWxpZFBvc2l0aW9uKGNsaWNrUG9zaXRpb24sITApLGxhc3RQb3NpdGlvbj1zZWVrTmV4dCgtMSE9PWx2Y2xpY2tQb3NpdGlvbnx8aXNNYXNrKDApP2x2Y2xpY2tQb3NpdGlvbjowKTtpZihjbGlja1Bvc2l0aW9uPGxhc3RQb3NpdGlvbilyZXR1cm4gaXNNYXNrKGNsaWNrUG9zaXRpb24sITApfHxpc01hc2soY2xpY2tQb3NpdGlvbi0xLCEwKT9jbGlja1Bvc2l0aW9uOnNlZWtOZXh0KGNsaWNrUG9zaXRpb24pO3ZhciBsdnA9bWFza3NldC52YWxpZFBvc2l0aW9uc1tsdmNsaWNrUG9zaXRpb25dLHR0PWdldFRlc3RUZW1wbGF0ZShsYXN0UG9zaXRpb24sbHZwP2x2cC5tYXRjaC5sb2NhdG9yOnZvaWQgMCxsdnApLHBsYWNlaG9sZGVyPWdldFBsYWNlaG9sZGVyKGxhc3RQb3NpdGlvbix0dC5tYXRjaCk7aWYoXCJcIiE9PXBsYWNlaG9sZGVyJiZnZXRCdWZmZXIoKVtsYXN0UG9zaXRpb25dIT09cGxhY2Vob2xkZXImJiEwIT09dHQubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyJiYhMCE9PXR0Lm1hdGNoLm5ld0Jsb2NrTWFya2VyfHwhaXNNYXNrKGxhc3RQb3NpdGlvbixvcHRzLmtlZXBTdGF0aWMpJiZ0dC5tYXRjaC5kZWY9PT1wbGFjZWhvbGRlcil7dmFyIG5ld1Bvcz1zZWVrTmV4dChsYXN0UG9zaXRpb24pOyhuZXdQb3M8PWNsaWNrUG9zaXRpb258fGNsaWNrUG9zaXRpb249PT1sYXN0UG9zaXRpb24pJiYobGFzdFBvc2l0aW9uPW5ld1Bvcyl9cmV0dXJuIGxhc3RQb3NpdGlvbn19dmFyIEV2ZW50UnVsZXI9e29uOmZ1bmN0aW9uIG9uKGlucHV0LGV2ZW50TmFtZSxldmVudEhhbmRsZXIpe3ZhciBldj1mdW5jdGlvbiBldihlKXt2YXIgdGhhdD10aGlzLGFyZ3M7aWYodm9pZCAwPT09dGhhdC5pbnB1dG1hc2smJlwiRk9STVwiIT09dGhpcy5ub2RlTmFtZSl7dmFyIGltT3B0cz0kLmRhdGEodGhhdCxcIl9pbnB1dG1hc2tfb3B0c1wiKTtpbU9wdHM/bmV3IElucHV0bWFzayhpbU9wdHMpLm1hc2sodGhhdCk6RXZlbnRSdWxlci5vZmYodGhhdCl9ZWxzZXtpZihcInNldHZhbHVlXCI9PT1lLnR5cGV8fFwiRk9STVwiPT09dGhpcy5ub2RlTmFtZXx8ISh0aGF0LmRpc2FibGVkfHx0aGF0LnJlYWRPbmx5JiYhKFwia2V5ZG93blwiPT09ZS50eXBlJiZlLmN0cmxLZXkmJjY3PT09ZS5rZXlDb2RlfHwhMT09PW9wdHMudGFiVGhyb3VnaCYmZS5rZXlDb2RlPT09SW5wdXRtYXNrLmtleUNvZGUuVEFCKSkpe3N3aXRjaChlLnR5cGUpe2Nhc2VcImlucHV0XCI6aWYoITA9PT1za2lwSW5wdXRFdmVudClyZXR1cm4gc2tpcElucHV0RXZlbnQ9ITEsZS5wcmV2ZW50RGVmYXVsdCgpO2lmKG1vYmlsZSlyZXR1cm4gYXJncz1hcmd1bWVudHMsc2V0VGltZW91dChmdW5jdGlvbigpe2V2ZW50SGFuZGxlci5hcHBseSh0aGF0LGFyZ3MpLGNhcmV0KHRoYXQsdGhhdC5pbnB1dG1hc2suY2FyZXRQb3Msdm9pZCAwLCEwKX0sMCksITE7YnJlYWs7Y2FzZVwia2V5ZG93blwiOnNraXBLZXlQcmVzc0V2ZW50PSExLHNraXBJbnB1dEV2ZW50PSExO2JyZWFrO2Nhc2VcImtleXByZXNzXCI6aWYoITA9PT1za2lwS2V5UHJlc3NFdmVudClyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO3NraXBLZXlQcmVzc0V2ZW50PSEwO2JyZWFrO2Nhc2VcImNsaWNrXCI6Y2FzZVwiZm9jdXNcIjpyZXR1cm4gYXJncz1hcmd1bWVudHMsc2V0VGltZW91dChmdW5jdGlvbigpe2V2ZW50SGFuZGxlci5hcHBseSh0aGF0LGFyZ3MpfSwwKSwhMX12YXIgcmV0dXJuVmFsPWV2ZW50SGFuZGxlci5hcHBseSh0aGF0LGFyZ3VtZW50cyk7cmV0dXJuITE9PT1yZXR1cm5WYWwmJihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSkscmV0dXJuVmFsfWUucHJldmVudERlZmF1bHQoKX19O2lucHV0LmlucHV0bWFzay5ldmVudHNbZXZlbnROYW1lXT1pbnB1dC5pbnB1dG1hc2suZXZlbnRzW2V2ZW50TmFtZV18fFtdLGlucHV0LmlucHV0bWFzay5ldmVudHNbZXZlbnROYW1lXS5wdXNoKGV2KSwtMSE9PSQuaW5BcnJheShldmVudE5hbWUsW1wic3VibWl0XCIsXCJyZXNldFwiXSk/bnVsbCE9PWlucHV0LmZvcm0mJiQoaW5wdXQuZm9ybSkub24oZXZlbnROYW1lLGV2KTokKGlucHV0KS5vbihldmVudE5hbWUsZXYpfSxvZmY6ZnVuY3Rpb24gb2ZmKGlucHV0LGV2ZW50KXt2YXIgZXZlbnRzO2lucHV0LmlucHV0bWFzayYmaW5wdXQuaW5wdXRtYXNrLmV2ZW50cyYmKGV2ZW50PyhldmVudHM9W10sZXZlbnRzW2V2ZW50XT1pbnB1dC5pbnB1dG1hc2suZXZlbnRzW2V2ZW50XSk6ZXZlbnRzPWlucHV0LmlucHV0bWFzay5ldmVudHMsJC5lYWNoKGV2ZW50cyxmdW5jdGlvbihldmVudE5hbWUsZXZBcnIpe2Zvcig7MDxldkFyci5sZW5ndGg7KXt2YXIgZXY9ZXZBcnIucG9wKCk7LTEhPT0kLmluQXJyYXkoZXZlbnROYW1lLFtcInN1Ym1pdFwiLFwicmVzZXRcIl0pP251bGwhPT1pbnB1dC5mb3JtJiYkKGlucHV0LmZvcm0pLm9mZihldmVudE5hbWUsZXYpOiQoaW5wdXQpLm9mZihldmVudE5hbWUsZXYpfWRlbGV0ZSBpbnB1dC5pbnB1dG1hc2suZXZlbnRzW2V2ZW50TmFtZV19KSl9fSxFdmVudEhhbmRsZXJzPXtrZXlkb3duRXZlbnQ6ZnVuY3Rpb24ga2V5ZG93bkV2ZW50KGUpe3ZhciBpbnB1dD10aGlzLCRpbnB1dD0kKHRoaXMpLGs9ZS5rZXlDb2RlLHBvcz1jYXJldCh0aGlzKSxrZFJlc3VsdD1vcHRzLm9uS2V5RG93bi5jYWxsKHRoaXMsZSxnZXRCdWZmZXIoKSxwb3Msb3B0cyk7aWYodm9pZCAwIT09a2RSZXN1bHQpcmV0dXJuIGtkUmVzdWx0O2lmKGs9PT1JbnB1dG1hc2sua2V5Q29kZS5CQUNLU1BBQ0V8fGs9PT1JbnB1dG1hc2sua2V5Q29kZS5ERUxFVEV8fGlwaG9uZSYmaz09PUlucHV0bWFzay5rZXlDb2RlLkJBQ0tTUEFDRV9TQUZBUkl8fGUuY3RybEtleSYmaz09PUlucHV0bWFzay5rZXlDb2RlLlgmJiFpc0lucHV0RXZlbnRTdXBwb3J0ZWQoXCJjdXRcIikpZS5wcmV2ZW50RGVmYXVsdCgpLGhhbmRsZVJlbW92ZSh0aGlzLGsscG9zKSx3cml0ZUJ1ZmZlcih0aGlzLGdldEJ1ZmZlcighMCksbWFza3NldC5wLGUsdGhpcy5pbnB1dG1hc2suX3ZhbHVlR2V0KCkhPT1nZXRCdWZmZXIoKS5qb2luKFwiXCIpKTtlbHNlIGlmKGs9PT1JbnB1dG1hc2sua2V5Q29kZS5FTkR8fGs9PT1JbnB1dG1hc2sua2V5Q29kZS5QQUdFX0RPV04pe2UucHJldmVudERlZmF1bHQoKTt2YXIgY2FyZXRQb3M9c2Vla05leHQoZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSk7Y2FyZXQodGhpcyxlLnNoaWZ0S2V5P3Bvcy5iZWdpbjpjYXJldFBvcyxjYXJldFBvcywhMCl9ZWxzZSBrPT09SW5wdXRtYXNrLmtleUNvZGUuSE9NRSYmIWUuc2hpZnRLZXl8fGs9PT1JbnB1dG1hc2sua2V5Q29kZS5QQUdFX1VQPyhlLnByZXZlbnREZWZhdWx0KCksY2FyZXQodGhpcywwLGUuc2hpZnRLZXk/cG9zLmJlZ2luOjAsITApKToob3B0cy51bmRvT25Fc2NhcGUmJms9PT1JbnB1dG1hc2sua2V5Q29kZS5FU0NBUEV8fDkwPT09ayYmZS5jdHJsS2V5KSYmITAhPT1lLmFsdEtleT8oY2hlY2tWYWwodGhpcywhMCwhMSx1bmRvVmFsdWUuc3BsaXQoXCJcIikpLCRpbnB1dC50cmlnZ2VyKFwiY2xpY2tcIikpOmshPT1JbnB1dG1hc2sua2V5Q29kZS5JTlNFUlR8fGUuc2hpZnRLZXl8fGUuY3RybEtleT8hMD09PW9wdHMudGFiVGhyb3VnaCYmaz09PUlucHV0bWFzay5rZXlDb2RlLlRBQiYmKCEwPT09ZS5zaGlmdEtleT8oITA9PT1nZXRUZXN0KHBvcy5iZWdpbikubWF0Y2guc3RhdGljJiYocG9zLmJlZ2luPXNlZWtOZXh0KHBvcy5iZWdpbikpLHBvcy5lbmQ9c2Vla1ByZXZpb3VzKHBvcy5iZWdpbiwhMCkscG9zLmJlZ2luPXNlZWtQcmV2aW91cyhwb3MuZW5kLCEwKSk6KHBvcy5iZWdpbj1zZWVrTmV4dChwb3MuYmVnaW4sITApLHBvcy5lbmQ9c2Vla05leHQocG9zLmJlZ2luLCEwKSxwb3MuZW5kPG1hc2tzZXQubWFza0xlbmd0aCYmcG9zLmVuZC0tKSxwb3MuYmVnaW48bWFza3NldC5tYXNrTGVuZ3RoJiYoZS5wcmV2ZW50RGVmYXVsdCgpLGNhcmV0KHRoaXMscG9zLmJlZ2luLHBvcy5lbmQpKSk6KG9wdHMuaW5zZXJ0TW9kZT0hb3B0cy5pbnNlcnRNb2RlLHRoaXMuc2V0QXR0cmlidXRlKFwiZGF0YS1pbS1pbnNlcnRcIixvcHRzLmluc2VydE1vZGUpKTtpZ25vcmFibGU9LTEhPT0kLmluQXJyYXkoayxvcHRzLmlnbm9yYWJsZXMpfSxrZXlwcmVzc0V2ZW50OmZ1bmN0aW9uIGtleXByZXNzRXZlbnQoZSxjaGVja3ZhbCx3cml0ZU91dCxzdHJpY3QsbmR4KXt2YXIgaW5wdXQ9dGhpcywkaW5wdXQ9JChpbnB1dCksaz1lLndoaWNofHxlLmNoYXJDb2RlfHxlLmtleUNvZGU7aWYoISghMD09PWNoZWNrdmFsfHxlLmN0cmxLZXkmJmUuYWx0S2V5KSYmKGUuY3RybEtleXx8ZS5tZXRhS2V5fHxpZ25vcmFibGUpKXJldHVybiBrPT09SW5wdXRtYXNrLmtleUNvZGUuRU5URVImJnVuZG9WYWx1ZSE9PWdldEJ1ZmZlcigpLmpvaW4oXCJcIikmJih1bmRvVmFsdWU9Z2V0QnVmZmVyKCkuam9pbihcIlwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JGlucHV0LnRyaWdnZXIoXCJjaGFuZ2VcIil9LDApKSwhMDtpZihrKXs0Nj09PWsmJiExPT09ZS5zaGlmdEtleSYmXCJcIiE9PW9wdHMucmFkaXhQb2ludCYmKGs9b3B0cy5yYWRpeFBvaW50LmNoYXJDb2RlQXQoMCkpO3ZhciBwb3M9Y2hlY2t2YWw/e2JlZ2luOm5keCxlbmQ6bmR4fTpjYXJldChpbnB1dCksZm9yd2FyZFBvc2l0aW9uLGM9U3RyaW5nLmZyb21DaGFyQ29kZShrKTttYXNrc2V0LndyaXRlT3V0QnVmZmVyPSEwO3ZhciB2YWxSZXN1bHQ9aXNWYWxpZChwb3MsYyxzdHJpY3QpO2lmKCExIT09dmFsUmVzdWx0JiYocmVzZXRNYXNrU2V0KCEwKSxmb3J3YXJkUG9zaXRpb249dm9pZCAwIT09dmFsUmVzdWx0LmNhcmV0P3ZhbFJlc3VsdC5jYXJldDpzZWVrTmV4dCh2YWxSZXN1bHQucG9zLmJlZ2luP3ZhbFJlc3VsdC5wb3MuYmVnaW46dmFsUmVzdWx0LnBvcyksbWFza3NldC5wPWZvcndhcmRQb3NpdGlvbiksZm9yd2FyZFBvc2l0aW9uPW9wdHMubnVtZXJpY0lucHV0JiZ2b2lkIDA9PT12YWxSZXN1bHQuY2FyZXQ/c2Vla1ByZXZpb3VzKGZvcndhcmRQb3NpdGlvbik6Zm9yd2FyZFBvc2l0aW9uLCExIT09d3JpdGVPdXQmJihzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7b3B0cy5vbktleVZhbGlkYXRpb24uY2FsbChpbnB1dCxrLHZhbFJlc3VsdCxvcHRzKX0sMCksbWFza3NldC53cml0ZU91dEJ1ZmZlciYmITEhPT12YWxSZXN1bHQpKXt2YXIgYnVmZmVyPWdldEJ1ZmZlcigpO3dyaXRlQnVmZmVyKGlucHV0LGJ1ZmZlcixmb3J3YXJkUG9zaXRpb24sZSwhMCE9PWNoZWNrdmFsKX1pZihlLnByZXZlbnREZWZhdWx0KCksY2hlY2t2YWwpcmV0dXJuITEhPT12YWxSZXN1bHQmJih2YWxSZXN1bHQuZm9yd2FyZFBvc2l0aW9uPWZvcndhcmRQb3NpdGlvbiksdmFsUmVzdWx0fX0scGFzdGVFdmVudDpmdW5jdGlvbiBwYXN0ZUV2ZW50KGUpe3ZhciBpbnB1dD10aGlzLGV2PWUub3JpZ2luYWxFdmVudHx8ZSxpbnB1dFZhbHVlPXRoaXMuaW5wdXRtYXNrLl92YWx1ZUdldCghMCksY2FyZXRQb3M9Y2FyZXQodGhpcyksdGVtcFZhbHVlO2lzUlRMJiYodGVtcFZhbHVlPWNhcmV0UG9zLmVuZCxjYXJldFBvcy5lbmQ9Y2FyZXRQb3MuYmVnaW4sY2FyZXRQb3MuYmVnaW49dGVtcFZhbHVlKTt2YXIgdmFsdWVCZWZvcmVDYXJldD1pbnB1dFZhbHVlLnN1YnN0cigwLGNhcmV0UG9zLmJlZ2luKSx2YWx1ZUFmdGVyQ2FyZXQ9aW5wdXRWYWx1ZS5zdWJzdHIoY2FyZXRQb3MuZW5kLGlucHV0VmFsdWUubGVuZ3RoKTtpZih2YWx1ZUJlZm9yZUNhcmV0PT09KGlzUlRMP2dldEJ1ZmZlclRlbXBsYXRlKCkucmV2ZXJzZSgpOmdldEJ1ZmZlclRlbXBsYXRlKCkpLnNsaWNlKDAsY2FyZXRQb3MuYmVnaW4pLmpvaW4oXCJcIikmJih2YWx1ZUJlZm9yZUNhcmV0PVwiXCIpLHZhbHVlQWZ0ZXJDYXJldD09PShpc1JUTD9nZXRCdWZmZXJUZW1wbGF0ZSgpLnJldmVyc2UoKTpnZXRCdWZmZXJUZW1wbGF0ZSgpKS5zbGljZShjYXJldFBvcy5lbmQpLmpvaW4oXCJcIikmJih2YWx1ZUFmdGVyQ2FyZXQ9XCJcIiksd2luZG93LmNsaXBib2FyZERhdGEmJndpbmRvdy5jbGlwYm9hcmREYXRhLmdldERhdGEpaW5wdXRWYWx1ZT12YWx1ZUJlZm9yZUNhcmV0K3dpbmRvdy5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJUZXh0XCIpK3ZhbHVlQWZ0ZXJDYXJldDtlbHNle2lmKCFldi5jbGlwYm9hcmREYXRhfHwhZXYuY2xpcGJvYXJkRGF0YS5nZXREYXRhKXJldHVybiEwO2lucHV0VmFsdWU9dmFsdWVCZWZvcmVDYXJldCtldi5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpK3ZhbHVlQWZ0ZXJDYXJldH12YXIgcGFzdGVWYWx1ZT1pbnB1dFZhbHVlO2lmKCQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlUGFzdGUpKXtpZihwYXN0ZVZhbHVlPW9wdHMub25CZWZvcmVQYXN0ZS5jYWxsKGlucHV0bWFzayxpbnB1dFZhbHVlLG9wdHMpLCExPT09cGFzdGVWYWx1ZSlyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO3Bhc3RlVmFsdWU9cGFzdGVWYWx1ZXx8aW5wdXRWYWx1ZX1yZXR1cm4gY2hlY2tWYWwodGhpcywhMSwhMSxwYXN0ZVZhbHVlLnRvU3RyaW5nKCkuc3BsaXQoXCJcIikpLHdyaXRlQnVmZmVyKHRoaXMsZ2V0QnVmZmVyKCksc2Vla05leHQoZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSksZSx1bmRvVmFsdWUhPT1nZXRCdWZmZXIoKS5qb2luKFwiXCIpKSxlLnByZXZlbnREZWZhdWx0KCl9LGlucHV0RmFsbEJhY2tFdmVudDpmdW5jdGlvbiBpbnB1dEZhbGxCYWNrRXZlbnQoZSl7ZnVuY3Rpb24gcmFkaXhQb2ludEhhbmRsZXIoaW5wdXQsaW5wdXRWYWx1ZSxjYXJldFBvcyl7cmV0dXJuXCIuXCI9PT1pbnB1dFZhbHVlLmNoYXJBdChjYXJldFBvcy5iZWdpbi0xKSYmXCJcIiE9PW9wdHMucmFkaXhQb2ludCYmKGlucHV0VmFsdWU9aW5wdXRWYWx1ZS5zcGxpdChcIlwiKSxpbnB1dFZhbHVlW2NhcmV0UG9zLmJlZ2luLTFdPW9wdHMucmFkaXhQb2ludC5jaGFyQXQoMCksaW5wdXRWYWx1ZT1pbnB1dFZhbHVlLmpvaW4oXCJcIikpLGlucHV0VmFsdWV9ZnVuY3Rpb24gaWVNb2JpbGVIYW5kbGVyKGlucHV0LGlucHV0VmFsdWUsY2FyZXRQb3Mpe2lmKGllbW9iaWxlKXt2YXIgaW5wdXRDaGFyPWlucHV0VmFsdWUucmVwbGFjZShnZXRCdWZmZXIoKS5qb2luKFwiXCIpLFwiXCIpO2lmKDE9PT1pbnB1dENoYXIubGVuZ3RoKXt2YXIgaXY9aW5wdXRWYWx1ZS5zcGxpdChcIlwiKTtpdi5zcGxpY2UoY2FyZXRQb3MuYmVnaW4sMCxpbnB1dENoYXIpLGlucHV0VmFsdWU9aXYuam9pbihcIlwiKX19cmV0dXJuIGlucHV0VmFsdWV9dmFyIGlucHV0PXRoaXMsaW5wdXRWYWx1ZT1pbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCk7aWYoZ2V0QnVmZmVyKCkuam9pbihcIlwiKSE9PWlucHV0VmFsdWUpe3ZhciBjYXJldFBvcz1jYXJldChpbnB1dCk7aWYoaW5wdXRWYWx1ZT1yYWRpeFBvaW50SGFuZGxlcihpbnB1dCxpbnB1dFZhbHVlLGNhcmV0UG9zKSxpbnB1dFZhbHVlPWllTW9iaWxlSGFuZGxlcihpbnB1dCxpbnB1dFZhbHVlLGNhcmV0UG9zKSxnZXRCdWZmZXIoKS5qb2luKFwiXCIpIT09aW5wdXRWYWx1ZSl7dmFyIGJ1ZmZlcj1nZXRCdWZmZXIoKS5qb2luKFwiXCIpLG9mZnNldD0hb3B0cy5udW1lcmljSW5wdXQmJmlucHV0VmFsdWUubGVuZ3RoPmJ1ZmZlci5sZW5ndGg/LTE6MCxmcm9udFBhcnQ9aW5wdXRWYWx1ZS5zdWJzdHIoMCxjYXJldFBvcy5iZWdpbiksYmFja1BhcnQ9aW5wdXRWYWx1ZS5zdWJzdHIoY2FyZXRQb3MuYmVnaW4pLGZyb250QnVmZmVyUGFydD1idWZmZXIuc3Vic3RyKDAsY2FyZXRQb3MuYmVnaW4rb2Zmc2V0KSxiYWNrQnVmZmVyUGFydD1idWZmZXIuc3Vic3RyKGNhcmV0UG9zLmJlZ2luK29mZnNldCksc2VsZWN0aW9uPWNhcmV0UG9zLGVudHJpZXM9XCJcIixpc0VudHJ5PSExO2lmKGZyb250UGFydCE9PWZyb250QnVmZmVyUGFydCl7dmFyIGZwbD0oaXNFbnRyeT1mcm9udFBhcnQubGVuZ3RoPj1mcm9udEJ1ZmZlclBhcnQubGVuZ3RoKT9mcm9udFBhcnQubGVuZ3RoOmZyb250QnVmZmVyUGFydC5sZW5ndGgsaTtmb3IoaT0wO2Zyb250UGFydC5jaGFyQXQoaSk9PT1mcm9udEJ1ZmZlclBhcnQuY2hhckF0KGkpJiZpPGZwbDtpKyspO2lzRW50cnkmJihzZWxlY3Rpb24uYmVnaW49aS1vZmZzZXQsZW50cmllcys9ZnJvbnRQYXJ0LnNsaWNlKGksc2VsZWN0aW9uLmVuZCkpfWlmKGJhY2tQYXJ0IT09YmFja0J1ZmZlclBhcnQmJihiYWNrUGFydC5sZW5ndGg+YmFja0J1ZmZlclBhcnQubGVuZ3RoP2VudHJpZXMrPWJhY2tQYXJ0LnNsaWNlKDAsMSk6YmFja1BhcnQubGVuZ3RoPGJhY2tCdWZmZXJQYXJ0Lmxlbmd0aCYmKHNlbGVjdGlvbi5lbmQrPWJhY2tCdWZmZXJQYXJ0Lmxlbmd0aC1iYWNrUGFydC5sZW5ndGgsaXNFbnRyeXx8XCJcIj09PW9wdHMucmFkaXhQb2ludHx8XCJcIiE9PWJhY2tQYXJ0fHxmcm9udFBhcnQuY2hhckF0KHNlbGVjdGlvbi5iZWdpbitvZmZzZXQtMSkhPT1vcHRzLnJhZGl4UG9pbnR8fChzZWxlY3Rpb24uYmVnaW4tLSxlbnRyaWVzPW9wdHMucmFkaXhQb2ludCkpKSx3cml0ZUJ1ZmZlcihpbnB1dCxnZXRCdWZmZXIoKSx7YmVnaW46c2VsZWN0aW9uLmJlZ2luK29mZnNldCxlbmQ6c2VsZWN0aW9uLmVuZCtvZmZzZXR9KSwwPGVudHJpZXMubGVuZ3RoKWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQhPT1pbnB1dCYmKGlucHV0LmZvY3VzKCksY2FyZXQoaW5wdXQsc2VsZWN0aW9uKSksJC5lYWNoKGVudHJpZXMuc3BsaXQoXCJcIiksZnVuY3Rpb24obmR4LGVudHJ5KXt2YXIga2V5cHJlc3M9bmV3ICQuRXZlbnQoXCJrZXlwcmVzc1wiKTtrZXlwcmVzcy53aGljaD1lbnRyeS5jaGFyQ29kZUF0KDApLGlnbm9yYWJsZT0hMSxFdmVudEhhbmRsZXJzLmtleXByZXNzRXZlbnQuY2FsbChpbnB1dCxrZXlwcmVzcyl9KTtlbHNle3NlbGVjdGlvbi5iZWdpbj09PXNlbGVjdGlvbi5lbmQtMSYmKHNlbGVjdGlvbi5iZWdpbj1zZWVrUHJldmlvdXMoc2VsZWN0aW9uLmJlZ2luKzEpLHNlbGVjdGlvbi5iZWdpbj09PXNlbGVjdGlvbi5lbmQtMT9jYXJldChpbnB1dCxzZWxlY3Rpb24uYmVnaW4pOmNhcmV0KGlucHV0LHNlbGVjdGlvbi5iZWdpbixzZWxlY3Rpb24uZW5kKSk7dmFyIGtleWRvd249bmV3ICQuRXZlbnQoXCJrZXlkb3duXCIpO2tleWRvd24ua2V5Q29kZT1vcHRzLm51bWVyaWNJbnB1dD9JbnB1dG1hc2sua2V5Q29kZS5CQUNLU1BBQ0U6SW5wdXRtYXNrLmtleUNvZGUuREVMRVRFLEV2ZW50SGFuZGxlcnMua2V5ZG93bkV2ZW50LmNhbGwoaW5wdXQsa2V5ZG93bil9ZS5wcmV2ZW50RGVmYXVsdCgpfX19LGJlZm9yZUlucHV0RXZlbnQ6ZnVuY3Rpb24gYmVmb3JlSW5wdXRFdmVudChlKXtpZihlLmNhbmNlbGFibGUpe3ZhciBpbnB1dD10aGlzLGtleWRvd24sa2V5cHJlc3M7c3dpdGNoKGUuaW5wdXRUeXBlKXtjYXNlXCJpbnNlcnRUZXh0XCI6cmV0dXJuICQuZWFjaChlLmRhdGEuc3BsaXQoXCJcIiksZnVuY3Rpb24obmR4LGVudHJ5KXtrZXlwcmVzcz1uZXcgJC5FdmVudChcImtleXByZXNzXCIpLGtleXByZXNzLndoaWNoPWVudHJ5LmNoYXJDb2RlQXQoMCksaWdub3JhYmxlPSExLEV2ZW50SGFuZGxlcnMua2V5cHJlc3NFdmVudC5jYWxsKGlucHV0LGtleXByZXNzKX0pLGUucHJldmVudERlZmF1bHQoKTtjYXNlXCJkZWxldGVDb250ZW50QmFja3dhcmRcIjpyZXR1cm4ga2V5ZG93bj1uZXcgJC5FdmVudChcImtleWRvd25cIiksa2V5ZG93bi5rZXlDb2RlPUlucHV0bWFzay5rZXlDb2RlLkJBQ0tTUEFDRSxFdmVudEhhbmRsZXJzLmtleWRvd25FdmVudC5jYWxsKGlucHV0LGtleWRvd24pLGUucHJldmVudERlZmF1bHQoKTtjYXNlXCJkZWxldGVDb250ZW50Rm9yd2FyZFwiOnJldHVybiBrZXlkb3duPW5ldyAkLkV2ZW50KFwia2V5ZG93blwiKSxrZXlkb3duLmtleUNvZGU9SW5wdXRtYXNrLmtleUNvZGUuREVMRVRFLEV2ZW50SGFuZGxlcnMua2V5ZG93bkV2ZW50LmNhbGwoaW5wdXQsa2V5ZG93biksZS5wcmV2ZW50RGVmYXVsdCgpfX19LHNldFZhbHVlRXZlbnQ6ZnVuY3Rpb24gc2V0VmFsdWVFdmVudChlLGFyZ3VtZW50XzEsYXJndW1lbnRfMil7dmFyIGlucHV0PXRoaXMsdmFsdWU9ZSYmZS5kZXRhaWw/ZS5kZXRhaWxbMF06YXJndW1lbnRfMTt2YWx1ZT12YWx1ZXx8dGhpcy5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKSxhcHBseUlucHV0VmFsdWUodGhpcyx2YWx1ZSksKGUuZGV0YWlsJiZ2b2lkIDAhPT1lLmRldGFpbFsxXXx8dm9pZCAwIT09YXJndW1lbnRfMikmJmNhcmV0KHRoaXMsZS5kZXRhaWw/ZS5kZXRhaWxbMV06YXJndW1lbnRfMil9LGZvY3VzRXZlbnQ6ZnVuY3Rpb24gZm9jdXNFdmVudChlKXt2YXIgaW5wdXQ9dGhpcyxucHRWYWx1ZT10aGlzLmlucHV0bWFzay5fdmFsdWVHZXQoKTtvcHRzLnNob3dNYXNrT25Gb2N1cyYmbnB0VmFsdWUhPT1nZXRCdWZmZXIoKS5qb2luKFwiXCIpJiZ3cml0ZUJ1ZmZlcih0aGlzLGdldEJ1ZmZlcigpLHNlZWtOZXh0KGdldExhc3RWYWxpZFBvc2l0aW9uKCkpKSwhMCE9PW9wdHMucG9zaXRpb25DYXJldE9uVGFifHwhMSE9PW1vdXNlRW50ZXJ8fGlzQ29tcGxldGUoZ2V0QnVmZmVyKCkpJiYtMSE9PWdldExhc3RWYWxpZFBvc2l0aW9uKCl8fEV2ZW50SGFuZGxlcnMuY2xpY2tFdmVudC5hcHBseSh0aGlzLFtlLCEwXSksdW5kb1ZhbHVlPWdldEJ1ZmZlcigpLmpvaW4oXCJcIil9LG1vdXNlbGVhdmVFdmVudDpmdW5jdGlvbiBtb3VzZWxlYXZlRXZlbnQoKXt2YXIgaW5wdXQ9dGhpczttb3VzZUVudGVyPSExLG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXMmJmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQhPT10aGlzJiZIYW5kbGVOYXRpdmVQbGFjZWhvbGRlcih0aGlzLG9yaWdpbmFsUGxhY2Vob2xkZXIpfSxjbGlja0V2ZW50OmZ1bmN0aW9uIGNsaWNrRXZlbnQoZSx0YWJiZWQpe3ZhciBpbnB1dD10aGlzO2lmKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ9PT10aGlzKXt2YXIgbmV3Q2FyZXRQb3NpdGlvbj1kZXRlcm1pbmVOZXdDYXJldFBvc2l0aW9uKGNhcmV0KHRoaXMpLHRhYmJlZCk7dm9pZCAwIT09bmV3Q2FyZXRQb3NpdGlvbiYmY2FyZXQodGhpcyxuZXdDYXJldFBvc2l0aW9uKX19LGN1dEV2ZW50OmZ1bmN0aW9uIGN1dEV2ZW50KGUpe3ZhciBpbnB1dD10aGlzLHBvcz1jYXJldCh0aGlzKSxldj1lLm9yaWdpbmFsRXZlbnR8fGUsY2xpcGJvYXJkRGF0YT13aW5kb3cuY2xpcGJvYXJkRGF0YXx8ZXYuY2xpcGJvYXJkRGF0YSxjbGlwRGF0YT1pc1JUTD9nZXRCdWZmZXIoKS5zbGljZShwb3MuZW5kLHBvcy5iZWdpbik6Z2V0QnVmZmVyKCkuc2xpY2UocG9zLmJlZ2luLHBvcy5lbmQpO2NsaXBib2FyZERhdGEuc2V0RGF0YShcInRleHRcIixpc1JUTD9jbGlwRGF0YS5yZXZlcnNlKCkuam9pbihcIlwiKTpjbGlwRGF0YS5qb2luKFwiXCIpKSxkb2N1bWVudC5leGVjQ29tbWFuZCYmZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJjb3B5XCIpLGhhbmRsZVJlbW92ZSh0aGlzLElucHV0bWFzay5rZXlDb2RlLkRFTEVURSxwb3MpLHdyaXRlQnVmZmVyKHRoaXMsZ2V0QnVmZmVyKCksbWFza3NldC5wLGUsdW5kb1ZhbHVlIT09Z2V0QnVmZmVyKCkuam9pbihcIlwiKSl9LGJsdXJFdmVudDpmdW5jdGlvbiBibHVyRXZlbnQoZSl7dmFyICRpbnB1dD0kKHRoaXMpLGlucHV0PXRoaXM7aWYodGhpcy5pbnB1dG1hc2spe0hhbmRsZU5hdGl2ZVBsYWNlaG9sZGVyKHRoaXMsb3JpZ2luYWxQbGFjZWhvbGRlcik7dmFyIG5wdFZhbHVlPXRoaXMuaW5wdXRtYXNrLl92YWx1ZUdldCgpLGJ1ZmZlcj1nZXRCdWZmZXIoKS5zbGljZSgpO1wiXCI9PT1ucHRWYWx1ZSYmdm9pZCAwPT09Y29sb3JNYXNrfHwob3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cyYmKC0xPT09Z2V0TGFzdFZhbGlkUG9zaXRpb24oKSYmbnB0VmFsdWU9PT1nZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIik/YnVmZmVyPVtdOmNsZWFyT3B0aW9uYWxUYWlsKGJ1ZmZlcikpLCExPT09aXNDb21wbGV0ZShidWZmZXIpJiYoc2V0VGltZW91dChmdW5jdGlvbigpeyRpbnB1dC50cmlnZ2VyKFwiaW5jb21wbGV0ZVwiKX0sMCksb3B0cy5jbGVhckluY29tcGxldGUmJihyZXNldE1hc2tTZXQoKSxidWZmZXI9b3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cz9bXTpnZXRCdWZmZXJUZW1wbGF0ZSgpLnNsaWNlKCkpKSx3cml0ZUJ1ZmZlcih0aGlzLGJ1ZmZlcix2b2lkIDAsZSkpLHVuZG9WYWx1ZSE9PWdldEJ1ZmZlcigpLmpvaW4oXCJcIikmJih1bmRvVmFsdWU9Z2V0QnVmZmVyKCkuam9pbihcIlwiKSwkaW5wdXQudHJpZ2dlcihcImNoYW5nZVwiKSl9fSxtb3VzZWVudGVyRXZlbnQ6ZnVuY3Rpb24gbW91c2VlbnRlckV2ZW50KCl7dmFyIGlucHV0PXRoaXM7bW91c2VFbnRlcj0hMCxkb2N1bWVudC5hY3RpdmVFbGVtZW50IT09dGhpcyYmKG51bGw9PW9yaWdpbmFsUGxhY2Vob2xkZXImJnRoaXMucGxhY2Vob2xkZXIhPT1vcmlnaW5hbFBsYWNlaG9sZGVyJiYob3JpZ2luYWxQbGFjZWhvbGRlcj10aGlzLnBsYWNlaG9sZGVyKSxvcHRzLnNob3dNYXNrT25Ib3ZlciYmSGFuZGxlTmF0aXZlUGxhY2Vob2xkZXIodGhpcywoaXNSVEw/Z2V0QnVmZmVyKCkuc2xpY2UoKS5yZXZlcnNlKCk6Z2V0QnVmZmVyKCkpLmpvaW4oXCJcIikpKX0sc3VibWl0RXZlbnQ6ZnVuY3Rpb24gc3VibWl0RXZlbnQoKXt1bmRvVmFsdWUhPT1nZXRCdWZmZXIoKS5qb2luKFwiXCIpJiYkZWwudHJpZ2dlcihcImNoYW5nZVwiKSxvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzJiYtMT09PWdldExhc3RWYWxpZFBvc2l0aW9uKCkmJmVsLmlucHV0bWFzay5fdmFsdWVHZXQmJmVsLmlucHV0bWFzay5fdmFsdWVHZXQoKT09PWdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKSYmZWwuaW5wdXRtYXNrLl92YWx1ZVNldChcIlwiKSxvcHRzLmNsZWFySW5jb21wbGV0ZSYmITE9PT1pc0NvbXBsZXRlKGdldEJ1ZmZlcigpKSYmZWwuaW5wdXRtYXNrLl92YWx1ZVNldChcIlwiKSxvcHRzLnJlbW92ZU1hc2tPblN1Ym1pdCYmKGVsLmlucHV0bWFzay5fdmFsdWVTZXQoZWwuaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKSwhMCksc2V0VGltZW91dChmdW5jdGlvbigpe3dyaXRlQnVmZmVyKGVsLGdldEJ1ZmZlcigpKX0sMCkpfSxyZXNldEV2ZW50OmZ1bmN0aW9uIHJlc2V0RXZlbnQoKXtlbC5pbnB1dG1hc2sucmVmcmVzaFZhbHVlPSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthcHBseUlucHV0VmFsdWUoZWwsZWwuaW5wdXRtYXNrLl92YWx1ZUdldCghMCkpfSwwKX19LHZhbHVlQnVmZmVyO2Z1bmN0aW9uIGNoZWNrVmFsKGlucHV0LHdyaXRlT3V0LHN0cmljdCxucHR2bCxpbml0aWF0aW5nRXZlbnQpe3ZhciBpbnB1dG1hc2s9dGhpc3x8aW5wdXQuaW5wdXRtYXNrLGlucHV0VmFsdWU9bnB0dmwuc2xpY2UoKSxjaGFyQ29kZXM9XCJcIixpbml0aWFsTmR4PS0xLHJlc3VsdD12b2lkIDA7ZnVuY3Rpb24gaXNUZW1wbGF0ZU1hdGNoKG5keCxjaGFyQ29kZXMpe2lmKG9wdHMucmVnZXgpcmV0dXJuITE7Zm9yKHZhciB0YXJnZXRUZW1wbGF0ZT1nZXRNYXNrVGVtcGxhdGUoITAsMCwhMSkuc2xpY2UobmR4LHNlZWtOZXh0KG5keCkpLmpvaW4oXCJcIikucmVwbGFjZSgvJy9nLFwiXCIpLGNoYXJDb2RlTmR4PXRhcmdldFRlbXBsYXRlLmluZGV4T2YoY2hhckNvZGVzKTswPGNoYXJDb2RlTmR4JiZcIiBcIj09PXRhcmdldFRlbXBsYXRlW2NoYXJDb2RlTmR4LTFdOyljaGFyQ29kZU5keC0tO3ZhciBtYXRjaD0wPT09Y2hhckNvZGVOZHgmJiFpc01hc2sobmR4KSYmKGdldFRlc3QobmR4KS5tYXRjaC5uYXRpdmVEZWY9PT1jaGFyQ29kZXMuY2hhckF0KDApfHwhMD09PWdldFRlc3QobmR4KS5tYXRjaC5zdGF0aWMmJmdldFRlc3QobmR4KS5tYXRjaC5uYXRpdmVEZWY9PT1cIidcIitjaGFyQ29kZXMuY2hhckF0KDApfHxcIiBcIj09PWdldFRlc3QobmR4KS5tYXRjaC5uYXRpdmVEZWYmJihnZXRUZXN0KG5keCsxKS5tYXRjaC5uYXRpdmVEZWY9PT1jaGFyQ29kZXMuY2hhckF0KDApfHwhMD09PWdldFRlc3QobmR4KzEpLm1hdGNoLnN0YXRpYyYmZ2V0VGVzdChuZHgrMSkubWF0Y2gubmF0aXZlRGVmPT09XCInXCIrY2hhckNvZGVzLmNoYXJBdCgwKSkpO3JldHVybiFtYXRjaCYmMDxjaGFyQ29kZU5keCYmKGlucHV0bWFzay5jYXJldFBvcz17YmVnaW46c2Vla05leHQoY2hhckNvZGVOZHgpfSksbWF0Y2h9cmVzZXRNYXNrU2V0KCksaW5pdGlhbE5keD1vcHRzLnJhZGl4UG9pbnQ/ZGV0ZXJtaW5lTmV3Q2FyZXRQb3NpdGlvbigwKTowLG1hc2tzZXQucD1pbml0aWFsTmR4LGlucHV0bWFzay5jYXJldFBvcz17YmVnaW46aW5pdGlhbE5keH07dmFyIHN0YXRpY01hdGNoZXM9W10scHJldkNhcmV0UG9zPWlucHV0bWFzay5jYXJldFBvcyxzbmR4LHZhbGlkUG9zLG5leHRWYWxpZDtpZigkLmVhY2goaW5wdXRWYWx1ZSxmdW5jdGlvbihuZHgsY2hhckNvZGUpe2lmKHZvaWQgMCE9PWNoYXJDb2RlKWlmKHZvaWQgMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbbmR4XSYmaW5wdXRWYWx1ZVtuZHhdPT09Z2V0UGxhY2Vob2xkZXIobmR4KSYmaXNNYXNrKG5keCwhMCkmJiExPT09aXNWYWxpZChuZHgsaW5wdXRWYWx1ZVtuZHhdLCEwLHZvaWQgMCx2b2lkIDAsITApKW1hc2tzZXQucCsrO2Vsc2V7dmFyIGtleXByZXNzPW5ldyAkLkV2ZW50KFwiX2NoZWNrdmFsXCIpO2tleXByZXNzLndoaWNoPWNoYXJDb2RlLmNoYXJDb2RlQXQoMCksY2hhckNvZGVzKz1jaGFyQ29kZTt2YXIgbHZwPWdldExhc3RWYWxpZFBvc2l0aW9uKHZvaWQgMCwhMCk7aXNUZW1wbGF0ZU1hdGNoKGluaXRpYWxOZHgsY2hhckNvZGVzKT9yZXN1bHQ9RXZlbnRIYW5kbGVycy5rZXlwcmVzc0V2ZW50LmNhbGwoaW5wdXQsa2V5cHJlc3MsITAsITEsc3RyaWN0LGx2cCsxKToocmVzdWx0PUV2ZW50SGFuZGxlcnMua2V5cHJlc3NFdmVudC5jYWxsKGlucHV0LGtleXByZXNzLCEwLCExLHN0cmljdCxpbnB1dG1hc2suY2FyZXRQb3MuYmVnaW4pLHJlc3VsdCYmKGluaXRpYWxOZHg9aW5wdXRtYXNrLmNhcmV0UG9zLmJlZ2luKzEsY2hhckNvZGVzPVwiXCIpKSxyZXN1bHQ/KHZvaWQgMCE9PXJlc3VsdC5wb3MmJm1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcmVzdWx0LnBvc10mJiEwPT09bWFza3NldC52YWxpZFBvc2l0aW9uc1tyZXN1bHQucG9zXS5tYXRjaC5zdGF0aWMmJihzdGF0aWNNYXRjaGVzLnB1c2gocmVzdWx0LnBvcyksaXNSVEx8fChyZXN1bHQuZm9yd2FyZFBvc2l0aW9uPXJlc3VsdC5wb3MrMSkpLHdyaXRlQnVmZmVyKHZvaWQgMCxnZXRCdWZmZXIoKSxyZXN1bHQuZm9yd2FyZFBvc2l0aW9uLGtleXByZXNzLCExKSxpbnB1dG1hc2suY2FyZXRQb3M9e2JlZ2luOnJlc3VsdC5mb3J3YXJkUG9zaXRpb24sZW5kOnJlc3VsdC5mb3J3YXJkUG9zaXRpb259LHByZXZDYXJldFBvcz1pbnB1dG1hc2suY2FyZXRQb3MpOmlucHV0bWFzay5jYXJldFBvcz1wcmV2Q2FyZXRQb3N9fSksMDxzdGF0aWNNYXRjaGVzLmxlbmd0aClpZighaXNDb21wbGV0ZShnZXRCdWZmZXIoKSl8fHN0YXRpY01hdGNoZXMubGVuZ3RoPHNlZWtOZXh0KDApKWZvcig7dm9pZCAwIT09KHNuZHg9c3RhdGljTWF0Y2hlcy5wb3AoKSk7KXt2YXIga2V5cHJlc3M9bmV3ICQuRXZlbnQoXCJfY2hlY2t2YWxcIiksbmV4dFNuZHg9c25keCsxO2Zvcih2YWxpZFBvcz1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3NuZHhdLHZhbGlkUG9zLmdlbmVyYXRlZElucHV0PSEwLGtleXByZXNzLndoaWNoPXZhbGlkUG9zLmlucHV0LmNoYXJDb2RlQXQoMCk7KG5leHRWYWxpZD1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW25leHRTbmR4XSkmJm5leHRWYWxpZC5pbnB1dD09PXZhbGlkUG9zLmlucHV0OyluZXh0U25keCsrO3Jlc3VsdD1FdmVudEhhbmRsZXJzLmtleXByZXNzRXZlbnQuY2FsbChpbnB1dCxrZXlwcmVzcywhMCwhMSxzdHJpY3QsbmV4dFNuZHgpLHJlc3VsdCYmdm9pZCAwIT09cmVzdWx0LnBvcyYmcmVzdWx0LnBvcyE9PXNuZHgmJm1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcmVzdWx0LnBvc10mJiEwPT09bWFza3NldC52YWxpZFBvc2l0aW9uc1tyZXN1bHQucG9zXS5tYXRjaC5zdGF0aWMmJnN0YXRpY01hdGNoZXMucHVzaChyZXN1bHQucG9zKX1lbHNlIGZvcig7c25keD1zdGF0aWNNYXRjaGVzLnBvcCgpOyl2YWxpZFBvcz1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3NuZHhdLHZhbGlkUG9zJiYodmFsaWRQb3MuZ2VuZXJhdGVkSW5wdXQ9ITApO3dyaXRlT3V0JiZ3cml0ZUJ1ZmZlcihpbnB1dCxnZXRCdWZmZXIoKSxyZXN1bHQ/cmVzdWx0LmZvcndhcmRQb3NpdGlvbjp2b2lkIDAsaW5pdGlhdGluZ0V2ZW50fHxuZXcgJC5FdmVudChcImNoZWNrdmFsXCIpLGluaXRpYXRpbmdFdmVudCYmXCJpbnB1dFwiPT09aW5pdGlhdGluZ0V2ZW50LnR5cGUpfWZ1bmN0aW9uIHVubWFza2VkdmFsdWUoaW5wdXQpe2lmKGlucHV0KXtpZih2b2lkIDA9PT1pbnB1dC5pbnB1dG1hc2spcmV0dXJuIGlucHV0LnZhbHVlO2lucHV0LmlucHV0bWFzayYmaW5wdXQuaW5wdXRtYXNrLnJlZnJlc2hWYWx1ZSYmYXBwbHlJbnB1dFZhbHVlKGlucHV0LGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoITApKX12YXIgdW1WYWx1ZT1bXSx2cHM9bWFza3NldC52YWxpZFBvc2l0aW9ucztmb3IodmFyIHBuZHggaW4gdnBzKXZwc1twbmR4XSYmdnBzW3BuZHhdLm1hdGNoJiYxIT12cHNbcG5keF0ubWF0Y2guc3RhdGljJiZ1bVZhbHVlLnB1c2godnBzW3BuZHhdLmlucHV0KTt2YXIgdW5tYXNrZWRWYWx1ZT0wPT09dW1WYWx1ZS5sZW5ndGg/XCJcIjooaXNSVEw/dW1WYWx1ZS5yZXZlcnNlKCk6dW1WYWx1ZSkuam9pbihcIlwiKTtpZigkLmlzRnVuY3Rpb24ob3B0cy5vblVuTWFzaykpe3ZhciBidWZmZXJWYWx1ZT0oaXNSVEw/Z2V0QnVmZmVyKCkuc2xpY2UoKS5yZXZlcnNlKCk6Z2V0QnVmZmVyKCkpLmpvaW4oXCJcIik7dW5tYXNrZWRWYWx1ZT1vcHRzLm9uVW5NYXNrLmNhbGwoaW5wdXRtYXNrLGJ1ZmZlclZhbHVlLHVubWFza2VkVmFsdWUsb3B0cyl9cmV0dXJuIHVubWFza2VkVmFsdWV9ZnVuY3Rpb24gY2FyZXQoaW5wdXQsYmVnaW4sZW5kLG5vdHJhbnNsYXRlKXtmdW5jdGlvbiB0cmFuc2xhdGVQb3NpdGlvbihwb3Mpe3JldHVybiFpc1JUTHx8XCJudW1iZXJcIiE9dHlwZW9mIHBvc3x8b3B0cy5ncmVlZHkmJlwiXCI9PT1vcHRzLnBsYWNlaG9sZGVyfHwhZWx8fChwb3M9ZWwuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aC1wb3MpLHBvc312YXIgcmFuZ2U7aWYodm9pZCAwPT09YmVnaW4pcmV0dXJuXCJzZWxlY3Rpb25TdGFydFwiaW4gaW5wdXQmJlwic2VsZWN0aW9uRW5kXCJpbiBpbnB1dD8oYmVnaW49aW5wdXQuc2VsZWN0aW9uU3RhcnQsZW5kPWlucHV0LnNlbGVjdGlvbkVuZCk6d2luZG93LmdldFNlbGVjdGlvbj8ocmFuZ2U9d2luZG93LmdldFNlbGVjdGlvbigpLmdldFJhbmdlQXQoMCkscmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXIucGFyZW50Tm9kZSE9PWlucHV0JiZyYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lciE9PWlucHV0fHwoYmVnaW49cmFuZ2Uuc3RhcnRPZmZzZXQsZW5kPXJhbmdlLmVuZE9mZnNldCkpOmRvY3VtZW50LnNlbGVjdGlvbiYmZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlJiYocmFuZ2U9ZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCksYmVnaW49MC1yYW5nZS5kdXBsaWNhdGUoKS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwtaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aCksZW5kPWJlZ2luK3JhbmdlLnRleHQubGVuZ3RoKSx7YmVnaW46bm90cmFuc2xhdGU/YmVnaW46dHJhbnNsYXRlUG9zaXRpb24oYmVnaW4pLGVuZDpub3RyYW5zbGF0ZT9lbmQ6dHJhbnNsYXRlUG9zaXRpb24oZW5kKX07aWYoJC5pc0FycmF5KGJlZ2luKSYmKGVuZD1pc1JUTD9iZWdpblswXTpiZWdpblsxXSxiZWdpbj1pc1JUTD9iZWdpblsxXTpiZWdpblswXSksdm9pZCAwIT09YmVnaW4uYmVnaW4mJihlbmQ9aXNSVEw/YmVnaW4uYmVnaW46YmVnaW4uZW5kLGJlZ2luPWlzUlRMP2JlZ2luLmVuZDpiZWdpbi5iZWdpbiksXCJudW1iZXJcIj09dHlwZW9mIGJlZ2luKXtiZWdpbj1ub3RyYW5zbGF0ZT9iZWdpbjp0cmFuc2xhdGVQb3NpdGlvbihiZWdpbiksZW5kPW5vdHJhbnNsYXRlP2VuZDp0cmFuc2xhdGVQb3NpdGlvbihlbmQpLGVuZD1cIm51bWJlclwiPT10eXBlb2YgZW5kP2VuZDpiZWdpbjt2YXIgc2Nyb2xsQ2FsYz1wYXJzZUludCgoKGlucHV0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXd8fHdpbmRvdykuZ2V0Q29tcHV0ZWRTdHlsZT8oaW5wdXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld3x8d2luZG93KS5nZXRDb21wdXRlZFN0eWxlKGlucHV0LG51bGwpOmlucHV0LmN1cnJlbnRTdHlsZSkuZm9udFNpemUpKmVuZDtpZihpbnB1dC5zY3JvbGxMZWZ0PXNjcm9sbENhbGM+aW5wdXQuc2Nyb2xsV2lkdGg/c2Nyb2xsQ2FsYzowLGlucHV0LmlucHV0bWFzay5jYXJldFBvcz17YmVnaW46YmVnaW4sZW5kOmVuZH0saW5wdXQ9PT1kb2N1bWVudC5hY3RpdmVFbGVtZW50KXtpZihcInNldFNlbGVjdGlvblJhbmdlXCJpbiBpbnB1dClpbnB1dC5zZXRTZWxlY3Rpb25SYW5nZShiZWdpbixlbmQpO2Vsc2UgaWYod2luZG93LmdldFNlbGVjdGlvbil7aWYocmFuZ2U9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSx2b2lkIDA9PT1pbnB1dC5maXJzdENoaWxkfHxudWxsPT09aW5wdXQuZmlyc3RDaGlsZCl7dmFyIHRleHROb2RlPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO2lucHV0LmFwcGVuZENoaWxkKHRleHROb2RlKX1yYW5nZS5zZXRTdGFydChpbnB1dC5maXJzdENoaWxkLGJlZ2luPGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGg/YmVnaW46aW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aCkscmFuZ2Uuc2V0RW5kKGlucHV0LmZpcnN0Q2hpbGQsZW5kPGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGg/ZW5kOmlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGgpLHJhbmdlLmNvbGxhcHNlKCEwKTt2YXIgc2VsPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTtzZWwucmVtb3ZlQWxsUmFuZ2VzKCksc2VsLmFkZFJhbmdlKHJhbmdlKX1lbHNlIGlucHV0LmNyZWF0ZVRleHRSYW5nZSYmKHJhbmdlPWlucHV0LmNyZWF0ZVRleHRSYW5nZSgpLHJhbmdlLmNvbGxhcHNlKCEwKSxyYW5nZS5tb3ZlRW5kKFwiY2hhcmFjdGVyXCIsZW5kKSxyYW5nZS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIixiZWdpbikscmFuZ2Uuc2VsZWN0KCkpO3JlbmRlckNvbG9yTWFzayhpbnB1dCx7YmVnaW46YmVnaW4sZW5kOmVuZH0pfX19ZnVuY3Rpb24gZGV0ZXJtaW5lTGFzdFJlcXVpcmVkUG9zaXRpb24ocmV0dXJuRGVmaW5pdGlvbil7dmFyIGJ1ZmZlcj1nZXRNYXNrVGVtcGxhdGUoITAsZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSwhMCwhMCksYmw9YnVmZmVyLmxlbmd0aCxwb3MsbHZwPWdldExhc3RWYWxpZFBvc2l0aW9uKCkscG9zaXRpb25zPXt9LGx2VGVzdD1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW2x2cF0sbmR4SW50bHpyPXZvaWQgMCE9PWx2VGVzdD9sdlRlc3QubG9jYXRvci5zbGljZSgpOnZvaWQgMCx0ZXN0UG9zO2Zvcihwb3M9bHZwKzE7cG9zPGJ1ZmZlci5sZW5ndGg7cG9zKyspdGVzdFBvcz1nZXRUZXN0VGVtcGxhdGUocG9zLG5keEludGx6cixwb3MtMSksbmR4SW50bHpyPXRlc3RQb3MubG9jYXRvci5zbGljZSgpLHBvc2l0aW9uc1twb3NdPSQuZXh0ZW5kKCEwLHt9LHRlc3RQb3MpO3ZhciBsdlRlc3RBbHQ9bHZUZXN0JiZ2b2lkIDAhPT1sdlRlc3QuYWx0ZXJuYXRpb24/bHZUZXN0LmxvY2F0b3JbbHZUZXN0LmFsdGVybmF0aW9uXTp2b2lkIDA7Zm9yKHBvcz1ibC0xO2x2cDxwb3MmJih0ZXN0UG9zPXBvc2l0aW9uc1twb3NdLCh0ZXN0UG9zLm1hdGNoLm9wdGlvbmFsaXR5fHx0ZXN0UG9zLm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciYmdGVzdFBvcy5tYXRjaC5uZXdCbG9ja01hcmtlcnx8bHZUZXN0QWx0JiYobHZUZXN0QWx0IT09cG9zaXRpb25zW3Bvc10ubG9jYXRvcltsdlRlc3QuYWx0ZXJuYXRpb25dJiYxIT10ZXN0UG9zLm1hdGNoLnN0YXRpY3x8ITA9PT10ZXN0UG9zLm1hdGNoLnN0YXRpYyYmdGVzdFBvcy5sb2NhdG9yW2x2VGVzdC5hbHRlcm5hdGlvbl0mJmNoZWNrQWx0ZXJuYXRpb25NYXRjaCh0ZXN0UG9zLmxvY2F0b3JbbHZUZXN0LmFsdGVybmF0aW9uXS50b1N0cmluZygpLnNwbGl0KFwiLFwiKSxsdlRlc3RBbHQudG9TdHJpbmcoKS5zcGxpdChcIixcIikpJiZcIlwiIT09Z2V0VGVzdHMocG9zKVswXS5kZWYpKSYmYnVmZmVyW3Bvc109PT1nZXRQbGFjZWhvbGRlcihwb3MsdGVzdFBvcy5tYXRjaCkpO3Bvcy0tKWJsLS07cmV0dXJuIHJldHVybkRlZmluaXRpb24/e2w6YmwsZGVmOnBvc2l0aW9uc1tibF0/cG9zaXRpb25zW2JsXS5tYXRjaDp2b2lkIDB9OmJsfWZ1bmN0aW9uIGNsZWFyT3B0aW9uYWxUYWlsKGJ1ZmZlcil7YnVmZmVyLmxlbmd0aD0wO2Zvcih2YXIgdGVtcGxhdGU9Z2V0TWFza1RlbXBsYXRlKCEwLDAsITAsdm9pZCAwLCEwKSxsbW50O3ZvaWQgMCE9PShsbW50PXRlbXBsYXRlLnNoaWZ0KCkpOylidWZmZXIucHVzaChsbW50KTtyZXR1cm4gYnVmZmVyfWZ1bmN0aW9uIGlzQ29tcGxldGUoYnVmZmVyKXtpZigkLmlzRnVuY3Rpb24ob3B0cy5pc0NvbXBsZXRlKSlyZXR1cm4gb3B0cy5pc0NvbXBsZXRlKGJ1ZmZlcixvcHRzKTtpZihcIipcIiE9PW9wdHMucmVwZWF0KXt2YXIgY29tcGxldGU9ITEsbHJwPWRldGVybWluZUxhc3RSZXF1aXJlZFBvc2l0aW9uKCEwKSxhbWw9c2Vla1ByZXZpb3VzKGxycC5sKTtpZih2b2lkIDA9PT1scnAuZGVmfHxscnAuZGVmLm5ld0Jsb2NrTWFya2VyfHxscnAuZGVmLm9wdGlvbmFsaXR5fHxscnAuZGVmLm9wdGlvbmFsUXVhbnRpZmllcil7Y29tcGxldGU9ITA7Zm9yKHZhciBpPTA7aTw9YW1sO2krKyl7dmFyIHRlc3Q9Z2V0VGVzdFRlbXBsYXRlKGkpLm1hdGNoO2lmKCEwIT09dGVzdC5zdGF0aWMmJnZvaWQgMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbaV0mJiEwIT09dGVzdC5vcHRpb25hbGl0eSYmITAhPT10ZXN0Lm9wdGlvbmFsUXVhbnRpZmllcnx8ITA9PT10ZXN0LnN0YXRpYyYmYnVmZmVyW2ldIT09Z2V0UGxhY2Vob2xkZXIoaSx0ZXN0KSl7Y29tcGxldGU9ITE7YnJlYWt9fX1yZXR1cm4gY29tcGxldGV9fWZ1bmN0aW9uIGhhbmRsZVJlbW92ZShpbnB1dCxrLHBvcyxzdHJpY3QsZnJvbUlzVmFsaWQpe2lmKChvcHRzLm51bWVyaWNJbnB1dHx8aXNSVEwpJiYoaz09PUlucHV0bWFzay5rZXlDb2RlLkJBQ0tTUEFDRT9rPUlucHV0bWFzay5rZXlDb2RlLkRFTEVURTprPT09SW5wdXRtYXNrLmtleUNvZGUuREVMRVRFJiYoaz1JbnB1dG1hc2sua2V5Q29kZS5CQUNLU1BBQ0UpLGlzUlRMKSl7dmFyIHBlbmQ9cG9zLmVuZDtwb3MuZW5kPXBvcy5iZWdpbixwb3MuYmVnaW49cGVuZH1pZihrPT09SW5wdXRtYXNrLmtleUNvZGUuQkFDS1NQQUNFJiZwb3MuZW5kLXBvcy5iZWdpbjwxPyhwb3MuYmVnaW49c2Vla1ByZXZpb3VzKHBvcy5iZWdpbiksdm9pZCAwIT09bWFza3NldC52YWxpZFBvc2l0aW9uc1twb3MuYmVnaW5dJiZtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvcy5iZWdpbl0uaW5wdXQ9PT1vcHRzLmdyb3VwU2VwYXJhdG9yJiZwb3MuYmVnaW4tLSk6az09PUlucHV0bWFzay5rZXlDb2RlLkRFTEVURSYmcG9zLmJlZ2luPT09cG9zLmVuZCYmKHBvcy5lbmQ9aXNNYXNrKHBvcy5lbmQsITApJiZtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvcy5lbmRdJiZtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvcy5lbmRdLmlucHV0IT09b3B0cy5yYWRpeFBvaW50P3Bvcy5lbmQrMTpzZWVrTmV4dChwb3MuZW5kKSsxLHZvaWQgMCE9PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zLmJlZ2luXSYmbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3MuYmVnaW5dLmlucHV0PT09b3B0cy5ncm91cFNlcGFyYXRvciYmcG9zLmVuZCsrKSxyZXZhbGlkYXRlTWFzayhwb3MpLCEwIT09c3RyaWN0JiYhMSE9PW9wdHMua2VlcFN0YXRpY3x8bnVsbCE9PW9wdHMucmVnZXgpe3ZhciByZXN1bHQ9YWx0ZXJuYXRlKCEwKTtpZihyZXN1bHQpe3ZhciBuZXdQb3M9dm9pZCAwIT09cmVzdWx0LmNhcmV0P3Jlc3VsdC5jYXJldDpyZXN1bHQucG9zP3NlZWtOZXh0KHJlc3VsdC5wb3MuYmVnaW4/cmVzdWx0LnBvcy5iZWdpbjpyZXN1bHQucG9zKTpnZXRMYXN0VmFsaWRQb3NpdGlvbigtMSwhMCk7KGshPT1JbnB1dG1hc2sua2V5Q29kZS5ERUxFVEV8fHBvcy5iZWdpbj5uZXdQb3MpJiZwb3MuYmVnaW59fXZhciBsdnA9Z2V0TGFzdFZhbGlkUG9zaXRpb24ocG9zLmJlZ2luLCEwKTtpZihsdnA8cG9zLmJlZ2lufHwtMT09PXBvcy5iZWdpbiltYXNrc2V0LnA9c2Vla05leHQobHZwKTtlbHNlIGlmKCEwIT09c3RyaWN0JiYobWFza3NldC5wPXBvcy5iZWdpbiwhMCE9PWZyb21Jc1ZhbGlkKSlmb3IoO21hc2tzZXQucDxsdnAmJnZvaWQgMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbbWFza3NldC5wXTspbWFza3NldC5wKyt9ZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbG9yTWFzayhpbnB1dCl7dmFyIGNvbXB1dGVkU3R5bGU9KGlucHV0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXd8fHdpbmRvdykuZ2V0Q29tcHV0ZWRTdHlsZShpbnB1dCxudWxsKTtmdW5jdGlvbiBmaW5kQ2FyZXRQb3MoY2xpZW50eCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIiksY2FyZXRQb3M7Zm9yKHZhciBzdHlsZSBpbiBjb21wdXRlZFN0eWxlKWlzTmFOKHN0eWxlKSYmLTEhPT1zdHlsZS5pbmRleE9mKFwiZm9udFwiKSYmKGUuc3R5bGVbc3R5bGVdPWNvbXB1dGVkU3R5bGVbc3R5bGVdKTtlLnN0eWxlLnRleHRUcmFuc2Zvcm09Y29tcHV0ZWRTdHlsZS50ZXh0VHJhbnNmb3JtLGUuc3R5bGUubGV0dGVyU3BhY2luZz1jb21wdXRlZFN0eWxlLmxldHRlclNwYWNpbmcsZS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZS5zdHlsZS5oZWlnaHQ9XCJhdXRvXCIsZS5zdHlsZS53aWR0aD1cImF1dG9cIixlLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIixlLnN0eWxlLndoaXRlU3BhY2U9XCJub3dyYXBcIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUpO3ZhciBpbnB1dFRleHQ9aW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLHByZXZpb3VzV2lkdGg9MCxpdGw7Zm9yKGNhcmV0UG9zPTAsaXRsPWlucHV0VGV4dC5sZW5ndGg7Y2FyZXRQb3M8PWl0bDtjYXJldFBvcysrKXtpZihlLmlubmVySFRNTCs9aW5wdXRUZXh0LmNoYXJBdChjYXJldFBvcyl8fFwiX1wiLGUub2Zmc2V0V2lkdGg+PWNsaWVudHgpe3ZhciBvZmZzZXQxPWNsaWVudHgtcHJldmlvdXNXaWR0aCxvZmZzZXQyPWUub2Zmc2V0V2lkdGgtY2xpZW50eDtlLmlubmVySFRNTD1pbnB1dFRleHQuY2hhckF0KGNhcmV0UG9zKSxvZmZzZXQxLT1lLm9mZnNldFdpZHRoLzMsY2FyZXRQb3M9b2Zmc2V0MTxvZmZzZXQyP2NhcmV0UG9zLTE6Y2FyZXRQb3M7YnJlYWt9cHJldmlvdXNXaWR0aD1lLm9mZnNldFdpZHRofXJldHVybiBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGUpLGNhcmV0UG9zfXZhciB0ZW1wbGF0ZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3RlbXBsYXRlLnN0eWxlLndpZHRoPWNvbXB1dGVkU3R5bGUud2lkdGgsdGVtcGxhdGUuc3R5bGUudGV4dEFsaWduPWNvbXB1dGVkU3R5bGUudGV4dEFsaWduLGNvbG9yTWFzaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGlucHV0LmlucHV0bWFzay5jb2xvck1hc2s9Y29sb3JNYXNrLGNvbG9yTWFzay5jbGFzc05hbWU9XCJpbS1jb2xvcm1hc2tcIixpbnB1dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjb2xvck1hc2ssaW5wdXQpLGlucHV0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaW5wdXQpLGNvbG9yTWFzay5hcHBlbmRDaGlsZChpbnB1dCksY29sb3JNYXNrLmFwcGVuZENoaWxkKHRlbXBsYXRlKSxpbnB1dC5zdHlsZS5sZWZ0PXRlbXBsYXRlLm9mZnNldExlZnQrXCJweFwiLCQoY29sb3JNYXNrKS5vbihcIm1vdXNlbGVhdmVcIixmdW5jdGlvbihlKXtyZXR1cm4gRXZlbnRIYW5kbGVycy5tb3VzZWxlYXZlRXZlbnQuY2FsbChpbnB1dCxbZV0pfSksJChjb2xvck1hc2spLm9uKFwibW91c2VlbnRlclwiLGZ1bmN0aW9uKGUpe3JldHVybiBFdmVudEhhbmRsZXJzLm1vdXNlZW50ZXJFdmVudC5jYWxsKGlucHV0LFtlXSl9KSwkKGNvbG9yTWFzaykub24oXCJjbGlja1wiLGZ1bmN0aW9uKGUpe3JldHVybiBjYXJldChpbnB1dCxmaW5kQ2FyZXRQb3MoZS5jbGllbnRYKSksRXZlbnRIYW5kbGVycy5jbGlja0V2ZW50LmNhbGwoaW5wdXQsW2VdKX0pfWZ1bmN0aW9uIHJlbmRlckNvbG9yTWFzayhpbnB1dCxjYXJldFBvcyxjbGVhcil7dmFyIG1hc2tUZW1wbGF0ZT1bXSxpc1N0YXRpYz0hMSx0ZXN0LHRlc3RQb3MsbmR4SW50bHpyLHBvcz0wO2Z1bmN0aW9uIHNldEVudHJ5KGVudHJ5KXtpZih2b2lkIDA9PT1lbnRyeSYmKGVudHJ5PVwiXCIpLGlzU3RhdGljfHwhMCE9PXRlc3Quc3RhdGljJiZ2b2lkIDAhPT10ZXN0UG9zLmlucHV0KWlmKGlzU3RhdGljJiYoITAhPT10ZXN0LnN0YXRpYyYmdm9pZCAwIT09dGVzdFBvcy5pbnB1dHx8XCJcIj09PXRlc3QuZGVmKSl7aXNTdGF0aWM9ITE7dmFyIG10bD1tYXNrVGVtcGxhdGUubGVuZ3RoO21hc2tUZW1wbGF0ZVttdGwtMV09bWFza1RlbXBsYXRlW210bC0xXStcIjwvc3Bhbj5cIixtYXNrVGVtcGxhdGUucHVzaChlbnRyeSl9ZWxzZSBtYXNrVGVtcGxhdGUucHVzaChlbnRyeSk7ZWxzZSBpc1N0YXRpYz0hMCxtYXNrVGVtcGxhdGUucHVzaChcIjxzcGFuIGNsYXNzPSdpbS1zdGF0aWMnPlwiK2VudHJ5KX1mdW5jdGlvbiBzZXRDYXJldCgpe2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQ9PT1pbnB1dCYmKG1hc2tUZW1wbGF0ZS5zcGxpY2UoY2FyZXRQb3MuYmVnaW4sMCxjYXJldFBvcy5iZWdpbj09PWNhcmV0UG9zLmVuZHx8Y2FyZXRQb3MuZW5kPm1hc2tzZXQubWFza0xlbmd0aD8nPG1hcmsgY2xhc3M9XCJpbS1jYXJldFwiIHN0eWxlPVwiYm9yZGVyLXJpZ2h0LXdpZHRoOiAxcHg7Ym9yZGVyLXJpZ2h0LXN0eWxlOiBzb2xpZDtcIj4nOic8bWFyayBjbGFzcz1cImltLWNhcmV0LXNlbGVjdFwiPicpLG1hc2tUZW1wbGF0ZS5zcGxpY2UoY2FyZXRQb3MuZW5kKzEsMCxcIjwvbWFyaz5cIikpfWlmKHZvaWQgMCE9PWNvbG9yTWFzayl7dmFyIGJ1ZmZlcj1nZXRCdWZmZXIoKTtpZih2b2lkIDA9PT1jYXJldFBvcz9jYXJldFBvcz1jYXJldChpbnB1dCk6dm9pZCAwPT09Y2FyZXRQb3MuYmVnaW4mJihjYXJldFBvcz17YmVnaW46Y2FyZXRQb3MsZW5kOmNhcmV0UG9zfSksITAhPT1jbGVhcil7Zm9yKHZhciBsdnA9Z2V0TGFzdFZhbGlkUG9zaXRpb24oKTttYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10/KHRlc3RQb3M9bWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdLHRlc3Q9dGVzdFBvcy5tYXRjaCxuZHhJbnRsenI9dGVzdFBvcy5sb2NhdG9yLnNsaWNlKCksc2V0RW50cnkoYnVmZmVyW3Bvc10pKToodGVzdFBvcz1nZXRUZXN0VGVtcGxhdGUocG9zLG5keEludGx6cixwb3MtMSksdGVzdD10ZXN0UG9zLm1hdGNoLG5keEludGx6cj10ZXN0UG9zLmxvY2F0b3Iuc2xpY2UoKSwhMT09PW9wdHMuaml0TWFza2luZ3x8cG9zPGx2cHx8XCJudW1iZXJcIj09dHlwZW9mIG9wdHMuaml0TWFza2luZyYmaXNGaW5pdGUob3B0cy5qaXRNYXNraW5nKSYmb3B0cy5qaXRNYXNraW5nPnBvcz9zZXRFbnRyeShnZXRQbGFjZWhvbGRlcihwb3MsdGVzdCkpOmlzU3RhdGljPSExKSxwb3MrKywodm9pZCAwPT09bWF4TGVuZ3RofHxwb3M8bWF4TGVuZ3RoKSYmKCEwIT09dGVzdC5zdGF0aWN8fFwiXCIhPT10ZXN0LmRlZil8fHBvczxsdnB8fGlzU3RhdGljOyk7aXNTdGF0aWMmJnNldEVudHJ5KCksc2V0Q2FyZXQoKX12YXIgdGVtcGxhdGU9Y29sb3JNYXNrLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGl2XCIpWzBdO3RlbXBsYXRlLmlubmVySFRNTD1tYXNrVGVtcGxhdGUuam9pbihcIlwiKSxpbnB1dC5pbnB1dG1hc2sucG9zaXRpb25Db2xvck1hc2soaW5wdXQsdGVtcGxhdGUpfX1mdW5jdGlvbiBhcHBseUlucHV0VmFsdWUoaW5wdXQsdmFsdWUpe2lucHV0LmlucHV0bWFzay5yZWZyZXNoVmFsdWU9ITEsJC5pc0Z1bmN0aW9uKG9wdHMub25CZWZvcmVNYXNrKSYmKHZhbHVlPW9wdHMub25CZWZvcmVNYXNrLmNhbGwoaW5wdXRtYXNrLHZhbHVlLG9wdHMpfHx2YWx1ZSksdmFsdWU9dmFsdWUudG9TdHJpbmcoKS5zcGxpdChcIlwiKSxjaGVja1ZhbChpbnB1dCwhMCwhMSx2YWx1ZSksdW5kb1ZhbHVlPWdldEJ1ZmZlcigpLmpvaW4oXCJcIiksKG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXN8fG9wdHMuY2xlYXJJbmNvbXBsZXRlKSYmaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpPT09Z2V0QnVmZmVyVGVtcGxhdGUoKS5qb2luKFwiXCIpJiYtMT09PWdldExhc3RWYWxpZFBvc2l0aW9uKCkmJmlucHV0LmlucHV0bWFzay5fdmFsdWVTZXQoXCJcIil9ZnVuY3Rpb24gbWFzayhlbGVtKXtmdW5jdGlvbiBpc0VsZW1lbnRUeXBlU3VwcG9ydGVkKGlucHV0LG9wdHMpe2Z1bmN0aW9uIHBhdGNoVmFsdWVQcm9wZXJ0eShucHQpe3ZhciB2YWx1ZUdldCx2YWx1ZVNldDtmdW5jdGlvbiBwYXRjaFZhbGhvb2sodHlwZSl7aWYoJC52YWxIb29rcyYmKHZvaWQgMD09PSQudmFsSG9va3NbdHlwZV18fCEwIT09JC52YWxIb29rc1t0eXBlXS5pbnB1dG1hc2twYXRjaCkpe3ZhciB2YWxob29rR2V0PSQudmFsSG9va3NbdHlwZV0mJiQudmFsSG9va3NbdHlwZV0uZ2V0PyQudmFsSG9va3NbdHlwZV0uZ2V0OmZ1bmN0aW9uKGVsZW0pe3JldHVybiBlbGVtLnZhbHVlfSx2YWxob29rU2V0PSQudmFsSG9va3NbdHlwZV0mJiQudmFsSG9va3NbdHlwZV0uc2V0PyQudmFsSG9va3NbdHlwZV0uc2V0OmZ1bmN0aW9uKGVsZW0sdmFsdWUpe3JldHVybiBlbGVtLnZhbHVlPXZhbHVlLGVsZW19OyQudmFsSG9va3NbdHlwZV09e2dldDpmdW5jdGlvbiBnZXQoZWxlbSl7aWYoZWxlbS5pbnB1dG1hc2spe2lmKGVsZW0uaW5wdXRtYXNrLm9wdHMuYXV0b1VubWFzaylyZXR1cm4gZWxlbS5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpO3ZhciByZXN1bHQ9dmFsaG9va0dldChlbGVtKTtyZXR1cm4tMSE9PWdldExhc3RWYWxpZFBvc2l0aW9uKHZvaWQgMCx2b2lkIDAsZWxlbS5pbnB1dG1hc2subWFza3NldC52YWxpZFBvc2l0aW9ucyl8fCEwIT09b3B0cy5udWxsYWJsZT9yZXN1bHQ6XCJcIn1yZXR1cm4gdmFsaG9va0dldChlbGVtKX0sc2V0OmZ1bmN0aW9uIHNldChlbGVtLHZhbHVlKXt2YXIgcmVzdWx0PXZhbGhvb2tTZXQoZWxlbSx2YWx1ZSk7cmV0dXJuIGVsZW0uaW5wdXRtYXNrJiZhcHBseUlucHV0VmFsdWUoZWxlbSx2YWx1ZSkscmVzdWx0fSxpbnB1dG1hc2twYXRjaDohMH19fWZ1bmN0aW9uIGdldHRlcigpe3JldHVybiB0aGlzLmlucHV0bWFzaz90aGlzLmlucHV0bWFzay5vcHRzLmF1dG9Vbm1hc2s/dGhpcy5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpOi0xIT09Z2V0TGFzdFZhbGlkUG9zaXRpb24oKXx8ITAhPT1vcHRzLm51bGxhYmxlP2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQ9PT10aGlzJiZvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzPyhpc1JUTD9jbGVhck9wdGlvbmFsVGFpbChnZXRCdWZmZXIoKS5zbGljZSgpKS5yZXZlcnNlKCk6Y2xlYXJPcHRpb25hbFRhaWwoZ2V0QnVmZmVyKCkuc2xpY2UoKSkpLmpvaW4oXCJcIik6dmFsdWVHZXQuY2FsbCh0aGlzKTpcIlwiOnZhbHVlR2V0LmNhbGwodGhpcyl9ZnVuY3Rpb24gc2V0dGVyKHZhbHVlKXt2YWx1ZVNldC5jYWxsKHRoaXMsdmFsdWUpLHRoaXMuaW5wdXRtYXNrJiZhcHBseUlucHV0VmFsdWUodGhpcyx2YWx1ZSl9ZnVuY3Rpb24gaW5zdGFsbE5hdGl2ZVZhbHVlU2V0RmFsbGJhY2sobnB0KXtFdmVudFJ1bGVyLm9uKG5wdCxcIm1vdXNlZW50ZXJcIixmdW5jdGlvbigpe3ZhciBpbnB1dD10aGlzLHZhbHVlPXRoaXMuaW5wdXRtYXNrLl92YWx1ZUdldCghMCk7dmFsdWUhPT0oaXNSVEw/Z2V0QnVmZmVyKCkucmV2ZXJzZSgpOmdldEJ1ZmZlcigpKS5qb2luKFwiXCIpJiZhcHBseUlucHV0VmFsdWUodGhpcyx2YWx1ZSl9KX1pZighbnB0LmlucHV0bWFzay5fX3ZhbHVlR2V0KXtpZighMCE9PW9wdHMubm9WYWx1ZVBhdGNoaW5nKXtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKXtcImZ1bmN0aW9uXCIhPXR5cGVvZiBPYmplY3QuZ2V0UHJvdG90eXBlT2YmJihPYmplY3QuZ2V0UHJvdG90eXBlT2Y9XCJvYmplY3RcIj09PV90eXBlb2YoXCJ0ZXN0XCIuX19wcm90b19fKT9mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3QuX19wcm90b19ffTpmdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3QuY29uc3RydWN0b3IucHJvdG90eXBlfSk7dmFyIHZhbHVlUHJvcGVydHk9T2JqZWN0LmdldFByb3RvdHlwZU9mP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0LmdldFByb3RvdHlwZU9mKG5wdCksXCJ2YWx1ZVwiKTp2b2lkIDA7dmFsdWVQcm9wZXJ0eSYmdmFsdWVQcm9wZXJ0eS5nZXQmJnZhbHVlUHJvcGVydHkuc2V0Pyh2YWx1ZUdldD12YWx1ZVByb3BlcnR5LmdldCx2YWx1ZVNldD12YWx1ZVByb3BlcnR5LnNldCxPYmplY3QuZGVmaW5lUHJvcGVydHkobnB0LFwidmFsdWVcIix7Z2V0OmdldHRlcixzZXQ6c2V0dGVyLGNvbmZpZ3VyYWJsZTohMH0pKTpcIklOUFVUXCIhPT1ucHQudGFnTmFtZSYmKHZhbHVlR2V0PWZ1bmN0aW9uIHZhbHVlR2V0KCl7cmV0dXJuIHRoaXMudGV4dENvbnRlbnR9LHZhbHVlU2V0PWZ1bmN0aW9uIHZhbHVlU2V0KHZhbHVlKXt0aGlzLnRleHRDb250ZW50PXZhbHVlfSxPYmplY3QuZGVmaW5lUHJvcGVydHkobnB0LFwidmFsdWVcIix7Z2V0OmdldHRlcixzZXQ6c2V0dGVyLGNvbmZpZ3VyYWJsZTohMH0pKX1lbHNlIGRvY3VtZW50Ll9fbG9va3VwR2V0dGVyX18mJm5wdC5fX2xvb2t1cEdldHRlcl9fKFwidmFsdWVcIikmJih2YWx1ZUdldD1ucHQuX19sb29rdXBHZXR0ZXJfXyhcInZhbHVlXCIpLHZhbHVlU2V0PW5wdC5fX2xvb2t1cFNldHRlcl9fKFwidmFsdWVcIiksbnB0Ll9fZGVmaW5lR2V0dGVyX18oXCJ2YWx1ZVwiLGdldHRlciksbnB0Ll9fZGVmaW5lU2V0dGVyX18oXCJ2YWx1ZVwiLHNldHRlcikpO25wdC5pbnB1dG1hc2suX192YWx1ZUdldD12YWx1ZUdldCxucHQuaW5wdXRtYXNrLl9fdmFsdWVTZXQ9dmFsdWVTZXR9bnB0LmlucHV0bWFzay5fdmFsdWVHZXQ9ZnVuY3Rpb24ob3ZlcnJ1bGVSVEwpe3JldHVybiBpc1JUTCYmITAhPT1vdmVycnVsZVJUTD92YWx1ZUdldC5jYWxsKHRoaXMuZWwpLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpOnZhbHVlR2V0LmNhbGwodGhpcy5lbCl9LG5wdC5pbnB1dG1hc2suX3ZhbHVlU2V0PWZ1bmN0aW9uKHZhbHVlLG92ZXJydWxlUlRMKXt2YWx1ZVNldC5jYWxsKHRoaXMuZWwsbnVsbD09dmFsdWU/XCJcIjohMCE9PW92ZXJydWxlUlRMJiZpc1JUTD92YWx1ZS5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKTp2YWx1ZSl9LHZvaWQgMD09PXZhbHVlR2V0JiYodmFsdWVHZXQ9ZnVuY3Rpb24gdmFsdWVHZXQoKXtyZXR1cm4gdGhpcy52YWx1ZX0sdmFsdWVTZXQ9ZnVuY3Rpb24gdmFsdWVTZXQodmFsdWUpe3RoaXMudmFsdWU9dmFsdWV9LHBhdGNoVmFsaG9vayhucHQudHlwZSksaW5zdGFsbE5hdGl2ZVZhbHVlU2V0RmFsbGJhY2sobnB0KSl9fXZhciBlbGVtZW50VHlwZT1pbnB1dC5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLGlzU3VwcG9ydGVkPVwiSU5QVVRcIj09PWlucHV0LnRhZ05hbWUmJi0xIT09JC5pbkFycmF5KGVsZW1lbnRUeXBlLG9wdHMuc3VwcG9ydHNJbnB1dFR5cGUpfHxpbnB1dC5pc0NvbnRlbnRFZGl0YWJsZXx8XCJURVhUQVJFQVwiPT09aW5wdXQudGFnTmFtZTtpZighaXNTdXBwb3J0ZWQpaWYoXCJJTlBVVFwiPT09aW5wdXQudGFnTmFtZSl7dmFyIGVsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtlbC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsZWxlbWVudFR5cGUpLGlzU3VwcG9ydGVkPVwidGV4dFwiPT09ZWwudHlwZSxlbD1udWxsfWVsc2UgaXNTdXBwb3J0ZWQ9XCJwYXJ0aWFsXCI7cmV0dXJuITEhPT1pc1N1cHBvcnRlZD9wYXRjaFZhbHVlUHJvcGVydHkoaW5wdXQpOmlucHV0LmlucHV0bWFzaz12b2lkIDAsaXNTdXBwb3J0ZWR9RXZlbnRSdWxlci5vZmYoZWxlbSk7dmFyIGlzU3VwcG9ydGVkPWlzRWxlbWVudFR5cGVTdXBwb3J0ZWQoZWxlbSxvcHRzKTtpZighMSE9PWlzU3VwcG9ydGVkJiYoZWw9ZWxlbSwkZWw9JChlbCksb3JpZ2luYWxQbGFjZWhvbGRlcj1lbC5wbGFjZWhvbGRlcixtYXhMZW5ndGg9dm9pZCAwIT09ZWw/ZWwubWF4TGVuZ3RoOnZvaWQgMCwtMT09PW1heExlbmd0aCYmKG1heExlbmd0aD12b2lkIDApLCEwPT09b3B0cy5jb2xvck1hc2smJmluaXRpYWxpemVDb2xvck1hc2soZWwpLG1vYmlsZSYmKFwiaW5wdXRtb2RlXCJpbiBlbCYmKGVsLmlucHV0bW9kZT1vcHRzLmlucHV0bW9kZSxlbC5zZXRBdHRyaWJ1dGUoXCJpbnB1dG1vZGVcIixvcHRzLmlucHV0bW9kZSkpLCEwPT09b3B0cy5kaXNhYmxlUHJlZGljdGl2ZVRleHQmJihcImF1dG9jb3JyZWN0XCJpbiBlbD9lbC5hdXRvY29ycmVjdD0hMTooITAhPT1vcHRzLmNvbG9yTWFzayYmaW5pdGlhbGl6ZUNvbG9yTWFzayhlbCksZWwudHlwZT1cInBhc3N3b3JkXCIpKSksITA9PT1pc1N1cHBvcnRlZCYmKGVsLnNldEF0dHJpYnV0ZShcImRhdGEtaW0taW5zZXJ0XCIsb3B0cy5pbnNlcnRNb2RlKSxvcHRzLnNob3dNYXNrT25Gb2N1cz1vcHRzLnNob3dNYXNrT25Gb2N1cyYmLTE9PT1bXCJjYy1udW1iZXJcIixcImNjLWV4cFwiXS5pbmRleE9mKGVsLmF1dG9jb21wbGV0ZSksRXZlbnRSdWxlci5vbihlbCxcInN1Ym1pdFwiLEV2ZW50SGFuZGxlcnMuc3VibWl0RXZlbnQpLEV2ZW50UnVsZXIub24oZWwsXCJyZXNldFwiLEV2ZW50SGFuZGxlcnMucmVzZXRFdmVudCksRXZlbnRSdWxlci5vbihlbCxcImJsdXJcIixFdmVudEhhbmRsZXJzLmJsdXJFdmVudCksRXZlbnRSdWxlci5vbihlbCxcImZvY3VzXCIsRXZlbnRIYW5kbGVycy5mb2N1c0V2ZW50KSwhMCE9PW9wdHMuY29sb3JNYXNrJiYoRXZlbnRSdWxlci5vbihlbCxcImNsaWNrXCIsRXZlbnRIYW5kbGVycy5jbGlja0V2ZW50KSxFdmVudFJ1bGVyLm9uKGVsLFwibW91c2VsZWF2ZVwiLEV2ZW50SGFuZGxlcnMubW91c2VsZWF2ZUV2ZW50KSxFdmVudFJ1bGVyLm9uKGVsLFwibW91c2VlbnRlclwiLEV2ZW50SGFuZGxlcnMubW91c2VlbnRlckV2ZW50KSksRXZlbnRSdWxlci5vbihlbCxcInBhc3RlXCIsRXZlbnRIYW5kbGVycy5wYXN0ZUV2ZW50KSxFdmVudFJ1bGVyLm9uKGVsLFwiY3V0XCIsRXZlbnRIYW5kbGVycy5jdXRFdmVudCksRXZlbnRSdWxlci5vbihlbCxcImNvbXBsZXRlXCIsb3B0cy5vbmNvbXBsZXRlKSxFdmVudFJ1bGVyLm9uKGVsLFwiaW5jb21wbGV0ZVwiLG9wdHMub25pbmNvbXBsZXRlKSxFdmVudFJ1bGVyLm9uKGVsLFwiY2xlYXJlZFwiLG9wdHMub25jbGVhcmVkKSxtb2JpbGV8fCEwPT09b3B0cy5pbnB1dEV2ZW50T25seT9lbC5yZW1vdmVBdHRyaWJ1dGUoXCJtYXhMZW5ndGhcIik6KEV2ZW50UnVsZXIub24oZWwsXCJrZXlkb3duXCIsRXZlbnRIYW5kbGVycy5rZXlkb3duRXZlbnQpLEV2ZW50UnVsZXIub24oZWwsXCJrZXlwcmVzc1wiLEV2ZW50SGFuZGxlcnMua2V5cHJlc3NFdmVudCkpLEV2ZW50UnVsZXIub24oZWwsXCJpbnB1dFwiLEV2ZW50SGFuZGxlcnMuaW5wdXRGYWxsQmFja0V2ZW50KSxFdmVudFJ1bGVyLm9uKGVsLFwiYmVmb3JlaW5wdXRcIixFdmVudEhhbmRsZXJzLmJlZm9yZUlucHV0RXZlbnQpKSxFdmVudFJ1bGVyLm9uKGVsLFwic2V0dmFsdWVcIixFdmVudEhhbmRsZXJzLnNldFZhbHVlRXZlbnQpLHVuZG9WYWx1ZT1nZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIiksXCJcIiE9PWVsLmlucHV0bWFzay5fdmFsdWVHZXQoITApfHwhMT09PW9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXN8fGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ9PT1lbCkpe2FwcGx5SW5wdXRWYWx1ZShlbCxlbC5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKSxvcHRzKTt2YXIgYnVmZmVyPWdldEJ1ZmZlcigpLnNsaWNlKCk7ITE9PT1pc0NvbXBsZXRlKGJ1ZmZlcikmJm9wdHMuY2xlYXJJbmNvbXBsZXRlJiZyZXNldE1hc2tTZXQoKSxvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzJiZkb2N1bWVudC5hY3RpdmVFbGVtZW50IT09ZWwmJigtMT09PWdldExhc3RWYWxpZFBvc2l0aW9uKCk/YnVmZmVyPVtdOmNsZWFyT3B0aW9uYWxUYWlsKGJ1ZmZlcikpLCghMT09PW9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXN8fG9wdHMuc2hvd01hc2tPbkZvY3VzJiZkb2N1bWVudC5hY3RpdmVFbGVtZW50PT09ZWx8fFwiXCIhPT1lbC5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKSkmJndyaXRlQnVmZmVyKGVsLGJ1ZmZlciksZG9jdW1lbnQuYWN0aXZlRWxlbWVudD09PWVsJiZjYXJldChlbCxzZWVrTmV4dChnZXRMYXN0VmFsaWRQb3NpdGlvbigpKSl9fWlmKHZvaWQgMCE9PWFjdGlvbk9iailzd2l0Y2goYWN0aW9uT2JqLmFjdGlvbil7Y2FzZVwiaXNDb21wbGV0ZVwiOnJldHVybiBlbD1hY3Rpb25PYmouZWwsaXNDb21wbGV0ZShnZXRCdWZmZXIoKSk7Y2FzZVwidW5tYXNrZWR2YWx1ZVwiOnJldHVybiB2b2lkIDAhPT1lbCYmdm9pZCAwPT09YWN0aW9uT2JqLnZhbHVlfHwodmFsdWVCdWZmZXI9YWN0aW9uT2JqLnZhbHVlLHZhbHVlQnVmZmVyPSgkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZU1hc2spJiZvcHRzLm9uQmVmb3JlTWFzay5jYWxsKGlucHV0bWFzayx2YWx1ZUJ1ZmZlcixvcHRzKXx8dmFsdWVCdWZmZXIpLnNwbGl0KFwiXCIpLGNoZWNrVmFsLmNhbGwodGhpcyx2b2lkIDAsITEsITEsdmFsdWVCdWZmZXIpLCQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlV3JpdGUpJiZvcHRzLm9uQmVmb3JlV3JpdGUuY2FsbChpbnB1dG1hc2ssdm9pZCAwLGdldEJ1ZmZlcigpLDAsb3B0cykpLHVubWFza2VkdmFsdWUoZWwpO2Nhc2VcIm1hc2tcIjptYXNrKGVsKTticmVhaztjYXNlXCJmb3JtYXRcIjpyZXR1cm4gdmFsdWVCdWZmZXI9KCQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlTWFzaykmJm9wdHMub25CZWZvcmVNYXNrLmNhbGwoaW5wdXRtYXNrLGFjdGlvbk9iai52YWx1ZSxvcHRzKXx8YWN0aW9uT2JqLnZhbHVlKS5zcGxpdChcIlwiKSxjaGVja1ZhbC5jYWxsKHRoaXMsdm9pZCAwLCEwLCExLHZhbHVlQnVmZmVyKSxhY3Rpb25PYmoubWV0YWRhdGE/e3ZhbHVlOmlzUlRMP2dldEJ1ZmZlcigpLnNsaWNlKCkucmV2ZXJzZSgpLmpvaW4oXCJcIik6Z2V0QnVmZmVyKCkuam9pbihcIlwiKSxtZXRhZGF0YTptYXNrU2NvcGUuY2FsbCh0aGlzLHthY3Rpb246XCJnZXRtZXRhZGF0YVwifSxtYXNrc2V0LG9wdHMpfTppc1JUTD9nZXRCdWZmZXIoKS5zbGljZSgpLnJldmVyc2UoKS5qb2luKFwiXCIpOmdldEJ1ZmZlcigpLmpvaW4oXCJcIik7Y2FzZVwiaXNWYWxpZFwiOmFjdGlvbk9iai52YWx1ZT8odmFsdWVCdWZmZXI9KCQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlTWFzaykmJm9wdHMub25CZWZvcmVNYXNrLmNhbGwoaW5wdXRtYXNrLGFjdGlvbk9iai52YWx1ZSxvcHRzKXx8YWN0aW9uT2JqLnZhbHVlKS5zcGxpdChcIlwiKSxjaGVja1ZhbC5jYWxsKHRoaXMsdm9pZCAwLCEwLCExLHZhbHVlQnVmZmVyKSk6YWN0aW9uT2JqLnZhbHVlPWlzUlRMP2dldEJ1ZmZlcigpLnNsaWNlKCkucmV2ZXJzZSgpLmpvaW4oXCJcIik6Z2V0QnVmZmVyKCkuam9pbihcIlwiKTtmb3IodmFyIGJ1ZmZlcj1nZXRCdWZmZXIoKSxybD1kZXRlcm1pbmVMYXN0UmVxdWlyZWRQb3NpdGlvbigpLGxtaWI9YnVmZmVyLmxlbmd0aC0xO3JsPGxtaWImJiFpc01hc2sobG1pYik7bG1pYi0tKTtyZXR1cm4gYnVmZmVyLnNwbGljZShybCxsbWliKzEtcmwpLGlzQ29tcGxldGUoYnVmZmVyKSYmYWN0aW9uT2JqLnZhbHVlPT09KGlzUlRMP2dldEJ1ZmZlcigpLnNsaWNlKCkucmV2ZXJzZSgpLmpvaW4oXCJcIik6Z2V0QnVmZmVyKCkuam9pbihcIlwiKSk7Y2FzZVwiZ2V0ZW1wdHltYXNrXCI6cmV0dXJuIGdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKTtjYXNlXCJyZW1vdmVcIjppZihlbCYmZWwuaW5wdXRtYXNrKXskLmRhdGEoZWwsXCJfaW5wdXRtYXNrX29wdHNcIixudWxsKSwkZWw9JChlbCk7dmFyIGN2PW9wdHMuYXV0b1VubWFzaz91bm1hc2tlZHZhbHVlKGVsKTplbC5pbnB1dG1hc2suX3ZhbHVlR2V0KG9wdHMuYXV0b1VubWFzayksdmFsdWVQcm9wZXJ0eTtjdiE9PWdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKT9lbC5pbnB1dG1hc2suX3ZhbHVlU2V0KGN2LG9wdHMuYXV0b1VubWFzayk6ZWwuaW5wdXRtYXNrLl92YWx1ZVNldChcIlwiKSxFdmVudFJ1bGVyLm9mZihlbCksZWwuaW5wdXRtYXNrLmNvbG9yTWFzayYmKGNvbG9yTWFzaz1lbC5pbnB1dG1hc2suY29sb3JNYXNrLGNvbG9yTWFzay5yZW1vdmVDaGlsZChlbCksY29sb3JNYXNrLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsLGNvbG9yTWFzayksY29sb3JNYXNrLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY29sb3JNYXNrKSksT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciYmT2JqZWN0LmdldFByb3RvdHlwZU9mPyh2YWx1ZVByb3BlcnR5PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0LmdldFByb3RvdHlwZU9mKGVsKSxcInZhbHVlXCIpLHZhbHVlUHJvcGVydHkmJmVsLmlucHV0bWFzay5fX3ZhbHVlR2V0JiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZWwsXCJ2YWx1ZVwiLHtnZXQ6ZWwuaW5wdXRtYXNrLl9fdmFsdWVHZXQsc2V0OmVsLmlucHV0bWFzay5fX3ZhbHVlU2V0LGNvbmZpZ3VyYWJsZTohMH0pKTpkb2N1bWVudC5fX2xvb2t1cEdldHRlcl9fJiZlbC5fX2xvb2t1cEdldHRlcl9fKFwidmFsdWVcIikmJmVsLmlucHV0bWFzay5fX3ZhbHVlR2V0JiYoZWwuX19kZWZpbmVHZXR0ZXJfXyhcInZhbHVlXCIsZWwuaW5wdXRtYXNrLl9fdmFsdWVHZXQpLGVsLl9fZGVmaW5lU2V0dGVyX18oXCJ2YWx1ZVwiLGVsLmlucHV0bWFzay5fX3ZhbHVlU2V0KSksZWwuaW5wdXRtYXNrPXZvaWQgMH1yZXR1cm4gZWw7Y2FzZVwiZ2V0bWV0YWRhdGFcIjppZigkLmlzQXJyYXkobWFza3NldC5tZXRhZGF0YSkpe3ZhciBtYXNrVGFyZ2V0PWdldE1hc2tUZW1wbGF0ZSghMCwwLCExKS5qb2luKFwiXCIpO3JldHVybiAkLmVhY2gobWFza3NldC5tZXRhZGF0YSxmdW5jdGlvbihuZHgsbXRkdCl7aWYobXRkdC5tYXNrPT09bWFza1RhcmdldClyZXR1cm4gbWFza1RhcmdldD1tdGR0LCExfSksbWFza1RhcmdldH1yZXR1cm4gbWFza3NldC5tZXRhZGF0YX19fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtmdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIF90eXBlb2Y9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gdHlwZW9mIG9ian06ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiBvYmomJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmb2JqLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZvYmohPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIG9ian0sX3R5cGVvZihvYmopfXZhciBJbnB1dG1hc2s9X193ZWJwYWNrX3JlcXVpcmVfXygzKSwkPUlucHV0bWFzay5kZXBlbmRlbmN5TGliLGZvcm1hdENvZGU9e2Q6W1wiWzEtOV18WzEyXVswLTldfDNbMDFdXCIsRGF0ZS5wcm90b3R5cGUuc2V0RGF0ZSxcImRheVwiLERhdGUucHJvdG90eXBlLmdldERhdGVdLGRkOltcIjBbMS05XXxbMTJdWzAtOV18M1swMV1cIixEYXRlLnByb3RvdHlwZS5zZXREYXRlLFwiZGF5XCIsZnVuY3Rpb24oKXtyZXR1cm4gcGFkKERhdGUucHJvdG90eXBlLmdldERhdGUuY2FsbCh0aGlzKSwyKX1dLGRkZDpbXCJcIl0sZGRkZDpbXCJcIl0sbTpbXCJbMS05XXwxWzAxMl1cIixEYXRlLnByb3RvdHlwZS5zZXRNb250aCxcIm1vbnRoXCIsZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5wcm90b3R5cGUuZ2V0TW9udGguY2FsbCh0aGlzKSsxfV0sbW06W1wiMFsxLTldfDFbMDEyXVwiLERhdGUucHJvdG90eXBlLnNldE1vbnRoLFwibW9udGhcIixmdW5jdGlvbigpe3JldHVybiBwYWQoRGF0ZS5wcm90b3R5cGUuZ2V0TW9udGguY2FsbCh0aGlzKSsxLDIpfV0sbW1tOltcIlwiXSxtbW1tOltcIlwiXSx5eTpbXCJbMC05XXsyfVwiLERhdGUucHJvdG90eXBlLnNldEZ1bGxZZWFyLFwieWVhclwiLGZ1bmN0aW9uKCl7cmV0dXJuIHBhZChEYXRlLnByb3RvdHlwZS5nZXRGdWxsWWVhci5jYWxsKHRoaXMpLDIpfV0seXl5eTpbXCJbMC05XXs0fVwiLERhdGUucHJvdG90eXBlLnNldEZ1bGxZZWFyLFwieWVhclwiLGZ1bmN0aW9uKCl7cmV0dXJuIHBhZChEYXRlLnByb3RvdHlwZS5nZXRGdWxsWWVhci5jYWxsKHRoaXMpLDQpfV0saDpbXCJbMS05XXwxWzAtMl1cIixEYXRlLnByb3RvdHlwZS5zZXRIb3VycyxcImhvdXJzXCIsRGF0ZS5wcm90b3R5cGUuZ2V0SG91cnNdLGhoOltcIjBbMS05XXwxWzAtMl1cIixEYXRlLnByb3RvdHlwZS5zZXRIb3VycyxcImhvdXJzXCIsZnVuY3Rpb24oKXtyZXR1cm4gcGFkKERhdGUucHJvdG90eXBlLmdldEhvdXJzLmNhbGwodGhpcyksMil9XSxoaGg6W1wiWzAtOV0rXCIsRGF0ZS5wcm90b3R5cGUuc2V0SG91cnMsXCJob3Vyc1wiLERhdGUucHJvdG90eXBlLmdldEhvdXJzXSxIOltcIjE/WzAtOV18MlswLTNdXCIsRGF0ZS5wcm90b3R5cGUuc2V0SG91cnMsXCJob3Vyc1wiLERhdGUucHJvdG90eXBlLmdldEhvdXJzXSxISDpbXCIwWzAtOV18MVswLTldfDJbMC0zXVwiLERhdGUucHJvdG90eXBlLnNldEhvdXJzLFwiaG91cnNcIixmdW5jdGlvbigpe3JldHVybiBwYWQoRGF0ZS5wcm90b3R5cGUuZ2V0SG91cnMuY2FsbCh0aGlzKSwyKX1dLEhISDpbXCJbMC05XStcIixEYXRlLnByb3RvdHlwZS5zZXRIb3VycyxcImhvdXJzXCIsRGF0ZS5wcm90b3R5cGUuZ2V0SG91cnNdLE06W1wiWzEtNV0/WzAtOV1cIixEYXRlLnByb3RvdHlwZS5zZXRNaW51dGVzLFwibWludXRlc1wiLERhdGUucHJvdG90eXBlLmdldE1pbnV0ZXNdLE1NOltcIjBbMC05XXwxWzAtOV18MlswLTldfDNbMC05XXw0WzAtOV18NVswLTldXCIsRGF0ZS5wcm90b3R5cGUuc2V0TWludXRlcyxcIm1pbnV0ZXNcIixmdW5jdGlvbigpe3JldHVybiBwYWQoRGF0ZS5wcm90b3R5cGUuZ2V0TWludXRlcy5jYWxsKHRoaXMpLDIpfV0sczpbXCJbMS01XT9bMC05XVwiLERhdGUucHJvdG90eXBlLnNldFNlY29uZHMsXCJzZWNvbmRzXCIsRGF0ZS5wcm90b3R5cGUuZ2V0U2Vjb25kc10sc3M6W1wiMFswLTldfDFbMC05XXwyWzAtOV18M1swLTldfDRbMC05XXw1WzAtOV1cIixEYXRlLnByb3RvdHlwZS5zZXRTZWNvbmRzLFwic2Vjb25kc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIHBhZChEYXRlLnByb3RvdHlwZS5nZXRTZWNvbmRzLmNhbGwodGhpcyksMil9XSxsOltcIlswLTldezN9XCIsRGF0ZS5wcm90b3R5cGUuc2V0TWlsbGlzZWNvbmRzLFwibWlsbGlzZWNvbmRzXCIsZnVuY3Rpb24oKXtyZXR1cm4gcGFkKERhdGUucHJvdG90eXBlLmdldE1pbGxpc2Vjb25kcy5jYWxsKHRoaXMpLDMpfV0sTDpbXCJbMC05XXsyfVwiLERhdGUucHJvdG90eXBlLnNldE1pbGxpc2Vjb25kcyxcIm1pbGxpc2Vjb25kc1wiLGZ1bmN0aW9uKCl7cmV0dXJuIHBhZChEYXRlLnByb3RvdHlwZS5nZXRNaWxsaXNlY29uZHMuY2FsbCh0aGlzKSwyKX1dLHQ6W1wiW2FwXVwiXSx0dDpbXCJbYXBdbVwiXSxUOltcIltBUF1cIl0sVFQ6W1wiW0FQXU1cIl0sWjpbXCJcIl0sbzpbXCJcIl0sUzpbXCJcIl19LGZvcm1hdEFsaWFzPXtpc29EYXRlOlwieXl5eS1tbS1kZFwiLGlzb1RpbWU6XCJISDpNTTpzc1wiLGlzb0RhdGVUaW1lOlwieXl5eS1tbS1kZCdUJ0hIOk1NOnNzXCIsaXNvVXRjRGF0ZVRpbWU6XCJVVEM6eXl5eS1tbS1kZCdUJ0hIOk1NOnNzJ1onXCJ9O2Z1bmN0aW9uIGdldFRva2VuaXplcihvcHRzKXtpZighb3B0cy50b2tlbml6ZXIpe3ZhciB0b2tlbnM9W107Zm9yKHZhciBuZHggaW4gZm9ybWF0Q29kZSktMT09PXRva2Vucy5pbmRleE9mKG5keFswXSkmJnRva2Vucy5wdXNoKG5keFswXSk7b3B0cy50b2tlbml6ZXI9XCIoXCIrdG9rZW5zLmpvaW4oXCIrfFwiKStcIikrP3wuXCIsb3B0cy50b2tlbml6ZXI9bmV3IFJlZ0V4cChvcHRzLnRva2VuaXplcixcImdcIil9cmV0dXJuIG9wdHMudG9rZW5pemVyfWZ1bmN0aW9uIGlzVmFsaWREYXRlKGRhdGVQYXJ0cyxjdXJyZW50UmVzdWx0KXtyZXR1cm4oIWlzRmluaXRlKGRhdGVQYXJ0cy5yYXdkYXkpfHxcIjI5XCI9PWRhdGVQYXJ0cy5kYXkmJiFpc0Zpbml0ZShkYXRlUGFydHMucmF3eWVhcil8fG5ldyBEYXRlKGRhdGVQYXJ0cy5kYXRlLmdldEZ1bGxZZWFyKCksaXNGaW5pdGUoZGF0ZVBhcnRzLnJhd21vbnRoKT9kYXRlUGFydHMubW9udGg6ZGF0ZVBhcnRzLmRhdGUuZ2V0TW9udGgoKSsxLDApLmdldERhdGUoKT49ZGF0ZVBhcnRzLmRheSkmJmN1cnJlbnRSZXN1bHR9ZnVuY3Rpb24gaXNEYXRlSW5SYW5nZShkYXRlUGFydHMsb3B0cyl7dmFyIHJlc3VsdD0hMDtpZihvcHRzLm1pbil7aWYoZGF0ZVBhcnRzLnJhd3llYXIpe3ZhciByYXdZZWFyPWRhdGVQYXJ0cy5yYXd5ZWFyLnJlcGxhY2UoL1teMC05XS9nLFwiXCIpLG1pblllYXI9b3B0cy5taW4ueWVhci5zdWJzdHIoMCxyYXdZZWFyLmxlbmd0aCk7cmVzdWx0PW1pblllYXI8PXJhd1llYXJ9ZGF0ZVBhcnRzLnllYXI9PT1kYXRlUGFydHMucmF3eWVhciYmb3B0cy5taW4uZGF0ZS5nZXRUaW1lKCk9PW9wdHMubWluLmRhdGUuZ2V0VGltZSgpJiYocmVzdWx0PW9wdHMubWluLmRhdGUuZ2V0VGltZSgpPD1kYXRlUGFydHMuZGF0ZS5nZXRUaW1lKCkpfXJldHVybiByZXN1bHQmJm9wdHMubWF4JiZvcHRzLm1heC5kYXRlLmdldFRpbWUoKT09b3B0cy5tYXguZGF0ZS5nZXRUaW1lKCkmJihyZXN1bHQ9b3B0cy5tYXguZGF0ZS5nZXRUaW1lKCk+PWRhdGVQYXJ0cy5kYXRlLmdldFRpbWUoKSkscmVzdWx0fWZ1bmN0aW9uIHBhcnNlKGZvcm1hdCxkYXRlT2JqVmFsdWUsb3B0cyxyYXcpe2Zvcih2YXIgbWFzaz1cIlwiLG1hdGNoO21hdGNoPWdldFRva2VuaXplcihvcHRzKS5leGVjKGZvcm1hdCk7KWlmKHZvaWQgMD09PWRhdGVPYmpWYWx1ZSlpZihmb3JtYXRDb2RlW21hdGNoWzBdXSltYXNrKz1cIihcIitmb3JtYXRDb2RlW21hdGNoWzBdXVswXStcIilcIjtlbHNlIHN3aXRjaChtYXRjaFswXSl7Y2FzZVwiW1wiOm1hc2srPVwiKFwiO2JyZWFrO2Nhc2VcIl1cIjptYXNrKz1cIik/XCI7YnJlYWs7ZGVmYXVsdDptYXNrKz1JbnB1dG1hc2suZXNjYXBlUmVnZXgobWF0Y2hbMF0pfWVsc2UgaWYoZm9ybWF0Q29kZVttYXRjaFswXV0paWYoITAhPT1yYXcmJmZvcm1hdENvZGVbbWF0Y2hbMF1dWzNdKXt2YXIgZ2V0Rm49Zm9ybWF0Q29kZVttYXRjaFswXV1bM107bWFzays9Z2V0Rm4uY2FsbChkYXRlT2JqVmFsdWUuZGF0ZSl9ZWxzZSBmb3JtYXRDb2RlW21hdGNoWzBdXVsyXT9tYXNrKz1kYXRlT2JqVmFsdWVbXCJyYXdcIitmb3JtYXRDb2RlW21hdGNoWzBdXVsyXV06bWFzays9bWF0Y2hbMF07ZWxzZSBtYXNrKz1tYXRjaFswXTtyZXR1cm4gbWFza31mdW5jdGlvbiBwYWQodmFsLGxlbil7Zm9yKHZhbD1TdHJpbmcodmFsKSxsZW49bGVufHwyO3ZhbC5sZW5ndGg8bGVuOyl2YWw9XCIwXCIrdmFsO3JldHVybiB2YWx9ZnVuY3Rpb24gYW5hbHlzZU1hc2sobWFza1N0cmluZyxmb3JtYXQsb3B0cyl7dmFyIGRhdGVPYmo9e2RhdGU6bmV3IERhdGUoMSwwLDEpfSx0YXJnZXRQcm9wLG1hc2s9bWFza1N0cmluZyxtYXRjaCxkYXRlT3BlcmF0aW9uO2Z1bmN0aW9uIGV4dGVuZFByb3BlcnR5KHZhbHVlKXt2YXIgY29ycmVjdGVkVmFsdWU9dmFsdWUucmVwbGFjZSgvW14wLTldL2csXCIwXCIpO3JldHVybiBjb3JyZWN0ZWRWYWx1ZX1mdW5jdGlvbiBzZXRWYWx1ZShkYXRlT2JqLHZhbHVlLG9wdHMpe2RhdGVPYmpbdGFyZ2V0UHJvcF09ZXh0ZW5kUHJvcGVydHkodmFsdWUpLGRhdGVPYmpbXCJyYXdcIit0YXJnZXRQcm9wXT12YWx1ZSx2b2lkIDAhPT1kYXRlT3BlcmF0aW9uJiZkYXRlT3BlcmF0aW9uLmNhbGwoZGF0ZU9iai5kYXRlLFwibW9udGhcIj09dGFyZ2V0UHJvcD9wYXJzZUludChkYXRlT2JqW3RhcmdldFByb3BdKS0xOmRhdGVPYmpbdGFyZ2V0UHJvcF0pfWlmKFwic3RyaW5nXCI9PXR5cGVvZiBtYXNrKXtmb3IoO21hdGNoPWdldFRva2VuaXplcihvcHRzKS5leGVjKGZvcm1hdCk7KXt2YXIgdmFsdWU9bWFzay5zbGljZSgwLG1hdGNoWzBdLmxlbmd0aCk7Zm9ybWF0Q29kZS5oYXNPd25Qcm9wZXJ0eShtYXRjaFswXSkmJih0YXJnZXRQcm9wPWZvcm1hdENvZGVbbWF0Y2hbMF1dWzJdLGRhdGVPcGVyYXRpb249Zm9ybWF0Q29kZVttYXRjaFswXV1bMV0sc2V0VmFsdWUoZGF0ZU9iaix2YWx1ZSxvcHRzKSksbWFzaz1tYXNrLnNsaWNlKHZhbHVlLmxlbmd0aCl9cmV0dXJuIGRhdGVPYmp9aWYobWFzayYmXCJvYmplY3RcIj09PV90eXBlb2YobWFzaykmJm1hc2suaGFzT3duUHJvcGVydHkoXCJkYXRlXCIpKXJldHVybiBtYXNrfUlucHV0bWFzay5leHRlbmRBbGlhc2VzKHtkYXRldGltZTp7bWFzazpmdW5jdGlvbiBtYXNrKG9wdHMpe3JldHVybiBmb3JtYXRDb2RlLlM9b3B0cy5pMThuLm9yZGluYWxTdWZmaXguam9pbihcInxcIiksb3B0cy5pbnB1dEZvcm1hdD1mb3JtYXRBbGlhc1tvcHRzLmlucHV0Rm9ybWF0XXx8b3B0cy5pbnB1dEZvcm1hdCxvcHRzLmRpc3BsYXlGb3JtYXQ9Zm9ybWF0QWxpYXNbb3B0cy5kaXNwbGF5Rm9ybWF0XXx8b3B0cy5kaXNwbGF5Rm9ybWF0fHxvcHRzLmlucHV0Rm9ybWF0LG9wdHMub3V0cHV0Rm9ybWF0PWZvcm1hdEFsaWFzW29wdHMub3V0cHV0Rm9ybWF0XXx8b3B0cy5vdXRwdXRGb3JtYXR8fG9wdHMuaW5wdXRGb3JtYXQsb3B0cy5wbGFjZWhvbGRlcj1cIlwiIT09b3B0cy5wbGFjZWhvbGRlcj9vcHRzLnBsYWNlaG9sZGVyOm9wdHMuaW5wdXRGb3JtYXQucmVwbGFjZSgvW1tcXF1dLyxcIlwiKSxvcHRzLnJlZ2V4PXBhcnNlKG9wdHMuaW5wdXRGb3JtYXQsdm9pZCAwLG9wdHMpLG51bGx9LHBsYWNlaG9sZGVyOlwiXCIsaW5wdXRGb3JtYXQ6XCJpc29EYXRlVGltZVwiLGRpc3BsYXlGb3JtYXQ6dm9pZCAwLG91dHB1dEZvcm1hdDp2b2lkIDAsbWluOm51bGwsbWF4Om51bGwsaTE4bjp7ZGF5TmFtZXM6W1wiTW9uXCIsXCJUdWVcIixcIldlZFwiLFwiVGh1XCIsXCJGcmlcIixcIlNhdFwiLFwiU3VuXCIsXCJNb25kYXlcIixcIlR1ZXNkYXlcIixcIldlZG5lc2RheVwiLFwiVGh1cnNkYXlcIixcIkZyaWRheVwiLFwiU2F0dXJkYXlcIixcIlN1bmRheVwiXSxtb250aE5hbWVzOltcIkphblwiLFwiRmViXCIsXCJNYXJcIixcIkFwclwiLFwiTWF5XCIsXCJKdW5cIixcIkp1bFwiLFwiQXVnXCIsXCJTZXBcIixcIk9jdFwiLFwiTm92XCIsXCJEZWNcIixcIkphbnVhcnlcIixcIkZlYnJ1YXJ5XCIsXCJNYXJjaFwiLFwiQXByaWxcIixcIk1heVwiLFwiSnVuZVwiLFwiSnVseVwiLFwiQXVndXN0XCIsXCJTZXB0ZW1iZXJcIixcIk9jdG9iZXJcIixcIk5vdmVtYmVyXCIsXCJEZWNlbWJlclwiXSxvcmRpbmFsU3VmZml4OltcInN0XCIsXCJuZFwiLFwicmRcIixcInRoXCJdfSxwcmVWYWxpZGF0aW9uOmZ1bmN0aW9uIHByZVZhbGlkYXRpb24oYnVmZmVyLHBvcyxjLGlzU2VsZWN0aW9uLG9wdHMsbWFza3NldCl7dmFyIGNhbGNQb3M9MCx0YXJnZXRNYXRjaCxtYXRjaDtpZihpc05hTihjKSYmYnVmZmVyW3Bvc10hPT1jKXtmb3IoO21hdGNoPWdldFRva2VuaXplcihvcHRzKS5leGVjKG9wdHMuaW5wdXRGb3JtYXQpOylpZihjYWxjUG9zKz1tYXRjaFswXS5sZW5ndGgscG9zPD1jYWxjUG9zKXt0YXJnZXRNYXRjaD1tYXRjaCxtYXRjaD1nZXRUb2tlbml6ZXIob3B0cykuZXhlYyhvcHRzLmlucHV0Rm9ybWF0KTticmVha31pZihtYXRjaCYmbWF0Y2hbMF09PT1jJiYxPHRhcmdldE1hdGNoWzBdLmxlbmd0aClyZXR1cm4gYnVmZmVyW3Bvc109YnVmZmVyW3Bvcy0xXSxidWZmZXJbcG9zLTFdPVwiMFwiLHtmdXp6eTohMCxidWZmZXI6YnVmZmVyLHJlZnJlc2hGcm9tQnVmZmVyOntzdGFydDpwb3MtMSxlbmQ6cG9zKzF9LHBvczpwb3MrMX19cmV0dXJuITB9LHBvc3RWYWxpZGF0aW9uOmZ1bmN0aW9uIHBvc3RWYWxpZGF0aW9uKGJ1ZmZlcixwb3MsY3VycmVudFJlc3VsdCxvcHRzKXtvcHRzLm1pbj1hbmFseXNlTWFzayhvcHRzLm1pbixvcHRzLmlucHV0Rm9ybWF0LG9wdHMpLG9wdHMubWF4PWFuYWx5c2VNYXNrKG9wdHMubWF4LG9wdHMuaW5wdXRGb3JtYXQsb3B0cyksY3VycmVudFJlc3VsdC5mdXp6eSYmKGJ1ZmZlcj1jdXJyZW50UmVzdWx0LmJ1ZmZlcixwb3M9Y3VycmVudFJlc3VsdC5wb3MpO3ZhciByZXN1bHQ9Y3VycmVudFJlc3VsdCxkYXRlUGFydHM9YW5hbHlzZU1hc2soYnVmZmVyLmpvaW4oXCJcIiksb3B0cy5pbnB1dEZvcm1hdCxvcHRzKTtyZXR1cm4gcmVzdWx0JiZkYXRlUGFydHMuZGF0ZS5nZXRUaW1lKCk9PWRhdGVQYXJ0cy5kYXRlLmdldFRpbWUoKSYmKHJlc3VsdD1pc1ZhbGlkRGF0ZShkYXRlUGFydHMscmVzdWx0KSxyZXN1bHQ9cmVzdWx0JiZpc0RhdGVJblJhbmdlKGRhdGVQYXJ0cyxvcHRzKSkscG9zJiZyZXN1bHQmJmN1cnJlbnRSZXN1bHQucG9zIT09cG9zP3tidWZmZXI6cGFyc2Uob3B0cy5pbnB1dEZvcm1hdCxkYXRlUGFydHMsb3B0cykscmVmcmVzaEZyb21CdWZmZXI6e3N0YXJ0OnBvcyxlbmQ6Y3VycmVudFJlc3VsdC5wb3N9fTpyZXN1bHR9LG9uS2V5RG93bjpmdW5jdGlvbiBvbktleURvd24oZSxidWZmZXIsY2FyZXRQb3Msb3B0cyl7dmFyIGlucHV0PXRoaXM7aWYoZS5jdHJsS2V5JiZlLmtleUNvZGU9PT1JbnB1dG1hc2sua2V5Q29kZS5SSUdIVCl7Zm9yKHZhciB0b2RheT1uZXcgRGF0ZSxtYXRjaCxkYXRlPVwiXCI7bWF0Y2g9Z2V0VG9rZW5pemVyKG9wdHMpLmV4ZWMob3B0cy5pbnB1dEZvcm1hdCk7KVwiZFwiPT09bWF0Y2hbMF0uY2hhckF0KDApP2RhdGUrPXBhZCh0b2RheS5nZXREYXRlKCksbWF0Y2hbMF0ubGVuZ3RoKTpcIm1cIj09PW1hdGNoWzBdLmNoYXJBdCgwKT9kYXRlKz1wYWQodG9kYXkuZ2V0TW9udGgoKSsxLG1hdGNoWzBdLmxlbmd0aCk6XCJ5eXl5XCI9PT1tYXRjaFswXT9kYXRlKz10b2RheS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCk6XCJ5XCI9PT1tYXRjaFswXS5jaGFyQXQoMCkmJihkYXRlKz1wYWQodG9kYXkuZ2V0WWVhcigpLG1hdGNoWzBdLmxlbmd0aCkpO3RoaXMuaW5wdXRtYXNrLl92YWx1ZVNldChkYXRlKSwkKHRoaXMpLnRyaWdnZXIoXCJzZXR2YWx1ZVwiKX19LG9uVW5NYXNrOmZ1bmN0aW9uIG9uVW5NYXNrKG1hc2tlZFZhbHVlLHVubWFza2VkVmFsdWUsb3B0cyl7cmV0dXJuIHVubWFza2VkVmFsdWU/cGFyc2Uob3B0cy5vdXRwdXRGb3JtYXQsYW5hbHlzZU1hc2sobWFza2VkVmFsdWUsb3B0cy5pbnB1dEZvcm1hdCxvcHRzKSxvcHRzLCEwKTp1bm1hc2tlZFZhbHVlfSxjYXNpbmc6ZnVuY3Rpb24gY2FzaW5nKGVsZW0sdGVzdCxwb3MsdmFsaWRQb3NpdGlvbnMpe3JldHVybiAwPT10ZXN0Lm5hdGl2ZURlZi5pbmRleE9mKFwiW2FwXVwiKT9lbGVtLnRvTG93ZXJDYXNlKCk6MD09dGVzdC5uYXRpdmVEZWYuaW5kZXhPZihcIltBUF1cIik/ZWxlbS50b1VwcGVyQ2FzZSgpOmVsZW19LGluc2VydE1vZGU6ITEsc2hpZnRQb3NpdGlvbnM6ITF9fSksbW9kdWxlLmV4cG9ydHM9SW5wdXRtYXNrfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgSW5wdXRtYXNrPV9fd2VicGFja19yZXF1aXJlX18oMyksJD1JbnB1dG1hc2suZGVwZW5kZW5jeUxpYjtmdW5jdGlvbiBhdXRvRXNjYXBlKHR4dCxvcHRzKXtmb3IodmFyIGVzY2FwZWRUeHQ9XCJcIixpPTA7aTx0eHQubGVuZ3RoO2krKylJbnB1dG1hc2sucHJvdG90eXBlLmRlZmluaXRpb25zW3R4dC5jaGFyQXQoaSldfHxvcHRzLmRlZmluaXRpb25zW3R4dC5jaGFyQXQoaSldfHxvcHRzLm9wdGlvbmFsbWFya2VyLnN0YXJ0PT09dHh0LmNoYXJBdChpKXx8b3B0cy5vcHRpb25hbG1hcmtlci5lbmQ9PT10eHQuY2hhckF0KGkpfHxvcHRzLnF1YW50aWZpZXJtYXJrZXIuc3RhcnQ9PT10eHQuY2hhckF0KGkpfHxvcHRzLnF1YW50aWZpZXJtYXJrZXIuZW5kPT09dHh0LmNoYXJBdChpKXx8b3B0cy5ncm91cG1hcmtlci5zdGFydD09PXR4dC5jaGFyQXQoaSl8fG9wdHMuZ3JvdXBtYXJrZXIuZW5kPT09dHh0LmNoYXJBdChpKXx8b3B0cy5hbHRlcm5hdG9ybWFya2VyPT09dHh0LmNoYXJBdChpKT9lc2NhcGVkVHh0Kz1cIlxcXFxcIit0eHQuY2hhckF0KGkpOmVzY2FwZWRUeHQrPXR4dC5jaGFyQXQoaSk7cmV0dXJuIGVzY2FwZWRUeHR9ZnVuY3Rpb24gYWxpZ25EaWdpdHMoYnVmZmVyLGRpZ2l0cyxvcHRzKXtpZigwPGRpZ2l0cyYmIW9wdHMuZGlnaXRzT3B0aW9uYWwmJjA8YnVmZmVyLmxlbmd0aCl7dmFyIHJhZGl4UG9zaXRpb249JC5pbkFycmF5KG9wdHMucmFkaXhQb2ludCxidWZmZXIpOy0xPT09cmFkaXhQb3NpdGlvbiYmKGJ1ZmZlci5wdXNoKG9wdHMucmFkaXhQb2ludCkscmFkaXhQb3NpdGlvbj1idWZmZXIubGVuZ3RoLTEpO2Zvcih2YXIgaT0xO2k8PWRpZ2l0cztpKyspYnVmZmVyW3JhZGl4UG9zaXRpb24raV09YnVmZmVyW3JhZGl4UG9zaXRpb24raV18fFwiMFwifXJldHVybiBidWZmZXJ9ZnVuY3Rpb24gZmluZFZhbGlkYXRvcihzeW1ib2wsbWFza3NldCl7dmFyIHBvc05keD0wO2lmKFwiK1wiPT09c3ltYm9sKXtmb3IocG9zTmR4IGluIG1hc2tzZXQudmFsaWRQb3NpdGlvbnMpO3Bvc05keD1wYXJzZUludChwb3NOZHgpfWZvcih2YXIgdHN0TmR4IGluIG1hc2tzZXQudGVzdHMpaWYodHN0TmR4PXBhcnNlSW50KHRzdE5keCkscG9zTmR4PD10c3ROZHgpZm9yKHZhciBuZHg9MCxuZHhsPW1hc2tzZXQudGVzdHNbdHN0TmR4XS5sZW5ndGg7bmR4PG5keGw7bmR4KyspaWYoKHZvaWQgMD09PW1hc2tzZXQudmFsaWRQb3NpdGlvbnNbdHN0TmR4XXx8XCItXCI9PT1zeW1ib2wpJiZtYXNrc2V0LnRlc3RzW3RzdE5keF1bbmR4XS5tYXRjaC5kZWY9PT1zeW1ib2wpcmV0dXJuIHRzdE5keCsodm9pZCAwIT09bWFza3NldC52YWxpZFBvc2l0aW9uc1t0c3ROZHhdJiZcIi1cIiE9PXN5bWJvbD8xOjApO3JldHVybiBwb3NOZHh9ZnVuY3Rpb24gZmluZFZhbGlkKHN5bWJvbCxtYXNrc2V0KXt2YXIgcmV0PS0xO3JldHVybiAkLmVhY2gobWFza3NldC52YWxpZFBvc2l0aW9ucyxmdW5jdGlvbihuZHgsdHN0KXtpZih0c3QubWF0Y2guZGVmPT09c3ltYm9sKXJldHVybiByZXQ9cGFyc2VJbnQobmR4KSwhMX0pLHJldH1mdW5jdGlvbiBwYXJzZU1pbk1heE9wdGlvbnMob3B0cyl7dm9pZCAwPT09b3B0cy5wYXJzZU1pbk1heE9wdGlvbnMmJihudWxsIT09b3B0cy5taW4mJihvcHRzLm1pbj1vcHRzLm1pbi50b1N0cmluZygpLnJlcGxhY2UobmV3IFJlZ0V4cChJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5ncm91cFNlcGFyYXRvciksXCJnXCIpLFwiXCIpLFwiLFwiPT09b3B0cy5yYWRpeFBvaW50JiYob3B0cy5taW49b3B0cy5taW4ucmVwbGFjZShvcHRzLnJhZGl4UG9pbnQsXCIuXCIpKSxvcHRzLm1pbj1pc0Zpbml0ZShvcHRzLm1pbik/cGFyc2VGbG9hdChvcHRzLm1pbik6TmFOLGlzTmFOKG9wdHMubWluKSYmKG9wdHMubWluPU51bWJlci5NSU5fVkFMVUUpKSxudWxsIT09b3B0cy5tYXgmJihvcHRzLm1heD1vcHRzLm1heC50b1N0cmluZygpLnJlcGxhY2UobmV3IFJlZ0V4cChJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5ncm91cFNlcGFyYXRvciksXCJnXCIpLFwiXCIpLFwiLFwiPT09b3B0cy5yYWRpeFBvaW50JiYob3B0cy5tYXg9b3B0cy5tYXgucmVwbGFjZShvcHRzLnJhZGl4UG9pbnQsXCIuXCIpKSxvcHRzLm1heD1pc0Zpbml0ZShvcHRzLm1heCk/cGFyc2VGbG9hdChvcHRzLm1heCk6TmFOLGlzTmFOKG9wdHMubWF4KSYmKG9wdHMubWF4PU51bWJlci5NQVhfVkFMVUUpKSxvcHRzLnBhcnNlTWluTWF4T3B0aW9ucz1cImRvbmVcIil9ZnVuY3Rpb24gZ2VuTWFzayhvcHRzKXtvcHRzLnJlcGVhdD0wLG9wdHMuZ3JvdXBTZXBhcmF0b3I9PT1vcHRzLnJhZGl4UG9pbnQmJm9wdHMuZGlnaXRzJiZcIjBcIiE9PW9wdHMuZGlnaXRzJiYoXCIuXCI9PT1vcHRzLnJhZGl4UG9pbnQ/b3B0cy5ncm91cFNlcGFyYXRvcj1cIixcIjpcIixcIj09PW9wdHMucmFkaXhQb2ludD9vcHRzLmdyb3VwU2VwYXJhdG9yPVwiLlwiOm9wdHMuZ3JvdXBTZXBhcmF0b3I9XCJcIiksXCIgXCI9PT1vcHRzLmdyb3VwU2VwYXJhdG9yJiYob3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyPXZvaWQgMCksMTxvcHRzLnBsYWNlaG9sZGVyLmxlbmd0aCYmKG9wdHMucGxhY2Vob2xkZXI9b3B0cy5wbGFjZWhvbGRlci5jaGFyQXQoMCkpLFwicmFkaXhGb2N1c1wiPT09b3B0cy5wb3NpdGlvbkNhcmV0T25DbGljayYmXCJcIj09PW9wdHMucGxhY2Vob2xkZXImJihvcHRzLnBvc2l0aW9uQ2FyZXRPbkNsaWNrPVwibHZwXCIpO3ZhciBkZWNpbWFsRGVmPVwiMFwiOyEwPT09b3B0cy5udW1lcmljSW5wdXQmJnZvaWQgMD09PW9wdHMuX19maW5hbmNlSW5wdXQ/KGRlY2ltYWxEZWY9XCIxXCIsb3B0cy5wb3NpdGlvbkNhcmV0T25DbGljaz1cInJhZGl4Rm9jdXNcIj09PW9wdHMucG9zaXRpb25DYXJldE9uQ2xpY2s/XCJsdnBcIjpvcHRzLnBvc2l0aW9uQ2FyZXRPbkNsaWNrLGlzTmFOKG9wdHMuZGlnaXRzKSYmKG9wdHMuZGlnaXRzPTIpLG9wdHMuX3JhZGl4RGFuY2U9ITEpOihvcHRzLl9fZmluYW5jZUlucHV0PSExLG9wdHMubnVtZXJpY0lucHV0PSEwKTt2YXIgbWFzaz1cIlsrXVwiLGFsdE1hc2s7aWYobWFzays9YXV0b0VzY2FwZShvcHRzLnByZWZpeCxvcHRzKSxcIlwiIT09b3B0cy5ncm91cFNlcGFyYXRvcj9tYXNrKz1vcHRzLl9tYXNrKG9wdHMpOm1hc2srPVwiOXsrfVwiLHZvaWQgMCE9PW9wdHMuZGlnaXRzKXt2YXIgZHE9b3B0cy5kaWdpdHMudG9TdHJpbmcoKS5zcGxpdChcIixcIik7aXNGaW5pdGUoZHFbMF0pJiZkcVsxXSYmaXNGaW5pdGUoZHFbMV0pP21hc2srPW9wdHMucmFkaXhQb2ludCtkZWNpbWFsRGVmK1wie1wiK29wdHMuZGlnaXRzK1wifVwiOihpc05hTihvcHRzLmRpZ2l0cyl8fDA8cGFyc2VJbnQob3B0cy5kaWdpdHMpKSYmKG9wdHMuZGlnaXRzT3B0aW9uYWw/KGFsdE1hc2s9bWFzaytvcHRzLnJhZGl4UG9pbnQrZGVjaW1hbERlZitcInswLFwiK29wdHMuZGlnaXRzK1wifVwiLG9wdHMua2VlcFN0YXRpYz0hMCk6bWFzays9b3B0cy5yYWRpeFBvaW50K2RlY2ltYWxEZWYrXCJ7XCIrb3B0cy5kaWdpdHMrXCJ9XCIpfXJldHVybiBtYXNrKz1hdXRvRXNjYXBlKG9wdHMuc3VmZml4LG9wdHMpLG1hc2srPVwiWy1dXCIsYWx0TWFzayYmKG1hc2s9W2FsdE1hc2srYXV0b0VzY2FwZShvcHRzLnN1ZmZpeCxvcHRzKStcIlstXVwiLG1hc2tdKSxvcHRzLmdyZWVkeT0hMSxwYXJzZU1pbk1heE9wdGlvbnMob3B0cyksbWFza31mdW5jdGlvbiBoYW5uZGxlUmFkaXhEYW5jZShwb3MsYyxyYWRpeFBvcyxvcHRzKXtyZXR1cm4gb3B0cy5fcmFkaXhEYW5jZSYmb3B0cy5udW1lcmljSW5wdXQmJmMhPT1vcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2smJnBvczw9cmFkaXhQb3MmJigwPHJhZGl4UG9zfHxjPT1vcHRzLnJhZGl4UG9pbnQpJiYocG9zLT0xKSxwb3N9ZnVuY3Rpb24gZGVjaW1hbFZhbGlkYXRvcihjaHJzLG1hc2tzZXQscG9zLHN0cmljdCxvcHRzKXt2YXIgcmFkaXhQb3M9bWFza3NldC5idWZmZXIuaW5kZXhPZihvcHRzLnJhZGl4UG9pbnQpLHJlc3VsdD0tMSE9PXJhZGl4UG9zJiZuZXcgUmVnRXhwKFwiWzAtOVxcdWZmMTEtXFx1ZmYxOV1cIikudGVzdChjaHJzKTtyZXR1cm4gb3B0cy5fcmFkaXhEYW5jZSYmcmVzdWx0JiZudWxsPT1tYXNrc2V0LnZhbGlkUG9zaXRpb25zW3JhZGl4UG9zXT97aW5zZXJ0Ontwb3M6cmFkaXhQb3M9PT1wb3M/cmFkaXhQb3MrMTpyYWRpeFBvcyxjOm9wdHMucmFkaXhQb2ludH0scG9zOnBvc306cmVzdWx0fWZ1bmN0aW9uIGNoZWNrRm9yTGVhZGluZ1plcm9lcyhidWZmZXIsb3B0cyl7dmFyIG51bWJlck1hdGNoZXM9bmV3IFJlZ0V4cChcIiheXCIrKFwiXCIhPW9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQ/SW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpK1wiP1wiOlwiXCIpK0lucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLnByZWZpeCkrXCIpKC4qKShcIitJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5zdWZmaXgpKyhcIlwiIT1vcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2s/SW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMubmVnYXRpb25TeW1ib2wuYmFjaykrXCI/XCI6XCJcIikrXCIkKVwiKS5leGVjKGJ1ZmZlci5zbGljZSgpLnJldmVyc2UoKS5qb2luKFwiXCIpKSxudW1iZXI9bnVtYmVyTWF0Y2hlcz9udW1iZXJNYXRjaGVzWzJdOlwiXCIsbGVhZGluZ3plcm9lcz0hMTtyZXR1cm4gbnVtYmVyJiYobnVtYmVyPW51bWJlci5zcGxpdChvcHRzLnJhZGl4UG9pbnQuY2hhckF0KDApKVswXSxsZWFkaW5nemVyb2VzPW5ldyBSZWdFeHAoXCJeWzBcIitvcHRzLmdyb3VwU2VwYXJhdG9yK1wiXSpcIikuZXhlYyhudW1iZXIpKSwhKCFsZWFkaW5nemVyb2VzfHwhKDE8bGVhZGluZ3plcm9lc1swXS5sZW5ndGh8fDA8bGVhZGluZ3plcm9lc1swXS5sZW5ndGgmJmxlYWRpbmd6ZXJvZXNbMF0ubGVuZ3RoPG51bWJlci5sZW5ndGgpKSYmbGVhZGluZ3plcm9lc31JbnB1dG1hc2suZXh0ZW5kQWxpYXNlcyh7bnVtZXJpYzp7bWFzazpnZW5NYXNrLF9tYXNrOmZ1bmN0aW9uIF9tYXNrKG9wdHMpe3JldHVyblwiKFwiK29wdHMuZ3JvdXBTZXBhcmF0b3IrXCI5OTkpeyt8MX1cIn0scGxhY2Vob2xkZXI6XCIwXCIsZ3JlZWR5OiExLGRpZ2l0czpcIipcIixkaWdpdHNPcHRpb25hbDohMCxlbmZvcmNlRGlnaXRzT25CbHVyOiExLHJhZGl4UG9pbnQ6XCIuXCIscG9zaXRpb25DYXJldE9uQ2xpY2s6XCJyYWRpeEZvY3VzXCIsX3JhZGl4RGFuY2U6ITAsZ3JvdXBTZXBhcmF0b3I6XCJcIixhbGxvd01pbnVzOiEwLG5lZ2F0aW9uU3ltYm9sOntmcm9udDpcIi1cIixiYWNrOlwiXCJ9LHByZWZpeDpcIlwiLHN1ZmZpeDpcIlwiLHJpZ2h0QWxpZ246ITAsbWluOm51bGwsbWF4Om51bGwsc3RlcDoxLGluc2VydE1vZGU6ITAsYXV0b1VubWFzazohMSx1bm1hc2tBc051bWJlcjohMSxpbnB1dG1vZGU6XCJudW1lcmljXCIsZGVmaW5pdGlvbnM6ezA6e3ZhbGlkYXRvcjpkZWNpbWFsVmFsaWRhdG9yfSwxOnt2YWxpZGF0b3I6ZGVjaW1hbFZhbGlkYXRvcixkZWZpbml0aW9uU3ltYm9sOlwiKlwifSxcIitcIjp7dmFsaWRhdG9yOmZ1bmN0aW9uIHZhbGlkYXRvcihjaHJzLG1hc2tzZXQscG9zLHN0cmljdCxvcHRzKXtyZXR1cm4gb3B0cy5hbGxvd01pbnVzJiYoXCItXCI9PT1jaHJzfHxjaHJzPT09b3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCl9fSxcIi1cIjp7dmFsaWRhdG9yOmZ1bmN0aW9uIHZhbGlkYXRvcihjaHJzLG1hc2tzZXQscG9zLHN0cmljdCxvcHRzKXtyZXR1cm4gb3B0cy5hbGxvd01pbnVzJiZjaHJzPT09b3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrfX19LHByZVZhbGlkYXRpb246ZnVuY3Rpb24gcHJlVmFsaWRhdGlvbihidWZmZXIscG9zLGMsaXNTZWxlY3Rpb24sb3B0cyxtYXNrc2V0LGNhcmV0UG9zKXt2YXIgcmFkaXhQb3M9JC5pbkFycmF5KG9wdHMucmFkaXhQb2ludCxidWZmZXIpO2lmKHBvcz1oYW5uZGxlUmFkaXhEYW5jZShwb3MsYyxyYWRpeFBvcyxvcHRzKSxcIi1cIiE9PWMmJmMhPT1vcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250KXJldHVybi0xIT09cmFkaXhQb3MmJiEwPT09b3B0cy5fcmFkaXhEYW5jZSYmITE9PT1pc1NlbGVjdGlvbiYmYz09PW9wdHMucmFkaXhQb2ludCYmdm9pZCAwIT09b3B0cy5kaWdpdHMmJihpc05hTihvcHRzLmRpZ2l0cyl8fDA8cGFyc2VJbnQob3B0cy5kaWdpdHMpKSYmcmFkaXhQb3MhPT1wb3M/e2NhcmV0Om9wdHMuX3JhZGl4RGFuY2UmJnBvcz09PXJhZGl4UG9zLTE/cmFkaXhQb3MrMTpyYWRpeFBvc306e3Jld3JpdGVQb3NpdGlvbjppc1NlbGVjdGlvbiYmY2FyZXRQb3MuZW5kPHJhZGl4UG9zP3JhZGl4UG9zOnBvc307aWYoITAhPT1vcHRzLmFsbG93TWludXMpcmV0dXJuITE7dmFyIGlzTmVnYXRpdmU9ITEsZnJvbnQ9ZmluZFZhbGlkKFwiK1wiLG1hc2tzZXQpLGJhY2s9ZmluZFZhbGlkKFwiLVwiLG1hc2tzZXQpO3JldHVybi0xIT09ZnJvbnQmJihpc05lZ2F0aXZlPVtmcm9udCxiYWNrXSksITEhPT1pc05lZ2F0aXZlP3tyZW1vdmU6aXNOZWdhdGl2ZSxjYXJldDpwb3M8cmFkaXhQb3M/cG9zKzE6cG9zfTp7aW5zZXJ0Olt7cG9zOmZpbmRWYWxpZGF0b3IoXCIrXCIsbWFza3NldCksYzpvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250LGZyb21Jc1ZhbGlkOiEwfSx7cG9zOmZpbmRWYWxpZGF0b3IoXCItXCIsbWFza3NldCksYzpvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2ssZnJvbUlzVmFsaWQ6dm9pZCAwfV0sY2FyZXQ6cG9zPHJhZGl4UG9zP3BvcysxOnBvc319LHBvc3RWYWxpZGF0aW9uOmZ1bmN0aW9uIHBvc3RWYWxpZGF0aW9uKGJ1ZmZlcixwb3MsY3VycmVudFJlc3VsdCxvcHRzKXtpZihudWxsIT09b3B0cy5taW58fG51bGwhPT1vcHRzLm1heCl7dmFyIHVubWFza2VkPW9wdHMub25Vbk1hc2soYnVmZmVyLnNsaWNlKCkucmV2ZXJzZSgpLmpvaW4oXCJcIiksdm9pZCAwLCQuZXh0ZW5kKHt9LG9wdHMse3VubWFza0FzTnVtYmVyOiEwfSkpO2lmKG51bGwhPT1vcHRzLm1pbiYmdW5tYXNrZWQ8b3B0cy5taW4mJnVubWFza2VkLnRvU3RyaW5nKCkubGVuZ3RoPj1vcHRzLm1pbi50b1N0cmluZygpLmxlbmd0aClyZXR1cm4hMTtpZihudWxsIT09b3B0cy5tYXgmJnVubWFza2VkPm9wdHMubWF4KXJldHVybiExfXJldHVybiBjdXJyZW50UmVzdWx0fSxvblVuTWFzazpmdW5jdGlvbiBvblVuTWFzayhtYXNrZWRWYWx1ZSx1bm1hc2tlZFZhbHVlLG9wdHMpe2lmKFwiXCI9PT11bm1hc2tlZFZhbHVlJiYhMD09PW9wdHMubnVsbGFibGUpcmV0dXJuIHVubWFza2VkVmFsdWU7dmFyIHByb2Nlc3NWYWx1ZT1tYXNrZWRWYWx1ZS5yZXBsYWNlKG9wdHMucHJlZml4LFwiXCIpO3JldHVybiBwcm9jZXNzVmFsdWU9cHJvY2Vzc1ZhbHVlLnJlcGxhY2Uob3B0cy5zdWZmaXgsXCJcIikscHJvY2Vzc1ZhbHVlPXByb2Nlc3NWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMuZ3JvdXBTZXBhcmF0b3IpLFwiZ1wiKSxcIlwiKSxcIlwiIT09b3B0cy5wbGFjZWhvbGRlci5jaGFyQXQoMCkmJihwcm9jZXNzVmFsdWU9cHJvY2Vzc1ZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChvcHRzLnBsYWNlaG9sZGVyLmNoYXJBdCgwKSxcImdcIiksXCIwXCIpKSxvcHRzLnVubWFza0FzTnVtYmVyPyhcIlwiIT09b3B0cy5yYWRpeFBvaW50JiYtMSE9PXByb2Nlc3NWYWx1ZS5pbmRleE9mKG9wdHMucmFkaXhQb2ludCkmJihwcm9jZXNzVmFsdWU9cHJvY2Vzc1ZhbHVlLnJlcGxhY2UoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4LmNhbGwodGhpcyxvcHRzLnJhZGl4UG9pbnQpLFwiLlwiKSkscHJvY2Vzc1ZhbHVlPXByb2Nlc3NWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoXCJeXCIrSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpKSxcIi1cIikscHJvY2Vzc1ZhbHVlPXByb2Nlc3NWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMubmVnYXRpb25TeW1ib2wuYmFjaykrXCIkXCIpLFwiXCIpLE51bWJlcihwcm9jZXNzVmFsdWUpKTpwcm9jZXNzVmFsdWV9LGlzQ29tcGxldGU6ZnVuY3Rpb24gaXNDb21wbGV0ZShidWZmZXIsb3B0cyl7dmFyIG1hc2tlZFZhbHVlPShvcHRzLm51bWVyaWNJbnB1dD9idWZmZXIuc2xpY2UoKS5yZXZlcnNlKCk6YnVmZmVyKS5qb2luKFwiXCIpO3JldHVybiBtYXNrZWRWYWx1ZT1tYXNrZWRWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoXCJeXCIrSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpKSxcIi1cIiksbWFza2VkVmFsdWU9bWFza2VkVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2spK1wiJFwiKSxcIlwiKSxtYXNrZWRWYWx1ZT1tYXNrZWRWYWx1ZS5yZXBsYWNlKG9wdHMucHJlZml4LFwiXCIpLG1hc2tlZFZhbHVlPW1hc2tlZFZhbHVlLnJlcGxhY2Uob3B0cy5zdWZmaXgsXCJcIiksbWFza2VkVmFsdWU9bWFza2VkVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLmdyb3VwU2VwYXJhdG9yKStcIihbMC05XXszfSlcIixcImdcIiksXCIkMVwiKSxcIixcIj09PW9wdHMucmFkaXhQb2ludCYmKG1hc2tlZFZhbHVlPW1hc2tlZFZhbHVlLnJlcGxhY2UoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMucmFkaXhQb2ludCksXCIuXCIpKSxpc0Zpbml0ZShtYXNrZWRWYWx1ZSl9LG9uQmVmb3JlTWFzazpmdW5jdGlvbiBvbkJlZm9yZU1hc2soaW5pdGlhbFZhbHVlLG9wdHMpe3ZhciByYWRpeFBvaW50PW9wdHMucmFkaXhQb2ludHx8XCIsXCI7XCJudW1iZXJcIiE9dHlwZW9mIGluaXRpYWxWYWx1ZSYmXCJudW1iZXJcIiE9PW9wdHMuaW5wdXRUeXBlfHxcIlwiPT09cmFkaXhQb2ludHx8KGluaXRpYWxWYWx1ZT1pbml0aWFsVmFsdWUudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLHJhZGl4UG9pbnQpKTt2YXIgdmFsdWVQYXJ0cz1pbml0aWFsVmFsdWUuc3BsaXQocmFkaXhQb2ludCksaW50ZWdlclBhcnQ9dmFsdWVQYXJ0c1swXS5yZXBsYWNlKC9bXlxcLTAtOV0vZyxcIlwiKSxkZWNpbWFsUGFydD0xPHZhbHVlUGFydHMubGVuZ3RoP3ZhbHVlUGFydHNbMV0ucmVwbGFjZSgvW14wLTldL2csXCJcIik6XCJcIjtpbml0aWFsVmFsdWU9aW50ZWdlclBhcnQrKFwiXCIhPT1kZWNpbWFsUGFydD9yYWRpeFBvaW50K2RlY2ltYWxQYXJ0OmRlY2ltYWxQYXJ0KTt2YXIgZGlnaXRzPTA7aWYoXCJcIiE9PXJhZGl4UG9pbnQmJihkaWdpdHM9ZGVjaW1hbFBhcnQubGVuZ3RoLFwiXCIhPT1kZWNpbWFsUGFydCkpe3ZhciBkaWdpdHNGYWN0b3I9TWF0aC5wb3coMTAsZGlnaXRzfHwxKTtpc0Zpbml0ZShvcHRzLmRpZ2l0cykmJihkaWdpdHM9cGFyc2VJbnQob3B0cy5kaWdpdHMpLGRpZ2l0c0ZhY3Rvcj1NYXRoLnBvdygxMCxkaWdpdHMpKSxpbml0aWFsVmFsdWU9aW5pdGlhbFZhbHVlLnJlcGxhY2UoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KHJhZGl4UG9pbnQpLFwiLlwiKSxpc0Zpbml0ZShpbml0aWFsVmFsdWUpJiYoaW5pdGlhbFZhbHVlPU1hdGgucm91bmQocGFyc2VGbG9hdChpbml0aWFsVmFsdWUpKmRpZ2l0c0ZhY3RvcikvZGlnaXRzRmFjdG9yKSxpbml0aWFsVmFsdWU9aW5pdGlhbFZhbHVlLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIixyYWRpeFBvaW50KX1yZXR1cm4gMD09PW9wdHMuZGlnaXRzJiYtMSE9PWluaXRpYWxWYWx1ZS5pbmRleE9mKElucHV0bWFzay5lc2NhcGVSZWdleChyYWRpeFBvaW50KSkmJihpbml0aWFsVmFsdWU9aW5pdGlhbFZhbHVlLnN1YnN0cmluZygwLGluaXRpYWxWYWx1ZS5pbmRleE9mKElucHV0bWFzay5lc2NhcGVSZWdleChyYWRpeFBvaW50KSkpKSxhbGlnbkRpZ2l0cyhpbml0aWFsVmFsdWUudG9TdHJpbmcoKS5zcGxpdChcIlwiKSxkaWdpdHMsb3B0cykuam9pbihcIlwiKX0sb25CZWZvcmVXcml0ZTpmdW5jdGlvbiBvbkJlZm9yZVdyaXRlKGUsYnVmZmVyLGNhcmV0UG9zLG9wdHMpe3ZhciByZXN1bHQsbGVhZGluZ3plcm9lcz1jaGVja0ZvckxlYWRpbmdaZXJvZXMoYnVmZmVyLG9wdHMpO2lmKGxlYWRpbmd6ZXJvZXMpe3ZhciBidWY9YnVmZmVyLnNsaWNlKCkucmV2ZXJzZSgpLGNhcmV0TmR4PWJ1Zi5qb2luKFwiXCIpLmluZGV4T2YobGVhZGluZ3plcm9lc1swXSk7YnVmLnNwbGljZShjYXJldE5keCxsZWFkaW5nemVyb2VzWzBdLmxlbmd0aCk7dmFyIG5ld0NhcmV0UG9zPWJ1Zi5sZW5ndGgtY2FyZXROZHg7cmVzdWx0PXtyZWZyZXNoRnJvbUJ1ZmZlcjohMCxidWZmZXI6YnVmLnJldmVyc2UoKSxjYXJldDpjYXJldFBvczxuZXdDYXJldFBvcz9jYXJldFBvczpuZXdDYXJldFBvc319aWYoZSlzd2l0Y2goZS50eXBlKXtjYXNlXCJibHVyXCI6Y2FzZVwiY2hlY2t2YWxcIjpcIlwiIT09b3B0cy5yYWRpeFBvaW50JiZidWZmZXJbMF09PT1vcHRzLnJhZGl4UG9pbnQmJihyZXN1bHQmJnJlc3VsdC5idWZmZXI/cmVzdWx0LmJ1ZmZlci5zaGlmdCgpOihidWZmZXIuc2hpZnQoKSxyZXN1bHQ9e3JlZnJlc2hGcm9tQnVmZmVyOiEwLGJ1ZmZlcjpidWZmZXJ9KSl9cmV0dXJuIHJlc3VsdH0sb25LZXlEb3duOmZ1bmN0aW9uIG9uS2V5RG93bihlLGJ1ZmZlcixjYXJldFBvcyxvcHRzKXt2YXIgJGlucHV0PSQodGhpcyk7aWYoZS5jdHJsS2V5KXN3aXRjaChlLmtleUNvZGUpe2Nhc2UgSW5wdXRtYXNrLmtleUNvZGUuVVA6cmV0dXJuIHRoaXMuaW5wdXRtYXNrLl9fdmFsdWVTZXQuY2FsbCh0aGlzLHBhcnNlRmxvYXQodGhpcy5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpKStwYXJzZUludChvcHRzLnN0ZXApKSwkaW5wdXQudHJpZ2dlcihcInNldHZhbHVlXCIpLCExO2Nhc2UgSW5wdXRtYXNrLmtleUNvZGUuRE9XTjpyZXR1cm4gdGhpcy5pbnB1dG1hc2suX192YWx1ZVNldC5jYWxsKHRoaXMscGFyc2VGbG9hdCh0aGlzLmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCkpLXBhcnNlSW50KG9wdHMuc3RlcCkpLCRpbnB1dC50cmlnZ2VyKFwic2V0dmFsdWVcIiksITF9aWYoIShlLnNoaWZ0S2V5fHxlLmtleUNvZGUhPT1JbnB1dG1hc2sua2V5Q29kZS5ERUxFVEUmJmUua2V5Q29kZSE9PUlucHV0bWFzay5rZXlDb2RlLkJBQ0tTUEFDRSYmZS5rZXlDb2RlIT09SW5wdXRtYXNrLmtleUNvZGUuQkFDS1NQQUNFX1NBRkFSSXx8ITAhPT1vcHRzLl9yYWRpeERhbmNlfHxvcHRzLmRpZ2l0c09wdGlvbmFsKSl7dmFyIHJhZGl4UG9zPSQuaW5BcnJheShvcHRzLnJhZGl4UG9pbnQsYnVmZmVyKTtpZigtMSE9PXJhZGl4UG9zJiYoY2FyZXRQb3MuYmVnaW48cmFkaXhQb3N8fGUua2V5Q29kZT09PUlucHV0bWFzay5rZXlDb2RlLkRFTEVURSYmY2FyZXRQb3MuYmVnaW49PT1yYWRpeFBvcykpe2Uua2V5Q29kZSE9PUlucHV0bWFzay5rZXlDb2RlLkJBQ0tTUEFDRSYmZS5rZXlDb2RlIT09SW5wdXRtYXNrLmtleUNvZGUuQkFDS1NQQUNFX1NBRkFSSXx8Y2FyZXRQb3MuYmVnaW4rKzt2YXIgYmZmcj1idWZmZXIuc2xpY2UoKS5yZXZlcnNlKCk7cmV0dXJuIGJmZnIuc3BsaWNlKGJmZnIubGVuZ3RoLWNhcmV0UG9zLmJlZ2luLDEpLCRpbnB1dC50cmlnZ2VyKFwic2V0dmFsdWVcIixbYWxpZ25EaWdpdHMoYmZmcixvcHRzLmRpZ2l0cyxvcHRzKS5qb2luKFwiXCIpLGNhcmV0UG9zLmJlZ2luXSksITF9fX19LGN1cnJlbmN5OntwcmVmaXg6XCIkIFwiLGdyb3VwU2VwYXJhdG9yOlwiLFwiLGFsaWFzOlwibnVtZXJpY1wiLHBsYWNlaG9sZGVyOlwiMFwiLGRpZ2l0czoyLGRpZ2l0c09wdGlvbmFsOiExfSxkZWNpbWFsOnthbGlhczpcIm51bWVyaWNcIn0saW50ZWdlcjp7YWxpYXM6XCJudW1lcmljXCIsZGlnaXRzOjB9LHBlcmNlbnRhZ2U6e2FsaWFzOlwiaW50ZWdlclwiLG1pbjowLG1heDoxMDAsc3VmZml4OlwiICVcIixhbGxvd01pbnVzOiExfSxpbmRpYW5uczp7YWxpYXM6XCJudW1lcmljXCIsX21hc2s6ZnVuY3Rpb24gX21hc2sob3B0cyl7cmV0dXJuXCIoXCIrb3B0cy5ncm91cFNlcGFyYXRvcitcIjk5KXsqfDF9KFwiK29wdHMuZ3JvdXBTZXBhcmF0b3IrXCI5OTkpezF8MX1cIn0sZ3JvdXBTZXBhcmF0b3I6XCIsXCIscmFkaXhQb2ludDpcIi5cIixwbGFjZWhvbGRlcjpcIjBcIixkaWdpdHM6MixkaWdpdHNPcHRpb25hbDohMX19KSxtb2R1bGUuZXhwb3J0cz1JbnB1dG1hc2t9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe2Z1bmN0aW9uIF90eXBlb2Yob2JqKXtyZXR1cm4gX3R5cGVvZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24gX3R5cGVvZihvYmope3JldHVybiB0eXBlb2Ygb2JqfTpmdW5jdGlvbiBfdHlwZW9mKG9iail7cmV0dXJuIG9iaiYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZvYmouY29uc3RydWN0b3I9PT1TeW1ib2wmJm9iaiE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2Ygb2JqfSxfdHlwZW9mKG9iail9dmFyICQ9X193ZWJwYWNrX3JlcXVpcmVfXyg1KSxJbnB1dG1hc2s9X193ZWJwYWNrX3JlcXVpcmVfXygzKTt2b2lkIDA9PT0kLmZuLmlucHV0bWFzayYmKCQuZm4uaW5wdXRtYXNrPWZ1bmN0aW9uKGZuLG9wdGlvbnMpe3ZhciBucHRtYXNrLGlucHV0PXRoaXNbMF07aWYodm9pZCAwPT09b3B0aW9ucyYmKG9wdGlvbnM9e30pLFwic3RyaW5nXCI9PXR5cGVvZiBmbilzd2l0Y2goZm4pe2Nhc2VcInVubWFza2VkdmFsdWVcIjpyZXR1cm4gaW5wdXQmJmlucHV0LmlucHV0bWFzaz9pbnB1dC5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpOiQoaW5wdXQpLnZhbCgpO2Nhc2VcInJlbW92ZVwiOnJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLmlucHV0bWFzayYmdGhpcy5pbnB1dG1hc2sucmVtb3ZlKCl9KTtjYXNlXCJnZXRlbXB0eW1hc2tcIjpyZXR1cm4gaW5wdXQmJmlucHV0LmlucHV0bWFzaz9pbnB1dC5pbnB1dG1hc2suZ2V0ZW1wdHltYXNrKCk6XCJcIjtjYXNlXCJoYXNNYXNrZWRWYWx1ZVwiOnJldHVybiEoIWlucHV0fHwhaW5wdXQuaW5wdXRtYXNrKSYmaW5wdXQuaW5wdXRtYXNrLmhhc01hc2tlZFZhbHVlKCk7Y2FzZVwiaXNDb21wbGV0ZVwiOnJldHVybiFpbnB1dHx8IWlucHV0LmlucHV0bWFza3x8aW5wdXQuaW5wdXRtYXNrLmlzQ29tcGxldGUoKTtjYXNlXCJnZXRtZXRhZGF0YVwiOnJldHVybiBpbnB1dCYmaW5wdXQuaW5wdXRtYXNrP2lucHV0LmlucHV0bWFzay5nZXRtZXRhZGF0YSgpOnZvaWQgMDtjYXNlXCJzZXR2YWx1ZVwiOklucHV0bWFzay5zZXRWYWx1ZShpbnB1dCxvcHRpb25zKTticmVhaztjYXNlXCJvcHRpb25cIjppZihcInN0cmluZ1wiIT10eXBlb2Ygb3B0aW9ucylyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYodm9pZCAwIT09dGhpcy5pbnB1dG1hc2spcmV0dXJuIHRoaXMuaW5wdXRtYXNrLm9wdGlvbihvcHRpb25zKX0pO2lmKGlucHV0JiZ2b2lkIDAhPT1pbnB1dC5pbnB1dG1hc2spcmV0dXJuIGlucHV0LmlucHV0bWFzay5vcHRpb24ob3B0aW9ucyk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gb3B0aW9ucy5hbGlhcz1mbixucHRtYXNrPW5ldyBJbnB1dG1hc2sob3B0aW9ucyksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bnB0bWFzay5tYXNrKHRoaXMpfSl9ZWxzZXtpZihBcnJheS5pc0FycmF5KGZuKSlyZXR1cm4gb3B0aW9ucy5hbGlhcz1mbixucHRtYXNrPW5ldyBJbnB1dG1hc2sob3B0aW9ucyksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bnB0bWFzay5tYXNrKHRoaXMpfSk7aWYoXCJvYmplY3RcIj09X3R5cGVvZihmbikpcmV0dXJuIG5wdG1hc2s9bmV3IElucHV0bWFzayhmbiksdm9pZCAwPT09Zm4ubWFzayYmdm9pZCAwPT09Zm4uYWxpYXM/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYodm9pZCAwIT09dGhpcy5pbnB1dG1hc2spcmV0dXJuIHRoaXMuaW5wdXRtYXNrLm9wdGlvbihmbik7bnB0bWFzay5tYXNrKHRoaXMpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7bnB0bWFzay5tYXNrKHRoaXMpfSk7aWYodm9pZCAwPT09Zm4pcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe25wdG1hc2s9bmV3IElucHV0bWFzayhvcHRpb25zKSxucHRtYXNrLm1hc2sodGhpcyl9KX19KX1dLGluc3RhbGxlZE1vZHVsZXM9e30sX193ZWJwYWNrX3JlcXVpcmVfXy5tPW1vZHVsZXMsX193ZWJwYWNrX3JlcXVpcmVfXy5jPWluc3RhbGxlZE1vZHVsZXMsX193ZWJwYWNrX3JlcXVpcmVfXy5kPWZ1bmN0aW9uKGV4cG9ydHMsbmFtZSxnZXR0ZXIpe19fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLG5hbWUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxuYW1lLHtlbnVtZXJhYmxlOiEwLGdldDpnZXR0ZXJ9KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5yPWZ1bmN0aW9uKGV4cG9ydHMpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LF9fd2VicGFja19yZXF1aXJlX18udD1mdW5jdGlvbih2YWx1ZSxtb2RlKXtpZigxJm1vZGUmJih2YWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKSksOCZtb2RlKXJldHVybiB2YWx1ZTtpZig0Jm1vZGUmJlwib2JqZWN0XCI9PXR5cGVvZiB2YWx1ZSYmdmFsdWUmJnZhbHVlLl9fZXNNb2R1bGUpcmV0dXJuIHZhbHVlO3ZhciBucz1PYmplY3QuY3JlYXRlKG51bGwpO2lmKF9fd2VicGFja19yZXF1aXJlX18ucihucyksT2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnZhbHVlfSksMiZtb2RlJiZcInN0cmluZ1wiIT10eXBlb2YgdmFsdWUpZm9yKHZhciBrZXkgaW4gdmFsdWUpX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLGtleSxmdW5jdGlvbihrZXkpe3JldHVybiB2YWx1ZVtrZXldfS5iaW5kKG51bGwsa2V5KSk7cmV0dXJuIG5zfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm49ZnVuY3Rpb24obW9kdWxlKXt2YXIgZ2V0dGVyPW1vZHVsZSYmbW9kdWxlLl9fZXNNb2R1bGU/ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpe3JldHVybiBtb2R1bGUuZGVmYXVsdH06ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpe3JldHVybiBtb2R1bGV9O3JldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLFwiYVwiLGdldHRlciksZ2V0dGVyfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm89ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCxwcm9wZXJ0eSl9LF9fd2VicGFja19yZXF1aXJlX18ucD1cIlwiLF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zPTApO2Z1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpe2lmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKXJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO3ZhciBtb2R1bGU9aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF09e2k6bW9kdWxlSWQsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gbW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cyxtb2R1bGUsbW9kdWxlLmV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyksbW9kdWxlLmw9ITAsbW9kdWxlLmV4cG9ydHN9dmFyIG1vZHVsZXMsaW5zdGFsbGVkTW9kdWxlc30pO1xyXG4vLyBJb24uUmFuZ2VTbGlkZXIsIDIuMy4wLCDCqSBEZW5pcyBJbmVzaGluLCAyMDEwIC0gMjAxOCwgSW9uRGVuLmNvbSwgQnVpbGQgZGF0ZTogMjAxOC0xMi0xMiAwMDowMDozN1xyXG4hZnVuY3Rpb24oaSl7IWpRdWVyeSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJqcXVlcnlcIl0sZnVuY3Rpb24odCl7cmV0dXJuIGkodCxkb2N1bWVudCx3aW5kb3csbmF2aWdhdG9yKX0pOmpRdWVyeXx8XCJvYmplY3RcIiE9dHlwZW9mIGV4cG9ydHM/aShqUXVlcnksZG9jdW1lbnQsd2luZG93LG5hdmlnYXRvcik6aShyZXF1aXJlKFwianF1ZXJ5XCIpLGRvY3VtZW50LHdpbmRvdyxuYXZpZ2F0b3IpfShmdW5jdGlvbihhLGMsbCx0LF8pe1widXNlIHN0cmljdFwiO3ZhciBpLHMsbz0wLGU9KGk9dC51c2VyQWdlbnQscz0vbXNpZVxcc1xcZCsvaSwwPGkuc2VhcmNoKHMpJiZzLmV4ZWMoaSkudG9TdHJpbmcoKS5zcGxpdChcIiBcIilbMV08OSYmKGEoXCJodG1sXCIpLmFkZENsYXNzKFwibHQtaWU5XCIpLCEwKSk7RnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihvKXt2YXIgZT10aGlzLGg9W10uc2xpY2U7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yO3ZhciByPWguY2FsbChhcmd1bWVudHMsMSksbj1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBuKXt2YXIgdD1mdW5jdGlvbigpe307dC5wcm90b3R5cGU9ZS5wcm90b3R5cGU7dmFyIGk9bmV3IHQscz1lLmFwcGx5KGksci5jb25jYXQoaC5jYWxsKGFyZ3VtZW50cykpKTtyZXR1cm4gT2JqZWN0KHMpPT09cz9zOml9cmV0dXJuIGUuYXBwbHkobyxyLmNvbmNhdChoLmNhbGwoYXJndW1lbnRzKSkpfTtyZXR1cm4gbn0pLEFycmF5LnByb3RvdHlwZS5pbmRleE9mfHwoQXJyYXkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24odCxpKXt2YXIgcztpZihudWxsPT10aGlzKXRocm93IG5ldyBUeXBlRXJyb3IoJ1widGhpc1wiIGlzIG51bGwgb3Igbm90IGRlZmluZWQnKTt2YXIgbz1PYmplY3QodGhpcyksZT1vLmxlbmd0aD4+PjA7aWYoMD09PWUpcmV0dXJuLTE7dmFyIGg9K2l8fDA7aWYoTWF0aC5hYnMoaCk9PT0xLzAmJihoPTApLGU8PWgpcmV0dXJuLTE7Zm9yKHM9TWF0aC5tYXgoMDw9aD9oOmUtTWF0aC5hYnMoaCksMCk7czxlOyl7aWYocyBpbiBvJiZvW3NdPT09dClyZXR1cm4gcztzKyt9cmV0dXJuLTF9KTt2YXIgaD1mdW5jdGlvbih0LGkscyl7dGhpcy5WRVJTSU9OPVwiMi4zLjBcIix0aGlzLmlucHV0PXQsdGhpcy5wbHVnaW5fY291bnQ9cyx0aGlzLmN1cnJlbnRfcGx1Z2luPTAsdGhpcy5jYWxjX2NvdW50PTAsdGhpcy51cGRhdGVfdG09MCx0aGlzLm9sZF9mcm9tPTAsdGhpcy5vbGRfdG89MCx0aGlzLm9sZF9taW5faW50ZXJ2YWw9bnVsbCx0aGlzLnJhZl9pZD1udWxsLHRoaXMuZHJhZ2dpbmc9ITEsdGhpcy5mb3JjZV9yZWRyYXc9ITEsdGhpcy5ub19kaWFwYXNvbj0hMSx0aGlzLmhhc190YWJfaW5kZXg9ITAsdGhpcy5pc19rZXk9ITEsdGhpcy5pc191cGRhdGU9ITEsdGhpcy5pc19zdGFydD0hMCx0aGlzLmlzX2ZpbmlzaD0hMSx0aGlzLmlzX2FjdGl2ZT0hMSx0aGlzLmlzX3Jlc2l6ZT0hMSx0aGlzLmlzX2NsaWNrPSExLGk9aXx8e30sdGhpcy4kY2FjaGU9e3dpbjphKGwpLGJvZHk6YShjLmJvZHkpLGlucHV0OmEodCksY29udDpudWxsLHJzOm51bGwsbWluOm51bGwsbWF4Om51bGwsZnJvbTpudWxsLHRvOm51bGwsc2luZ2xlOm51bGwsYmFyOm51bGwsbGluZTpudWxsLHNfc2luZ2xlOm51bGwsc19mcm9tOm51bGwsc190bzpudWxsLHNoYWRfc2luZ2xlOm51bGwsc2hhZF9mcm9tOm51bGwsc2hhZF90bzpudWxsLGVkZ2U6bnVsbCxncmlkOm51bGwsZ3JpZF9sYWJlbHM6W119LHRoaXMuY29vcmRzPXt4X2dhcDowLHhfcG9pbnRlcjowLHdfcnM6MCx3X3JzX29sZDowLHdfaGFuZGxlOjAscF9nYXA6MCxwX2dhcF9sZWZ0OjAscF9nYXBfcmlnaHQ6MCxwX3N0ZXA6MCxwX3BvaW50ZXI6MCxwX2hhbmRsZTowLHBfc2luZ2xlX2Zha2U6MCxwX3NpbmdsZV9yZWFsOjAscF9mcm9tX2Zha2U6MCxwX2Zyb21fcmVhbDowLHBfdG9fZmFrZTowLHBfdG9fcmVhbDowLHBfYmFyX3g6MCxwX2Jhcl93OjAsZ3JpZF9nYXA6MCxiaWdfbnVtOjAsYmlnOltdLGJpZ193OltdLGJpZ19wOltdLGJpZ194OltdfSx0aGlzLmxhYmVscz17d19taW46MCx3X21heDowLHdfZnJvbTowLHdfdG86MCx3X3NpbmdsZTowLHBfbWluOjAscF9tYXg6MCxwX2Zyb21fZmFrZTowLHBfZnJvbV9sZWZ0OjAscF90b19mYWtlOjAscF90b19sZWZ0OjAscF9zaW5nbGVfZmFrZTowLHBfc2luZ2xlX2xlZnQ6MH07dmFyIG8sZSxoLHI9dGhpcy4kY2FjaGUuaW5wdXQsbj1yLnByb3AoXCJ2YWx1ZVwiKTtmb3IoaCBpbiBvPXtza2luOlwiZmxhdFwiLHR5cGU6XCJzaW5nbGVcIixtaW46MTAsbWF4OjEwMCxmcm9tOm51bGwsdG86bnVsbCxzdGVwOjEsbWluX2ludGVydmFsOjAsbWF4X2ludGVydmFsOjAsZHJhZ19pbnRlcnZhbDohMSx2YWx1ZXM6W10scF92YWx1ZXM6W10sZnJvbV9maXhlZDohMSxmcm9tX21pbjpudWxsLGZyb21fbWF4Om51bGwsZnJvbV9zaGFkb3c6ITEsdG9fZml4ZWQ6ITEsdG9fbWluOm51bGwsdG9fbWF4Om51bGwsdG9fc2hhZG93OiExLHByZXR0aWZ5X2VuYWJsZWQ6ITAscHJldHRpZnlfc2VwYXJhdG9yOlwiIFwiLHByZXR0aWZ5Om51bGwsZm9yY2VfZWRnZXM6ITEsa2V5Ym9hcmQ6ITAsZ3JpZDohMSxncmlkX21hcmdpbjohMCxncmlkX251bTo0LGdyaWRfc25hcDohMSxoaWRlX21pbl9tYXg6ITEsaGlkZV9mcm9tX3RvOiExLHByZWZpeDpcIlwiLHBvc3RmaXg6XCJcIixtYXhfcG9zdGZpeDpcIlwiLGRlY29yYXRlX2JvdGg6ITAsdmFsdWVzX3NlcGFyYXRvcjpcIiDigJQgXCIsaW5wdXRfdmFsdWVzX3NlcGFyYXRvcjpcIjtcIixkaXNhYmxlOiExLGJsb2NrOiExLGV4dHJhX2NsYXNzZXM6XCJcIixzY29wZTpudWxsLG9uU3RhcnQ6bnVsbCxvbkNoYW5nZTpudWxsLG9uRmluaXNoOm51bGwsb25VcGRhdGU6bnVsbH0sXCJJTlBVVFwiIT09clswXS5ub2RlTmFtZSYmY29uc29sZSYmY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4oXCJCYXNlIGVsZW1lbnQgc2hvdWxkIGJlIDxpbnB1dD4hXCIsclswXSksKGU9e3NraW46ci5kYXRhKFwic2tpblwiKSx0eXBlOnIuZGF0YShcInR5cGVcIiksbWluOnIuZGF0YShcIm1pblwiKSxtYXg6ci5kYXRhKFwibWF4XCIpLGZyb206ci5kYXRhKFwiZnJvbVwiKSx0bzpyLmRhdGEoXCJ0b1wiKSxzdGVwOnIuZGF0YShcInN0ZXBcIiksbWluX2ludGVydmFsOnIuZGF0YShcIm1pbkludGVydmFsXCIpLG1heF9pbnRlcnZhbDpyLmRhdGEoXCJtYXhJbnRlcnZhbFwiKSxkcmFnX2ludGVydmFsOnIuZGF0YShcImRyYWdJbnRlcnZhbFwiKSx2YWx1ZXM6ci5kYXRhKFwidmFsdWVzXCIpLGZyb21fZml4ZWQ6ci5kYXRhKFwiZnJvbUZpeGVkXCIpLGZyb21fbWluOnIuZGF0YShcImZyb21NaW5cIiksZnJvbV9tYXg6ci5kYXRhKFwiZnJvbU1heFwiKSxmcm9tX3NoYWRvdzpyLmRhdGEoXCJmcm9tU2hhZG93XCIpLHRvX2ZpeGVkOnIuZGF0YShcInRvRml4ZWRcIiksdG9fbWluOnIuZGF0YShcInRvTWluXCIpLHRvX21heDpyLmRhdGEoXCJ0b01heFwiKSx0b19zaGFkb3c6ci5kYXRhKFwidG9TaGFkb3dcIikscHJldHRpZnlfZW5hYmxlZDpyLmRhdGEoXCJwcmV0dGlmeUVuYWJsZWRcIikscHJldHRpZnlfc2VwYXJhdG9yOnIuZGF0YShcInByZXR0aWZ5U2VwYXJhdG9yXCIpLGZvcmNlX2VkZ2VzOnIuZGF0YShcImZvcmNlRWRnZXNcIiksa2V5Ym9hcmQ6ci5kYXRhKFwia2V5Ym9hcmRcIiksZ3JpZDpyLmRhdGEoXCJncmlkXCIpLGdyaWRfbWFyZ2luOnIuZGF0YShcImdyaWRNYXJnaW5cIiksZ3JpZF9udW06ci5kYXRhKFwiZ3JpZE51bVwiKSxncmlkX3NuYXA6ci5kYXRhKFwiZ3JpZFNuYXBcIiksaGlkZV9taW5fbWF4OnIuZGF0YShcImhpZGVNaW5NYXhcIiksaGlkZV9mcm9tX3RvOnIuZGF0YShcImhpZGVGcm9tVG9cIikscHJlZml4OnIuZGF0YShcInByZWZpeFwiKSxwb3N0Zml4OnIuZGF0YShcInBvc3RmaXhcIiksbWF4X3Bvc3RmaXg6ci5kYXRhKFwibWF4UG9zdGZpeFwiKSxkZWNvcmF0ZV9ib3RoOnIuZGF0YShcImRlY29yYXRlQm90aFwiKSx2YWx1ZXNfc2VwYXJhdG9yOnIuZGF0YShcInZhbHVlc1NlcGFyYXRvclwiKSxpbnB1dF92YWx1ZXNfc2VwYXJhdG9yOnIuZGF0YShcImlucHV0VmFsdWVzU2VwYXJhdG9yXCIpLGRpc2FibGU6ci5kYXRhKFwiZGlzYWJsZVwiKSxibG9jazpyLmRhdGEoXCJibG9ja1wiKSxleHRyYV9jbGFzc2VzOnIuZGF0YShcImV4dHJhQ2xhc3Nlc1wiKX0pLnZhbHVlcz1lLnZhbHVlcyYmZS52YWx1ZXMuc3BsaXQoXCIsXCIpLGUpZS5oYXNPd25Qcm9wZXJ0eShoKSYmKGVbaF0hPT1fJiZcIlwiIT09ZVtoXXx8ZGVsZXRlIGVbaF0pO24hPT1fJiZcIlwiIT09biYmKChuPW4uc3BsaXQoZS5pbnB1dF92YWx1ZXNfc2VwYXJhdG9yfHxpLmlucHV0X3ZhbHVlc19zZXBhcmF0b3J8fFwiO1wiKSlbMF0mJm5bMF09PStuWzBdJiYoblswXT0rblswXSksblsxXSYmblsxXT09K25bMV0mJihuWzFdPStuWzFdKSxpJiZpLnZhbHVlcyYmaS52YWx1ZXMubGVuZ3RoPyhvLmZyb209blswXSYmaS52YWx1ZXMuaW5kZXhPZihuWzBdKSxvLnRvPW5bMV0mJmkudmFsdWVzLmluZGV4T2YoblsxXSkpOihvLmZyb209blswXSYmK25bMF0sby50bz1uWzFdJiYrblsxXSkpLGEuZXh0ZW5kKG8saSksYS5leHRlbmQobyxlKSx0aGlzLm9wdGlvbnM9byx0aGlzLnVwZGF0ZV9jaGVjaz17fSx0aGlzLnZhbGlkYXRlKCksdGhpcy5yZXN1bHQ9e2lucHV0OnRoaXMuJGNhY2hlLmlucHV0LHNsaWRlcjpudWxsLG1pbjp0aGlzLm9wdGlvbnMubWluLG1heDp0aGlzLm9wdGlvbnMubWF4LGZyb206dGhpcy5vcHRpb25zLmZyb20sZnJvbV9wZXJjZW50OjAsZnJvbV92YWx1ZTpudWxsLHRvOnRoaXMub3B0aW9ucy50byx0b19wZXJjZW50OjAsdG9fdmFsdWU6bnVsbH0sdGhpcy5pbml0KCl9O2gucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKHQpe3RoaXMubm9fZGlhcGFzb249ITEsdGhpcy5jb29yZHMucF9zdGVwPXRoaXMuY29udmVydFRvUGVyY2VudCh0aGlzLm9wdGlvbnMuc3RlcCwhMCksdGhpcy50YXJnZXQ9XCJiYXNlXCIsdGhpcy50b2dnbGVJbnB1dCgpLHRoaXMuYXBwZW5kKCksdGhpcy5zZXRNaW5NYXgoKSx0Pyh0aGlzLmZvcmNlX3JlZHJhdz0hMCx0aGlzLmNhbGMoITApLHRoaXMuY2FsbE9uVXBkYXRlKCkpOih0aGlzLmZvcmNlX3JlZHJhdz0hMCx0aGlzLmNhbGMoITApLHRoaXMuY2FsbE9uU3RhcnQoKSksdGhpcy51cGRhdGVTY2VuZSgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXt2YXIgdD0nPHNwYW4gY2xhc3M9XCJpcnMgaXJzLS0nK3RoaXMub3B0aW9ucy5za2luK1wiIGpzLWlycy1cIit0aGlzLnBsdWdpbl9jb3VudCtcIiBcIit0aGlzLm9wdGlvbnMuZXh0cmFfY2xhc3NlcysnXCI+PC9zcGFuPic7dGhpcy4kY2FjaGUuaW5wdXQuYmVmb3JlKHQpLHRoaXMuJGNhY2hlLmlucHV0LnByb3AoXCJyZWFkb25seVwiLCEwKSx0aGlzLiRjYWNoZS5jb250PXRoaXMuJGNhY2hlLmlucHV0LnByZXYoKSx0aGlzLnJlc3VsdC5zbGlkZXI9dGhpcy4kY2FjaGUuY29udCx0aGlzLiRjYWNoZS5jb250Lmh0bWwoJzxzcGFuIGNsYXNzPVwiaXJzXCI+PHNwYW4gY2xhc3M9XCJpcnMtbGluZVwiIHRhYmluZGV4PVwiMFwiPjwvc3Bhbj48c3BhbiBjbGFzcz1cImlycy1taW5cIj4wPC9zcGFuPjxzcGFuIGNsYXNzPVwiaXJzLW1heFwiPjE8L3NwYW4+PHNwYW4gY2xhc3M9XCJpcnMtZnJvbVwiPjA8L3NwYW4+PHNwYW4gY2xhc3M9XCJpcnMtdG9cIj4wPC9zcGFuPjxzcGFuIGNsYXNzPVwiaXJzLXNpbmdsZVwiPjA8L3NwYW4+PC9zcGFuPjxzcGFuIGNsYXNzPVwiaXJzLWdyaWRcIj48L3NwYW4+JyksdGhpcy4kY2FjaGUucnM9dGhpcy4kY2FjaGUuY29udC5maW5kKFwiLmlyc1wiKSx0aGlzLiRjYWNoZS5taW49dGhpcy4kY2FjaGUuY29udC5maW5kKFwiLmlycy1taW5cIiksdGhpcy4kY2FjaGUubWF4PXRoaXMuJGNhY2hlLmNvbnQuZmluZChcIi5pcnMtbWF4XCIpLHRoaXMuJGNhY2hlLmZyb209dGhpcy4kY2FjaGUuY29udC5maW5kKFwiLmlycy1mcm9tXCIpLHRoaXMuJGNhY2hlLnRvPXRoaXMuJGNhY2hlLmNvbnQuZmluZChcIi5pcnMtdG9cIiksdGhpcy4kY2FjaGUuc2luZ2xlPXRoaXMuJGNhY2hlLmNvbnQuZmluZChcIi5pcnMtc2luZ2xlXCIpLHRoaXMuJGNhY2hlLmxpbmU9dGhpcy4kY2FjaGUuY29udC5maW5kKFwiLmlycy1saW5lXCIpLHRoaXMuJGNhY2hlLmdyaWQ9dGhpcy4kY2FjaGUuY29udC5maW5kKFwiLmlycy1ncmlkXCIpLFwic2luZ2xlXCI9PT10aGlzLm9wdGlvbnMudHlwZT8odGhpcy4kY2FjaGUuY29udC5hcHBlbmQoJzxzcGFuIGNsYXNzPVwiaXJzLWJhciBpcnMtYmFyLS1zaW5nbGVcIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJpcnMtc2hhZG93IHNoYWRvdy1zaW5nbGVcIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJpcnMtaGFuZGxlIHNpbmdsZVwiPjxpPjwvaT48aT48L2k+PGk+PC9pPjwvc3Bhbj4nKSx0aGlzLiRjYWNoZS5iYXI9dGhpcy4kY2FjaGUuY29udC5maW5kKFwiLmlycy1iYXJcIiksdGhpcy4kY2FjaGUuZWRnZT10aGlzLiRjYWNoZS5jb250LmZpbmQoXCIuaXJzLWJhci1lZGdlXCIpLHRoaXMuJGNhY2hlLnNfc2luZ2xlPXRoaXMuJGNhY2hlLmNvbnQuZmluZChcIi5zaW5nbGVcIiksdGhpcy4kY2FjaGUuZnJvbVswXS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsdGhpcy4kY2FjaGUudG9bMF0uc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiLHRoaXMuJGNhY2hlLnNoYWRfc2luZ2xlPXRoaXMuJGNhY2hlLmNvbnQuZmluZChcIi5zaGFkb3ctc2luZ2xlXCIpKToodGhpcy4kY2FjaGUuY29udC5hcHBlbmQoJzxzcGFuIGNsYXNzPVwiaXJzLWJhclwiPjwvc3Bhbj48c3BhbiBjbGFzcz1cImlycy1zaGFkb3cgc2hhZG93LWZyb21cIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJpcnMtc2hhZG93IHNoYWRvdy10b1wiPjwvc3Bhbj48c3BhbiBjbGFzcz1cImlycy1oYW5kbGUgZnJvbVwiPjxpPjwvaT48aT48L2k+PGk+PC9pPjwvc3Bhbj48c3BhbiBjbGFzcz1cImlycy1oYW5kbGUgdG9cIj48aT48L2k+PGk+PC9pPjxpPjwvaT48L3NwYW4+JyksdGhpcy4kY2FjaGUuYmFyPXRoaXMuJGNhY2hlLmNvbnQuZmluZChcIi5pcnMtYmFyXCIpLHRoaXMuJGNhY2hlLnNfZnJvbT10aGlzLiRjYWNoZS5jb250LmZpbmQoXCIuZnJvbVwiKSx0aGlzLiRjYWNoZS5zX3RvPXRoaXMuJGNhY2hlLmNvbnQuZmluZChcIi50b1wiKSx0aGlzLiRjYWNoZS5zaGFkX2Zyb209dGhpcy4kY2FjaGUuY29udC5maW5kKFwiLnNoYWRvdy1mcm9tXCIpLHRoaXMuJGNhY2hlLnNoYWRfdG89dGhpcy4kY2FjaGUuY29udC5maW5kKFwiLnNoYWRvdy10b1wiKSx0aGlzLnNldFRvcEhhbmRsZXIoKSksdGhpcy5vcHRpb25zLmhpZGVfZnJvbV90byYmKHRoaXMuJGNhY2hlLmZyb21bMF0uc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLiRjYWNoZS50b1swXS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuJGNhY2hlLnNpbmdsZVswXS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiKSx0aGlzLmFwcGVuZEdyaWQoKSx0aGlzLm9wdGlvbnMuZGlzYWJsZT8odGhpcy5hcHBlbmREaXNhYmxlTWFzaygpLHRoaXMuJGNhY2hlLmlucHV0WzBdLmRpc2FibGVkPSEwKToodGhpcy4kY2FjaGUuaW5wdXRbMF0uZGlzYWJsZWQ9ITEsdGhpcy5yZW1vdmVEaXNhYmxlTWFzaygpLHRoaXMuYmluZEV2ZW50cygpKSx0aGlzLm9wdGlvbnMuZGlzYWJsZXx8KHRoaXMub3B0aW9ucy5ibG9jaz90aGlzLmFwcGVuZERpc2FibGVNYXNrKCk6dGhpcy5yZW1vdmVEaXNhYmxlTWFzaygpKSx0aGlzLm9wdGlvbnMuZHJhZ19pbnRlcnZhbCYmKHRoaXMuJGNhY2hlLmJhclswXS5zdHlsZS5jdXJzb3I9XCJldy1yZXNpemVcIil9LHNldFRvcEhhbmRsZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMubWluLGk9dGhpcy5vcHRpb25zLm1heCxzPXRoaXMub3B0aW9ucy5mcm9tLG89dGhpcy5vcHRpb25zLnRvO3Q8cyYmbz09PWk/dGhpcy4kY2FjaGUuc19mcm9tLmFkZENsYXNzKFwidHlwZV9sYXN0XCIpOm88aSYmdGhpcy4kY2FjaGUuc190by5hZGRDbGFzcyhcInR5cGVfbGFzdFwiKX0sY2hhbmdlTGV2ZWw6ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2VcInNpbmdsZVwiOnRoaXMuY29vcmRzLnBfZ2FwPXRoaXMudG9GaXhlZCh0aGlzLmNvb3Jkcy5wX3BvaW50ZXItdGhpcy5jb29yZHMucF9zaW5nbGVfZmFrZSksdGhpcy4kY2FjaGUuc19zaW5nbGUuYWRkQ2xhc3MoXCJzdGF0ZV9ob3ZlclwiKTticmVhaztjYXNlXCJmcm9tXCI6dGhpcy5jb29yZHMucF9nYXA9dGhpcy50b0ZpeGVkKHRoaXMuY29vcmRzLnBfcG9pbnRlci10aGlzLmNvb3Jkcy5wX2Zyb21fZmFrZSksdGhpcy4kY2FjaGUuc19mcm9tLmFkZENsYXNzKFwic3RhdGVfaG92ZXJcIiksdGhpcy4kY2FjaGUuc19mcm9tLmFkZENsYXNzKFwidHlwZV9sYXN0XCIpLHRoaXMuJGNhY2hlLnNfdG8ucmVtb3ZlQ2xhc3MoXCJ0eXBlX2xhc3RcIik7YnJlYWs7Y2FzZVwidG9cIjp0aGlzLmNvb3Jkcy5wX2dhcD10aGlzLnRvRml4ZWQodGhpcy5jb29yZHMucF9wb2ludGVyLXRoaXMuY29vcmRzLnBfdG9fZmFrZSksdGhpcy4kY2FjaGUuc190by5hZGRDbGFzcyhcInN0YXRlX2hvdmVyXCIpLHRoaXMuJGNhY2hlLnNfdG8uYWRkQ2xhc3MoXCJ0eXBlX2xhc3RcIiksdGhpcy4kY2FjaGUuc19mcm9tLnJlbW92ZUNsYXNzKFwidHlwZV9sYXN0XCIpO2JyZWFrO2Nhc2VcImJvdGhcIjp0aGlzLmNvb3Jkcy5wX2dhcF9sZWZ0PXRoaXMudG9GaXhlZCh0aGlzLmNvb3Jkcy5wX3BvaW50ZXItdGhpcy5jb29yZHMucF9mcm9tX2Zha2UpLHRoaXMuY29vcmRzLnBfZ2FwX3JpZ2h0PXRoaXMudG9GaXhlZCh0aGlzLmNvb3Jkcy5wX3RvX2Zha2UtdGhpcy5jb29yZHMucF9wb2ludGVyKSx0aGlzLiRjYWNoZS5zX3RvLnJlbW92ZUNsYXNzKFwidHlwZV9sYXN0XCIpLHRoaXMuJGNhY2hlLnNfZnJvbS5yZW1vdmVDbGFzcyhcInR5cGVfbGFzdFwiKX19LGFwcGVuZERpc2FibGVNYXNrOmZ1bmN0aW9uKCl7dGhpcy4kY2FjaGUuY29udC5hcHBlbmQoJzxzcGFuIGNsYXNzPVwiaXJzLWRpc2FibGUtbWFza1wiPjwvc3Bhbj4nKSx0aGlzLiRjYWNoZS5jb250LmFkZENsYXNzKFwiaXJzLWRpc2FibGVkXCIpfSxyZW1vdmVEaXNhYmxlTWFzazpmdW5jdGlvbigpe3RoaXMuJGNhY2hlLmNvbnQucmVtb3ZlKFwiLmlycy1kaXNhYmxlLW1hc2tcIiksdGhpcy4kY2FjaGUuY29udC5yZW1vdmVDbGFzcyhcImlycy1kaXNhYmxlZFwiKX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy4kY2FjaGUuY29udC5yZW1vdmUoKSx0aGlzLiRjYWNoZS5jb250PW51bGwsdGhpcy4kY2FjaGUubGluZS5vZmYoXCJrZXlkb3duLmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCksdGhpcy4kY2FjaGUuYm9keS5vZmYoXCJ0b3VjaG1vdmUuaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50KSx0aGlzLiRjYWNoZS5ib2R5Lm9mZihcIm1vdXNlbW92ZS5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQpLHRoaXMuJGNhY2hlLndpbi5vZmYoXCJ0b3VjaGVuZC5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQpLHRoaXMuJGNhY2hlLndpbi5vZmYoXCJtb3VzZXVwLmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCksZSYmKHRoaXMuJGNhY2hlLmJvZHkub2ZmKFwibW91c2V1cC5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQpLHRoaXMuJGNhY2hlLmJvZHkub2ZmKFwibW91c2VsZWF2ZS5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQpKSx0aGlzLiRjYWNoZS5ncmlkX2xhYmVscz1bXSx0aGlzLmNvb3Jkcy5iaWc9W10sdGhpcy5jb29yZHMuYmlnX3c9W10sdGhpcy5jb29yZHMuYmlnX3A9W10sdGhpcy5jb29yZHMuYmlnX3g9W10sY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5yYWZfaWQpfSxiaW5kRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5ub19kaWFwYXNvbnx8KHRoaXMuJGNhY2hlLmJvZHkub24oXCJ0b3VjaG1vdmUuaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlck1vdmUuYmluZCh0aGlzKSksdGhpcy4kY2FjaGUuYm9keS5vbihcIm1vdXNlbW92ZS5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQsdGhpcy5wb2ludGVyTW92ZS5iaW5kKHRoaXMpKSx0aGlzLiRjYWNoZS53aW4ub24oXCJ0b3VjaGVuZC5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQsdGhpcy5wb2ludGVyVXAuYmluZCh0aGlzKSksdGhpcy4kY2FjaGUud2luLm9uKFwibW91c2V1cC5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQsdGhpcy5wb2ludGVyVXAuYmluZCh0aGlzKSksdGhpcy4kY2FjaGUubGluZS5vbihcInRvdWNoc3RhcnQuaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckNsaWNrLmJpbmQodGhpcyxcImNsaWNrXCIpKSx0aGlzLiRjYWNoZS5saW5lLm9uKFwibW91c2Vkb3duLmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJDbGljay5iaW5kKHRoaXMsXCJjbGlja1wiKSksdGhpcy4kY2FjaGUubGluZS5vbihcImZvY3VzLmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJGb2N1cy5iaW5kKHRoaXMpKSx0aGlzLm9wdGlvbnMuZHJhZ19pbnRlcnZhbCYmXCJkb3VibGVcIj09PXRoaXMub3B0aW9ucy50eXBlPyh0aGlzLiRjYWNoZS5iYXIub24oXCJ0b3VjaHN0YXJ0Lmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJEb3duLmJpbmQodGhpcyxcImJvdGhcIikpLHRoaXMuJGNhY2hlLmJhci5vbihcIm1vdXNlZG93bi5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQsdGhpcy5wb2ludGVyRG93bi5iaW5kKHRoaXMsXCJib3RoXCIpKSk6KHRoaXMuJGNhY2hlLmJhci5vbihcInRvdWNoc3RhcnQuaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckNsaWNrLmJpbmQodGhpcyxcImNsaWNrXCIpKSx0aGlzLiRjYWNoZS5iYXIub24oXCJtb3VzZWRvd24uaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckNsaWNrLmJpbmQodGhpcyxcImNsaWNrXCIpKSksXCJzaW5nbGVcIj09PXRoaXMub3B0aW9ucy50eXBlPyh0aGlzLiRjYWNoZS5zaW5nbGUub24oXCJ0b3VjaHN0YXJ0Lmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJEb3duLmJpbmQodGhpcyxcInNpbmdsZVwiKSksdGhpcy4kY2FjaGUuc19zaW5nbGUub24oXCJ0b3VjaHN0YXJ0Lmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJEb3duLmJpbmQodGhpcyxcInNpbmdsZVwiKSksdGhpcy4kY2FjaGUuc2hhZF9zaW5nbGUub24oXCJ0b3VjaHN0YXJ0Lmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJDbGljay5iaW5kKHRoaXMsXCJjbGlja1wiKSksdGhpcy4kY2FjaGUuc2luZ2xlLm9uKFwibW91c2Vkb3duLmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJEb3duLmJpbmQodGhpcyxcInNpbmdsZVwiKSksdGhpcy4kY2FjaGUuc19zaW5nbGUub24oXCJtb3VzZWRvd24uaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckRvd24uYmluZCh0aGlzLFwic2luZ2xlXCIpKSx0aGlzLiRjYWNoZS5lZGdlLm9uKFwibW91c2Vkb3duLmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJDbGljay5iaW5kKHRoaXMsXCJjbGlja1wiKSksdGhpcy4kY2FjaGUuc2hhZF9zaW5nbGUub24oXCJtb3VzZWRvd24uaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckNsaWNrLmJpbmQodGhpcyxcImNsaWNrXCIpKSk6KHRoaXMuJGNhY2hlLnNpbmdsZS5vbihcInRvdWNoc3RhcnQuaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckRvd24uYmluZCh0aGlzLG51bGwpKSx0aGlzLiRjYWNoZS5zaW5nbGUub24oXCJtb3VzZWRvd24uaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckRvd24uYmluZCh0aGlzLG51bGwpKSx0aGlzLiRjYWNoZS5mcm9tLm9uKFwidG91Y2hzdGFydC5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQsdGhpcy5wb2ludGVyRG93bi5iaW5kKHRoaXMsXCJmcm9tXCIpKSx0aGlzLiRjYWNoZS5zX2Zyb20ub24oXCJ0b3VjaHN0YXJ0Lmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJEb3duLmJpbmQodGhpcyxcImZyb21cIikpLHRoaXMuJGNhY2hlLnRvLm9uKFwidG91Y2hzdGFydC5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQsdGhpcy5wb2ludGVyRG93bi5iaW5kKHRoaXMsXCJ0b1wiKSksdGhpcy4kY2FjaGUuc190by5vbihcInRvdWNoc3RhcnQuaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckRvd24uYmluZCh0aGlzLFwidG9cIikpLHRoaXMuJGNhY2hlLnNoYWRfZnJvbS5vbihcInRvdWNoc3RhcnQuaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckNsaWNrLmJpbmQodGhpcyxcImNsaWNrXCIpKSx0aGlzLiRjYWNoZS5zaGFkX3RvLm9uKFwidG91Y2hzdGFydC5pcnNfXCIrdGhpcy5wbHVnaW5fY291bnQsdGhpcy5wb2ludGVyQ2xpY2suYmluZCh0aGlzLFwiY2xpY2tcIikpLHRoaXMuJGNhY2hlLmZyb20ub24oXCJtb3VzZWRvd24uaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckRvd24uYmluZCh0aGlzLFwiZnJvbVwiKSksdGhpcy4kY2FjaGUuc19mcm9tLm9uKFwibW91c2Vkb3duLmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJEb3duLmJpbmQodGhpcyxcImZyb21cIikpLHRoaXMuJGNhY2hlLnRvLm9uKFwibW91c2Vkb3duLmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJEb3duLmJpbmQodGhpcyxcInRvXCIpKSx0aGlzLiRjYWNoZS5zX3RvLm9uKFwibW91c2Vkb3duLmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJEb3duLmJpbmQodGhpcyxcInRvXCIpKSx0aGlzLiRjYWNoZS5zaGFkX2Zyb20ub24oXCJtb3VzZWRvd24uaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlckNsaWNrLmJpbmQodGhpcyxcImNsaWNrXCIpKSx0aGlzLiRjYWNoZS5zaGFkX3RvLm9uKFwibW91c2Vkb3duLmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJDbGljay5iaW5kKHRoaXMsXCJjbGlja1wiKSkpLHRoaXMub3B0aW9ucy5rZXlib2FyZCYmdGhpcy4kY2FjaGUubGluZS5vbihcImtleWRvd24uaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMua2V5LmJpbmQodGhpcyxcImtleWJvYXJkXCIpKSxlJiYodGhpcy4kY2FjaGUuYm9keS5vbihcIm1vdXNldXAuaXJzX1wiK3RoaXMucGx1Z2luX2NvdW50LHRoaXMucG9pbnRlclVwLmJpbmQodGhpcykpLHRoaXMuJGNhY2hlLmJvZHkub24oXCJtb3VzZWxlYXZlLmlyc19cIit0aGlzLnBsdWdpbl9jb3VudCx0aGlzLnBvaW50ZXJVcC5iaW5kKHRoaXMpKSkpfSxwb2ludGVyRm9jdXM6ZnVuY3Rpb24odCl7dmFyIGksczt0aGlzLnRhcmdldHx8KGk9KHM9XCJzaW5nbGVcIj09PXRoaXMub3B0aW9ucy50eXBlP3RoaXMuJGNhY2hlLnNpbmdsZTp0aGlzLiRjYWNoZS5mcm9tKS5vZmZzZXQoKS5sZWZ0LGkrPXMud2lkdGgoKS8yLTEsdGhpcy5wb2ludGVyQ2xpY2soXCJzaW5nbGVcIix7cHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt9LHBhZ2VYOml9KSl9LHBvaW50ZXJNb3ZlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZHJhZ2dpbmcpe3ZhciBpPXQucGFnZVh8fHQub3JpZ2luYWxFdmVudC50b3VjaGVzJiZ0Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5wYWdlWDt0aGlzLmNvb3Jkcy54X3BvaW50ZXI9aS10aGlzLmNvb3Jkcy54X2dhcCx0aGlzLmNhbGMoKX19LHBvaW50ZXJVcDpmdW5jdGlvbih0KXt0aGlzLmN1cnJlbnRfcGx1Z2luPT09dGhpcy5wbHVnaW5fY291bnQmJnRoaXMuaXNfYWN0aXZlJiYodGhpcy5pc19hY3RpdmU9ITEsdGhpcy4kY2FjaGUuY29udC5maW5kKFwiLnN0YXRlX2hvdmVyXCIpLnJlbW92ZUNsYXNzKFwic3RhdGVfaG92ZXJcIiksdGhpcy5mb3JjZV9yZWRyYXc9ITAsZSYmYShcIipcIikucHJvcChcInVuc2VsZWN0YWJsZVwiLCExKSx0aGlzLnVwZGF0ZVNjZW5lKCksdGhpcy5yZXN0b3JlT3JpZ2luYWxNaW5JbnRlcnZhbCgpLChhLmNvbnRhaW5zKHRoaXMuJGNhY2hlLmNvbnRbMF0sdC50YXJnZXQpfHx0aGlzLmRyYWdnaW5nKSYmdGhpcy5jYWxsT25GaW5pc2goKSx0aGlzLmRyYWdnaW5nPSExKX0scG9pbnRlckRvd246ZnVuY3Rpb24odCxpKXtpLnByZXZlbnREZWZhdWx0KCk7dmFyIHM9aS5wYWdlWHx8aS5vcmlnaW5hbEV2ZW50LnRvdWNoZXMmJmkub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLnBhZ2VYOzIhPT1pLmJ1dHRvbiYmKFwiYm90aFwiPT09dCYmdGhpcy5zZXRUZW1wTWluSW50ZXJ2YWwoKSx0fHwodD10aGlzLnRhcmdldHx8XCJmcm9tXCIpLHRoaXMuY3VycmVudF9wbHVnaW49dGhpcy5wbHVnaW5fY291bnQsdGhpcy50YXJnZXQ9dCx0aGlzLmlzX2FjdGl2ZT0hMCx0aGlzLmRyYWdnaW5nPSEwLHRoaXMuY29vcmRzLnhfZ2FwPXRoaXMuJGNhY2hlLnJzLm9mZnNldCgpLmxlZnQsdGhpcy5jb29yZHMueF9wb2ludGVyPXMtdGhpcy5jb29yZHMueF9nYXAsdGhpcy5jYWxjUG9pbnRlclBlcmNlbnQoKSx0aGlzLmNoYW5nZUxldmVsKHQpLGUmJmEoXCIqXCIpLnByb3AoXCJ1bnNlbGVjdGFibGVcIiwhMCksdGhpcy4kY2FjaGUubGluZS50cmlnZ2VyKFwiZm9jdXNcIiksdGhpcy51cGRhdGVTY2VuZSgpKX0scG9pbnRlckNsaWNrOmZ1bmN0aW9uKHQsaSl7aS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBzPWkucGFnZVh8fGkub3JpZ2luYWxFdmVudC50b3VjaGVzJiZpLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5wYWdlWDsyIT09aS5idXR0b24mJih0aGlzLmN1cnJlbnRfcGx1Z2luPXRoaXMucGx1Z2luX2NvdW50LHRoaXMudGFyZ2V0PXQsdGhpcy5pc19jbGljaz0hMCx0aGlzLmNvb3Jkcy54X2dhcD10aGlzLiRjYWNoZS5ycy5vZmZzZXQoKS5sZWZ0LHRoaXMuY29vcmRzLnhfcG9pbnRlcj0rKHMtdGhpcy5jb29yZHMueF9nYXApLnRvRml4ZWQoKSx0aGlzLmZvcmNlX3JlZHJhdz0hMCx0aGlzLmNhbGMoKSx0aGlzLiRjYWNoZS5saW5lLnRyaWdnZXIoXCJmb2N1c1wiKSl9LGtleTpmdW5jdGlvbih0LGkpe2lmKCEodGhpcy5jdXJyZW50X3BsdWdpbiE9PXRoaXMucGx1Z2luX2NvdW50fHxpLmFsdEtleXx8aS5jdHJsS2V5fHxpLnNoaWZ0S2V5fHxpLm1ldGFLZXkpKXtzd2l0Y2goaS53aGljaCl7Y2FzZSA4MzpjYXNlIDY1OmNhc2UgNDA6Y2FzZSAzNzppLnByZXZlbnREZWZhdWx0KCksdGhpcy5tb3ZlQnlLZXkoITEpO2JyZWFrO2Nhc2UgODc6Y2FzZSA2ODpjYXNlIDM4OmNhc2UgMzk6aS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMubW92ZUJ5S2V5KCEwKX1yZXR1cm4hMH19LG1vdmVCeUtleTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmNvb3Jkcy5wX3BvaW50ZXIscz0odGhpcy5vcHRpb25zLm1heC10aGlzLm9wdGlvbnMubWluKS8xMDA7cz10aGlzLm9wdGlvbnMuc3RlcC9zLHQ/aSs9czppLT1zLHRoaXMuY29vcmRzLnhfcG9pbnRlcj10aGlzLnRvRml4ZWQodGhpcy5jb29yZHMud19ycy8xMDAqaSksdGhpcy5pc19rZXk9ITAsdGhpcy5jYWxjKCl9LHNldE1pbk1heDpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucyl7aWYodGhpcy5vcHRpb25zLmhpZGVfbWluX21heClyZXR1cm4gdGhpcy4kY2FjaGUubWluWzBdLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdm9pZCh0aGlzLiRjYWNoZS5tYXhbMF0uc3R5bGUuZGlzcGxheT1cIm5vbmVcIik7aWYodGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgpdGhpcy4kY2FjaGUubWluLmh0bWwodGhpcy5kZWNvcmF0ZSh0aGlzLm9wdGlvbnMucF92YWx1ZXNbdGhpcy5vcHRpb25zLm1pbl0pKSx0aGlzLiRjYWNoZS5tYXguaHRtbCh0aGlzLmRlY29yYXRlKHRoaXMub3B0aW9ucy5wX3ZhbHVlc1t0aGlzLm9wdGlvbnMubWF4XSkpO2Vsc2V7dmFyIHQ9dGhpcy5fcHJldHRpZnkodGhpcy5vcHRpb25zLm1pbiksaT10aGlzLl9wcmV0dGlmeSh0aGlzLm9wdGlvbnMubWF4KTt0aGlzLnJlc3VsdC5taW5fcHJldHR5PXQsdGhpcy5yZXN1bHQubWF4X3ByZXR0eT1pLHRoaXMuJGNhY2hlLm1pbi5odG1sKHRoaXMuZGVjb3JhdGUodCx0aGlzLm9wdGlvbnMubWluKSksdGhpcy4kY2FjaGUubWF4Lmh0bWwodGhpcy5kZWNvcmF0ZShpLHRoaXMub3B0aW9ucy5tYXgpKX10aGlzLmxhYmVscy53X21pbj10aGlzLiRjYWNoZS5taW4ub3V0ZXJXaWR0aCghMSksdGhpcy5sYWJlbHMud19tYXg9dGhpcy4kY2FjaGUubWF4Lm91dGVyV2lkdGgoITEpfX0sc2V0VGVtcE1pbkludGVydmFsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZXN1bHQudG8tdGhpcy5yZXN1bHQuZnJvbTtudWxsPT09dGhpcy5vbGRfbWluX2ludGVydmFsJiYodGhpcy5vbGRfbWluX2ludGVydmFsPXRoaXMub3B0aW9ucy5taW5faW50ZXJ2YWwpLHRoaXMub3B0aW9ucy5taW5faW50ZXJ2YWw9dH0scmVzdG9yZU9yaWdpbmFsTWluSW50ZXJ2YWw6ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5vbGRfbWluX2ludGVydmFsJiYodGhpcy5vcHRpb25zLm1pbl9pbnRlcnZhbD10aGlzLm9sZF9taW5faW50ZXJ2YWwsdGhpcy5vbGRfbWluX2ludGVydmFsPW51bGwpfSxjYWxjOmZ1bmN0aW9uKHQpe2lmKHRoaXMub3B0aW9ucyYmKHRoaXMuY2FsY19jb3VudCsrLCgxMD09PXRoaXMuY2FsY19jb3VudHx8dCkmJih0aGlzLmNhbGNfY291bnQ9MCx0aGlzLmNvb3Jkcy53X3JzPXRoaXMuJGNhY2hlLnJzLm91dGVyV2lkdGgoITEpLHRoaXMuY2FsY0hhbmRsZVBlcmNlbnQoKSksdGhpcy5jb29yZHMud19ycykpe3RoaXMuY2FsY1BvaW50ZXJQZXJjZW50KCk7dmFyIGk9dGhpcy5nZXRIYW5kbGVYKCk7c3dpdGNoKFwiYm90aFwiPT09dGhpcy50YXJnZXQmJih0aGlzLmNvb3Jkcy5wX2dhcD0wLGk9dGhpcy5nZXRIYW5kbGVYKCkpLFwiY2xpY2tcIj09PXRoaXMudGFyZ2V0JiYodGhpcy5jb29yZHMucF9nYXA9dGhpcy5jb29yZHMucF9oYW5kbGUvMixpPXRoaXMuZ2V0SGFuZGxlWCgpLHRoaXMub3B0aW9ucy5kcmFnX2ludGVydmFsP3RoaXMudGFyZ2V0PVwiYm90aF9vbmVcIjp0aGlzLnRhcmdldD10aGlzLmNob29zZUhhbmRsZShpKSksdGhpcy50YXJnZXQpe2Nhc2VcImJhc2VcIjp2YXIgcz0odGhpcy5vcHRpb25zLm1heC10aGlzLm9wdGlvbnMubWluKS8xMDAsbz0odGhpcy5yZXN1bHQuZnJvbS10aGlzLm9wdGlvbnMubWluKS9zLGU9KHRoaXMucmVzdWx0LnRvLXRoaXMub3B0aW9ucy5taW4pL3M7dGhpcy5jb29yZHMucF9zaW5nbGVfcmVhbD10aGlzLnRvRml4ZWQobyksdGhpcy5jb29yZHMucF9mcm9tX3JlYWw9dGhpcy50b0ZpeGVkKG8pLHRoaXMuY29vcmRzLnBfdG9fcmVhbD10aGlzLnRvRml4ZWQoZSksdGhpcy5jb29yZHMucF9zaW5nbGVfcmVhbD10aGlzLmNoZWNrRGlhcGFzb24odGhpcy5jb29yZHMucF9zaW5nbGVfcmVhbCx0aGlzLm9wdGlvbnMuZnJvbV9taW4sdGhpcy5vcHRpb25zLmZyb21fbWF4KSx0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbD10aGlzLmNoZWNrRGlhcGFzb24odGhpcy5jb29yZHMucF9mcm9tX3JlYWwsdGhpcy5vcHRpb25zLmZyb21fbWluLHRoaXMub3B0aW9ucy5mcm9tX21heCksdGhpcy5jb29yZHMucF90b19yZWFsPXRoaXMuY2hlY2tEaWFwYXNvbih0aGlzLmNvb3Jkcy5wX3RvX3JlYWwsdGhpcy5vcHRpb25zLnRvX21pbix0aGlzLm9wdGlvbnMudG9fbWF4KSx0aGlzLmNvb3Jkcy5wX3NpbmdsZV9mYWtlPXRoaXMuY29udmVydFRvRmFrZVBlcmNlbnQodGhpcy5jb29yZHMucF9zaW5nbGVfcmVhbCksdGhpcy5jb29yZHMucF9mcm9tX2Zha2U9dGhpcy5jb252ZXJ0VG9GYWtlUGVyY2VudCh0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbCksdGhpcy5jb29yZHMucF90b19mYWtlPXRoaXMuY29udmVydFRvRmFrZVBlcmNlbnQodGhpcy5jb29yZHMucF90b19yZWFsKSx0aGlzLnRhcmdldD1udWxsO2JyZWFrO2Nhc2VcInNpbmdsZVwiOmlmKHRoaXMub3B0aW9ucy5mcm9tX2ZpeGVkKWJyZWFrO3RoaXMuY29vcmRzLnBfc2luZ2xlX3JlYWw9dGhpcy5jb252ZXJ0VG9SZWFsUGVyY2VudChpKSx0aGlzLmNvb3Jkcy5wX3NpbmdsZV9yZWFsPXRoaXMuY2FsY1dpdGhTdGVwKHRoaXMuY29vcmRzLnBfc2luZ2xlX3JlYWwpLHRoaXMuY29vcmRzLnBfc2luZ2xlX3JlYWw9dGhpcy5jaGVja0RpYXBhc29uKHRoaXMuY29vcmRzLnBfc2luZ2xlX3JlYWwsdGhpcy5vcHRpb25zLmZyb21fbWluLHRoaXMub3B0aW9ucy5mcm9tX21heCksdGhpcy5jb29yZHMucF9zaW5nbGVfZmFrZT10aGlzLmNvbnZlcnRUb0Zha2VQZXJjZW50KHRoaXMuY29vcmRzLnBfc2luZ2xlX3JlYWwpO2JyZWFrO2Nhc2VcImZyb21cIjppZih0aGlzLm9wdGlvbnMuZnJvbV9maXhlZClicmVhazt0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbD10aGlzLmNvbnZlcnRUb1JlYWxQZXJjZW50KGkpLHRoaXMuY29vcmRzLnBfZnJvbV9yZWFsPXRoaXMuY2FsY1dpdGhTdGVwKHRoaXMuY29vcmRzLnBfZnJvbV9yZWFsKSx0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbD50aGlzLmNvb3Jkcy5wX3RvX3JlYWwmJih0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbD10aGlzLmNvb3Jkcy5wX3RvX3JlYWwpLHRoaXMuY29vcmRzLnBfZnJvbV9yZWFsPXRoaXMuY2hlY2tEaWFwYXNvbih0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbCx0aGlzLm9wdGlvbnMuZnJvbV9taW4sdGhpcy5vcHRpb25zLmZyb21fbWF4KSx0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbD10aGlzLmNoZWNrTWluSW50ZXJ2YWwodGhpcy5jb29yZHMucF9mcm9tX3JlYWwsdGhpcy5jb29yZHMucF90b19yZWFsLFwiZnJvbVwiKSx0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbD10aGlzLmNoZWNrTWF4SW50ZXJ2YWwodGhpcy5jb29yZHMucF9mcm9tX3JlYWwsdGhpcy5jb29yZHMucF90b19yZWFsLFwiZnJvbVwiKSx0aGlzLmNvb3Jkcy5wX2Zyb21fZmFrZT10aGlzLmNvbnZlcnRUb0Zha2VQZXJjZW50KHRoaXMuY29vcmRzLnBfZnJvbV9yZWFsKTticmVhaztjYXNlXCJ0b1wiOmlmKHRoaXMub3B0aW9ucy50b19maXhlZClicmVhazt0aGlzLmNvb3Jkcy5wX3RvX3JlYWw9dGhpcy5jb252ZXJ0VG9SZWFsUGVyY2VudChpKSx0aGlzLmNvb3Jkcy5wX3RvX3JlYWw9dGhpcy5jYWxjV2l0aFN0ZXAodGhpcy5jb29yZHMucF90b19yZWFsKSx0aGlzLmNvb3Jkcy5wX3RvX3JlYWw8dGhpcy5jb29yZHMucF9mcm9tX3JlYWwmJih0aGlzLmNvb3Jkcy5wX3RvX3JlYWw9dGhpcy5jb29yZHMucF9mcm9tX3JlYWwpLHRoaXMuY29vcmRzLnBfdG9fcmVhbD10aGlzLmNoZWNrRGlhcGFzb24odGhpcy5jb29yZHMucF90b19yZWFsLHRoaXMub3B0aW9ucy50b19taW4sdGhpcy5vcHRpb25zLnRvX21heCksdGhpcy5jb29yZHMucF90b19yZWFsPXRoaXMuY2hlY2tNaW5JbnRlcnZhbCh0aGlzLmNvb3Jkcy5wX3RvX3JlYWwsdGhpcy5jb29yZHMucF9mcm9tX3JlYWwsXCJ0b1wiKSx0aGlzLmNvb3Jkcy5wX3RvX3JlYWw9dGhpcy5jaGVja01heEludGVydmFsKHRoaXMuY29vcmRzLnBfdG9fcmVhbCx0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbCxcInRvXCIpLHRoaXMuY29vcmRzLnBfdG9fZmFrZT10aGlzLmNvbnZlcnRUb0Zha2VQZXJjZW50KHRoaXMuY29vcmRzLnBfdG9fcmVhbCk7YnJlYWs7Y2FzZVwiYm90aFwiOmlmKHRoaXMub3B0aW9ucy5mcm9tX2ZpeGVkfHx0aGlzLm9wdGlvbnMudG9fZml4ZWQpYnJlYWs7aT10aGlzLnRvRml4ZWQoaSsuMDAxKnRoaXMuY29vcmRzLnBfaGFuZGxlKSx0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbD10aGlzLmNvbnZlcnRUb1JlYWxQZXJjZW50KGkpLXRoaXMuY29vcmRzLnBfZ2FwX2xlZnQsdGhpcy5jb29yZHMucF9mcm9tX3JlYWw9dGhpcy5jYWxjV2l0aFN0ZXAodGhpcy5jb29yZHMucF9mcm9tX3JlYWwpLHRoaXMuY29vcmRzLnBfZnJvbV9yZWFsPXRoaXMuY2hlY2tEaWFwYXNvbih0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbCx0aGlzLm9wdGlvbnMuZnJvbV9taW4sdGhpcy5vcHRpb25zLmZyb21fbWF4KSx0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbD10aGlzLmNoZWNrTWluSW50ZXJ2YWwodGhpcy5jb29yZHMucF9mcm9tX3JlYWwsdGhpcy5jb29yZHMucF90b19yZWFsLFwiZnJvbVwiKSx0aGlzLmNvb3Jkcy5wX2Zyb21fZmFrZT10aGlzLmNvbnZlcnRUb0Zha2VQZXJjZW50KHRoaXMuY29vcmRzLnBfZnJvbV9yZWFsKSx0aGlzLmNvb3Jkcy5wX3RvX3JlYWw9dGhpcy5jb252ZXJ0VG9SZWFsUGVyY2VudChpKSt0aGlzLmNvb3Jkcy5wX2dhcF9yaWdodCx0aGlzLmNvb3Jkcy5wX3RvX3JlYWw9dGhpcy5jYWxjV2l0aFN0ZXAodGhpcy5jb29yZHMucF90b19yZWFsKSx0aGlzLmNvb3Jkcy5wX3RvX3JlYWw9dGhpcy5jaGVja0RpYXBhc29uKHRoaXMuY29vcmRzLnBfdG9fcmVhbCx0aGlzLm9wdGlvbnMudG9fbWluLHRoaXMub3B0aW9ucy50b19tYXgpLHRoaXMuY29vcmRzLnBfdG9fcmVhbD10aGlzLmNoZWNrTWluSW50ZXJ2YWwodGhpcy5jb29yZHMucF90b19yZWFsLHRoaXMuY29vcmRzLnBfZnJvbV9yZWFsLFwidG9cIiksdGhpcy5jb29yZHMucF90b19mYWtlPXRoaXMuY29udmVydFRvRmFrZVBlcmNlbnQodGhpcy5jb29yZHMucF90b19yZWFsKTticmVhaztjYXNlXCJib3RoX29uZVwiOmlmKHRoaXMub3B0aW9ucy5mcm9tX2ZpeGVkfHx0aGlzLm9wdGlvbnMudG9fZml4ZWQpYnJlYWs7dmFyIGg9dGhpcy5jb252ZXJ0VG9SZWFsUGVyY2VudChpKSxyPXRoaXMucmVzdWx0LmZyb21fcGVyY2VudCxuPXRoaXMucmVzdWx0LnRvX3BlcmNlbnQtcixhPW4vMixjPWgtYSxsPWgrYTtjPDAmJihsPShjPTApK24pLDEwMDxsJiYoYz0obD0xMDApLW4pLHRoaXMuY29vcmRzLnBfZnJvbV9yZWFsPXRoaXMuY2FsY1dpdGhTdGVwKGMpLHRoaXMuY29vcmRzLnBfZnJvbV9yZWFsPXRoaXMuY2hlY2tEaWFwYXNvbih0aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbCx0aGlzLm9wdGlvbnMuZnJvbV9taW4sdGhpcy5vcHRpb25zLmZyb21fbWF4KSx0aGlzLmNvb3Jkcy5wX2Zyb21fZmFrZT10aGlzLmNvbnZlcnRUb0Zha2VQZXJjZW50KHRoaXMuY29vcmRzLnBfZnJvbV9yZWFsKSx0aGlzLmNvb3Jkcy5wX3RvX3JlYWw9dGhpcy5jYWxjV2l0aFN0ZXAobCksdGhpcy5jb29yZHMucF90b19yZWFsPXRoaXMuY2hlY2tEaWFwYXNvbih0aGlzLmNvb3Jkcy5wX3RvX3JlYWwsdGhpcy5vcHRpb25zLnRvX21pbix0aGlzLm9wdGlvbnMudG9fbWF4KSx0aGlzLmNvb3Jkcy5wX3RvX2Zha2U9dGhpcy5jb252ZXJ0VG9GYWtlUGVyY2VudCh0aGlzLmNvb3Jkcy5wX3RvX3JlYWwpfVwic2luZ2xlXCI9PT10aGlzLm9wdGlvbnMudHlwZT8odGhpcy5jb29yZHMucF9iYXJfeD10aGlzLmNvb3Jkcy5wX2hhbmRsZS8yLHRoaXMuY29vcmRzLnBfYmFyX3c9dGhpcy5jb29yZHMucF9zaW5nbGVfZmFrZSx0aGlzLnJlc3VsdC5mcm9tX3BlcmNlbnQ9dGhpcy5jb29yZHMucF9zaW5nbGVfcmVhbCx0aGlzLnJlc3VsdC5mcm9tPXRoaXMuY29udmVydFRvVmFsdWUodGhpcy5jb29yZHMucF9zaW5nbGVfcmVhbCksdGhpcy5yZXN1bHQuZnJvbV9wcmV0dHk9dGhpcy5fcHJldHRpZnkodGhpcy5yZXN1bHQuZnJvbSksdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgmJih0aGlzLnJlc3VsdC5mcm9tX3ZhbHVlPXRoaXMub3B0aW9ucy52YWx1ZXNbdGhpcy5yZXN1bHQuZnJvbV0pKToodGhpcy5jb29yZHMucF9iYXJfeD10aGlzLnRvRml4ZWQodGhpcy5jb29yZHMucF9mcm9tX2Zha2UrdGhpcy5jb29yZHMucF9oYW5kbGUvMiksdGhpcy5jb29yZHMucF9iYXJfdz10aGlzLnRvRml4ZWQodGhpcy5jb29yZHMucF90b19mYWtlLXRoaXMuY29vcmRzLnBfZnJvbV9mYWtlKSx0aGlzLnJlc3VsdC5mcm9tX3BlcmNlbnQ9dGhpcy5jb29yZHMucF9mcm9tX3JlYWwsdGhpcy5yZXN1bHQuZnJvbT10aGlzLmNvbnZlcnRUb1ZhbHVlKHRoaXMuY29vcmRzLnBfZnJvbV9yZWFsKSx0aGlzLnJlc3VsdC5mcm9tX3ByZXR0eT10aGlzLl9wcmV0dGlmeSh0aGlzLnJlc3VsdC5mcm9tKSx0aGlzLnJlc3VsdC50b19wZXJjZW50PXRoaXMuY29vcmRzLnBfdG9fcmVhbCx0aGlzLnJlc3VsdC50bz10aGlzLmNvbnZlcnRUb1ZhbHVlKHRoaXMuY29vcmRzLnBfdG9fcmVhbCksdGhpcy5yZXN1bHQudG9fcHJldHR5PXRoaXMuX3ByZXR0aWZ5KHRoaXMucmVzdWx0LnRvKSx0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCYmKHRoaXMucmVzdWx0LmZyb21fdmFsdWU9dGhpcy5vcHRpb25zLnZhbHVlc1t0aGlzLnJlc3VsdC5mcm9tXSx0aGlzLnJlc3VsdC50b192YWx1ZT10aGlzLm9wdGlvbnMudmFsdWVzW3RoaXMucmVzdWx0LnRvXSkpLHRoaXMuY2FsY01pbk1heCgpLHRoaXMuY2FsY0xhYmVscygpfX0sY2FsY1BvaW50ZXJQZXJjZW50OmZ1bmN0aW9uKCl7dGhpcy5jb29yZHMud19ycz8odGhpcy5jb29yZHMueF9wb2ludGVyPDB8fGlzTmFOKHRoaXMuY29vcmRzLnhfcG9pbnRlcik/dGhpcy5jb29yZHMueF9wb2ludGVyPTA6dGhpcy5jb29yZHMueF9wb2ludGVyPnRoaXMuY29vcmRzLndfcnMmJih0aGlzLmNvb3Jkcy54X3BvaW50ZXI9dGhpcy5jb29yZHMud19ycyksdGhpcy5jb29yZHMucF9wb2ludGVyPXRoaXMudG9GaXhlZCh0aGlzLmNvb3Jkcy54X3BvaW50ZXIvdGhpcy5jb29yZHMud19ycyoxMDApKTp0aGlzLmNvb3Jkcy5wX3BvaW50ZXI9MH0sY29udmVydFRvUmVhbFBlcmNlbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQvKDEwMC10aGlzLmNvb3Jkcy5wX2hhbmRsZSkqMTAwfSxjb252ZXJ0VG9GYWtlUGVyY2VudDpmdW5jdGlvbih0KXtyZXR1cm4gdC8xMDAqKDEwMC10aGlzLmNvb3Jkcy5wX2hhbmRsZSl9LGdldEhhbmRsZVg6ZnVuY3Rpb24oKXt2YXIgdD0xMDAtdGhpcy5jb29yZHMucF9oYW5kbGUsaT10aGlzLnRvRml4ZWQodGhpcy5jb29yZHMucF9wb2ludGVyLXRoaXMuY29vcmRzLnBfZ2FwKTtyZXR1cm4gaTwwP2k9MDp0PGkmJihpPXQpLGl9LGNhbGNIYW5kbGVQZXJjZW50OmZ1bmN0aW9uKCl7XCJzaW5nbGVcIj09PXRoaXMub3B0aW9ucy50eXBlP3RoaXMuY29vcmRzLndfaGFuZGxlPXRoaXMuJGNhY2hlLnNfc2luZ2xlLm91dGVyV2lkdGgoITEpOnRoaXMuY29vcmRzLndfaGFuZGxlPXRoaXMuJGNhY2hlLnNfZnJvbS5vdXRlcldpZHRoKCExKSx0aGlzLmNvb3Jkcy5wX2hhbmRsZT10aGlzLnRvRml4ZWQodGhpcy5jb29yZHMud19oYW5kbGUvdGhpcy5jb29yZHMud19ycyoxMDApfSxjaG9vc2VIYW5kbGU6ZnVuY3Rpb24odCl7cmV0dXJuXCJzaW5nbGVcIj09PXRoaXMub3B0aW9ucy50eXBlP1wic2luZ2xlXCI6dGhpcy5jb29yZHMucF9mcm9tX3JlYWwrKHRoaXMuY29vcmRzLnBfdG9fcmVhbC10aGlzLmNvb3Jkcy5wX2Zyb21fcmVhbCkvMjw9dD90aGlzLm9wdGlvbnMudG9fZml4ZWQ/XCJmcm9tXCI6XCJ0b1wiOnRoaXMub3B0aW9ucy5mcm9tX2ZpeGVkP1widG9cIjpcImZyb21cIn0sY2FsY01pbk1heDpmdW5jdGlvbigpe3RoaXMuY29vcmRzLndfcnMmJih0aGlzLmxhYmVscy5wX21pbj10aGlzLmxhYmVscy53X21pbi90aGlzLmNvb3Jkcy53X3JzKjEwMCx0aGlzLmxhYmVscy5wX21heD10aGlzLmxhYmVscy53X21heC90aGlzLmNvb3Jkcy53X3JzKjEwMCl9LGNhbGNMYWJlbHM6ZnVuY3Rpb24oKXt0aGlzLmNvb3Jkcy53X3JzJiYhdGhpcy5vcHRpb25zLmhpZGVfZnJvbV90byYmKFwic2luZ2xlXCI9PT10aGlzLm9wdGlvbnMudHlwZT8odGhpcy5sYWJlbHMud19zaW5nbGU9dGhpcy4kY2FjaGUuc2luZ2xlLm91dGVyV2lkdGgoITEpLHRoaXMubGFiZWxzLnBfc2luZ2xlX2Zha2U9dGhpcy5sYWJlbHMud19zaW5nbGUvdGhpcy5jb29yZHMud19ycyoxMDAsdGhpcy5sYWJlbHMucF9zaW5nbGVfbGVmdD10aGlzLmNvb3Jkcy5wX3NpbmdsZV9mYWtlK3RoaXMuY29vcmRzLnBfaGFuZGxlLzItdGhpcy5sYWJlbHMucF9zaW5nbGVfZmFrZS8yKToodGhpcy5sYWJlbHMud19mcm9tPXRoaXMuJGNhY2hlLmZyb20ub3V0ZXJXaWR0aCghMSksdGhpcy5sYWJlbHMucF9mcm9tX2Zha2U9dGhpcy5sYWJlbHMud19mcm9tL3RoaXMuY29vcmRzLndfcnMqMTAwLHRoaXMubGFiZWxzLnBfZnJvbV9sZWZ0PXRoaXMuY29vcmRzLnBfZnJvbV9mYWtlK3RoaXMuY29vcmRzLnBfaGFuZGxlLzItdGhpcy5sYWJlbHMucF9mcm9tX2Zha2UvMix0aGlzLmxhYmVscy5wX2Zyb21fbGVmdD10aGlzLnRvRml4ZWQodGhpcy5sYWJlbHMucF9mcm9tX2xlZnQpLHRoaXMubGFiZWxzLnBfZnJvbV9sZWZ0PXRoaXMuY2hlY2tFZGdlcyh0aGlzLmxhYmVscy5wX2Zyb21fbGVmdCx0aGlzLmxhYmVscy5wX2Zyb21fZmFrZSksdGhpcy5sYWJlbHMud190bz10aGlzLiRjYWNoZS50by5vdXRlcldpZHRoKCExKSx0aGlzLmxhYmVscy5wX3RvX2Zha2U9dGhpcy5sYWJlbHMud190by90aGlzLmNvb3Jkcy53X3JzKjEwMCx0aGlzLmxhYmVscy5wX3RvX2xlZnQ9dGhpcy5jb29yZHMucF90b19mYWtlK3RoaXMuY29vcmRzLnBfaGFuZGxlLzItdGhpcy5sYWJlbHMucF90b19mYWtlLzIsdGhpcy5sYWJlbHMucF90b19sZWZ0PXRoaXMudG9GaXhlZCh0aGlzLmxhYmVscy5wX3RvX2xlZnQpLHRoaXMubGFiZWxzLnBfdG9fbGVmdD10aGlzLmNoZWNrRWRnZXModGhpcy5sYWJlbHMucF90b19sZWZ0LHRoaXMubGFiZWxzLnBfdG9fZmFrZSksdGhpcy5sYWJlbHMud19zaW5nbGU9dGhpcy4kY2FjaGUuc2luZ2xlLm91dGVyV2lkdGgoITEpLHRoaXMubGFiZWxzLnBfc2luZ2xlX2Zha2U9dGhpcy5sYWJlbHMud19zaW5nbGUvdGhpcy5jb29yZHMud19ycyoxMDAsdGhpcy5sYWJlbHMucF9zaW5nbGVfbGVmdD0odGhpcy5sYWJlbHMucF9mcm9tX2xlZnQrdGhpcy5sYWJlbHMucF90b19sZWZ0K3RoaXMubGFiZWxzLnBfdG9fZmFrZSkvMi10aGlzLmxhYmVscy5wX3NpbmdsZV9mYWtlLzIsdGhpcy5sYWJlbHMucF9zaW5nbGVfbGVmdD10aGlzLnRvRml4ZWQodGhpcy5sYWJlbHMucF9zaW5nbGVfbGVmdCkpLHRoaXMubGFiZWxzLnBfc2luZ2xlX2xlZnQ9dGhpcy5jaGVja0VkZ2VzKHRoaXMubGFiZWxzLnBfc2luZ2xlX2xlZnQsdGhpcy5sYWJlbHMucF9zaW5nbGVfZmFrZSkpfSx1cGRhdGVTY2VuZTpmdW5jdGlvbigpe3RoaXMucmFmX2lkJiYoY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5yYWZfaWQpLHRoaXMucmFmX2lkPW51bGwpLGNsZWFyVGltZW91dCh0aGlzLnVwZGF0ZV90bSksdGhpcy51cGRhdGVfdG09bnVsbCx0aGlzLm9wdGlvbnMmJih0aGlzLmRyYXdIYW5kbGVzKCksdGhpcy5pc19hY3RpdmU/dGhpcy5yYWZfaWQ9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlU2NlbmUuYmluZCh0aGlzKSk6dGhpcy51cGRhdGVfdG09c2V0VGltZW91dCh0aGlzLnVwZGF0ZVNjZW5lLmJpbmQodGhpcyksMzAwKSl9LGRyYXdIYW5kbGVzOmZ1bmN0aW9uKCl7dGhpcy5jb29yZHMud19ycz10aGlzLiRjYWNoZS5ycy5vdXRlcldpZHRoKCExKSx0aGlzLmNvb3Jkcy53X3JzJiYodGhpcy5jb29yZHMud19ycyE9PXRoaXMuY29vcmRzLndfcnNfb2xkJiYodGhpcy50YXJnZXQ9XCJiYXNlXCIsdGhpcy5pc19yZXNpemU9ITApLCh0aGlzLmNvb3Jkcy53X3JzIT09dGhpcy5jb29yZHMud19yc19vbGR8fHRoaXMuZm9yY2VfcmVkcmF3KSYmKHRoaXMuc2V0TWluTWF4KCksdGhpcy5jYWxjKCEwKSx0aGlzLmRyYXdMYWJlbHMoKSx0aGlzLm9wdGlvbnMuZ3JpZCYmKHRoaXMuY2FsY0dyaWRNYXJnaW4oKSx0aGlzLmNhbGNHcmlkTGFiZWxzKCkpLHRoaXMuZm9yY2VfcmVkcmF3PSEwLHRoaXMuY29vcmRzLndfcnNfb2xkPXRoaXMuY29vcmRzLndfcnMsdGhpcy5kcmF3U2hhZG93KCkpLHRoaXMuY29vcmRzLndfcnMmJih0aGlzLmRyYWdnaW5nfHx0aGlzLmZvcmNlX3JlZHJhd3x8dGhpcy5pc19rZXkpJiYoKHRoaXMub2xkX2Zyb20hPT10aGlzLnJlc3VsdC5mcm9tfHx0aGlzLm9sZF90byE9PXRoaXMucmVzdWx0LnRvfHx0aGlzLmZvcmNlX3JlZHJhd3x8dGhpcy5pc19rZXkpJiYodGhpcy5kcmF3TGFiZWxzKCksdGhpcy4kY2FjaGUuYmFyWzBdLnN0eWxlLmxlZnQ9dGhpcy5jb29yZHMucF9iYXJfeCtcIiVcIix0aGlzLiRjYWNoZS5iYXJbMF0uc3R5bGUud2lkdGg9dGhpcy5jb29yZHMucF9iYXJfdytcIiVcIixcInNpbmdsZVwiPT09dGhpcy5vcHRpb25zLnR5cGU/KHRoaXMuJGNhY2hlLmJhclswXS5zdHlsZS5sZWZ0PTAsdGhpcy4kY2FjaGUuYmFyWzBdLnN0eWxlLndpZHRoPXRoaXMuY29vcmRzLnBfYmFyX3crdGhpcy5jb29yZHMucF9iYXJfeCtcIiVcIix0aGlzLiRjYWNoZS5zX3NpbmdsZVswXS5zdHlsZS5sZWZ0PXRoaXMuY29vcmRzLnBfc2luZ2xlX2Zha2UrXCIlXCIpOih0aGlzLiRjYWNoZS5zX2Zyb21bMF0uc3R5bGUubGVmdD10aGlzLmNvb3Jkcy5wX2Zyb21fZmFrZStcIiVcIix0aGlzLiRjYWNoZS5zX3RvWzBdLnN0eWxlLmxlZnQ9dGhpcy5jb29yZHMucF90b19mYWtlK1wiJVwiLCh0aGlzLm9sZF9mcm9tIT09dGhpcy5yZXN1bHQuZnJvbXx8dGhpcy5mb3JjZV9yZWRyYXcpJiYodGhpcy4kY2FjaGUuZnJvbVswXS5zdHlsZS5sZWZ0PXRoaXMubGFiZWxzLnBfZnJvbV9sZWZ0K1wiJVwiKSwodGhpcy5vbGRfdG8hPT10aGlzLnJlc3VsdC50b3x8dGhpcy5mb3JjZV9yZWRyYXcpJiYodGhpcy4kY2FjaGUudG9bMF0uc3R5bGUubGVmdD10aGlzLmxhYmVscy5wX3RvX2xlZnQrXCIlXCIpKSx0aGlzLiRjYWNoZS5zaW5nbGVbMF0uc3R5bGUubGVmdD10aGlzLmxhYmVscy5wX3NpbmdsZV9sZWZ0K1wiJVwiLHRoaXMud3JpdGVUb0lucHV0KCksdGhpcy5vbGRfZnJvbT09PXRoaXMucmVzdWx0LmZyb20mJnRoaXMub2xkX3RvPT09dGhpcy5yZXN1bHQudG98fHRoaXMuaXNfc3RhcnR8fCh0aGlzLiRjYWNoZS5pbnB1dC50cmlnZ2VyKFwiY2hhbmdlXCIpLHRoaXMuJGNhY2hlLmlucHV0LnRyaWdnZXIoXCJpbnB1dFwiKSksdGhpcy5vbGRfZnJvbT10aGlzLnJlc3VsdC5mcm9tLHRoaXMub2xkX3RvPXRoaXMucmVzdWx0LnRvLHRoaXMuaXNfcmVzaXplfHx0aGlzLmlzX3VwZGF0ZXx8dGhpcy5pc19zdGFydHx8dGhpcy5pc19maW5pc2h8fHRoaXMuY2FsbE9uQ2hhbmdlKCksKHRoaXMuaXNfa2V5fHx0aGlzLmlzX2NsaWNrKSYmKHRoaXMuaXNfa2V5PSExLHRoaXMuaXNfY2xpY2s9ITEsdGhpcy5jYWxsT25GaW5pc2goKSksdGhpcy5pc191cGRhdGU9ITEsdGhpcy5pc19yZXNpemU9ITEsdGhpcy5pc19maW5pc2g9ITEpLHRoaXMuaXNfc3RhcnQ9ITEsdGhpcy5pc19rZXk9ITEsdGhpcy5pc19jbGljaz0hMSx0aGlzLmZvcmNlX3JlZHJhdz0hMSkpfSxkcmF3TGFiZWxzOmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zKXt2YXIgdCxpLHMsbyxlLGg9dGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgscj10aGlzLm9wdGlvbnMucF92YWx1ZXM7aWYoIXRoaXMub3B0aW9ucy5oaWRlX2Zyb21fdG8paWYoXCJzaW5nbGVcIj09PXRoaXMub3B0aW9ucy50eXBlKXQ9aD90aGlzLmRlY29yYXRlKHJbdGhpcy5yZXN1bHQuZnJvbV0pOihvPXRoaXMuX3ByZXR0aWZ5KHRoaXMucmVzdWx0LmZyb20pLHRoaXMuZGVjb3JhdGUobyx0aGlzLnJlc3VsdC5mcm9tKSksdGhpcy4kY2FjaGUuc2luZ2xlLmh0bWwodCksdGhpcy5jYWxjTGFiZWxzKCksdGhpcy5sYWJlbHMucF9zaW5nbGVfbGVmdDx0aGlzLmxhYmVscy5wX21pbisxP3RoaXMuJGNhY2hlLm1pblswXS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCI6dGhpcy4kY2FjaGUubWluWzBdLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCIsdGhpcy5sYWJlbHMucF9zaW5nbGVfbGVmdCt0aGlzLmxhYmVscy5wX3NpbmdsZV9mYWtlPjEwMC10aGlzLmxhYmVscy5wX21heC0xP3RoaXMuJGNhY2hlLm1heFswXS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCI6dGhpcy4kY2FjaGUubWF4WzBdLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCI7ZWxzZXtzPWg/KHRoaXMub3B0aW9ucy5kZWNvcmF0ZV9ib3RoPyh0PXRoaXMuZGVjb3JhdGUoclt0aGlzLnJlc3VsdC5mcm9tXSksdCs9dGhpcy5vcHRpb25zLnZhbHVlc19zZXBhcmF0b3IsdCs9dGhpcy5kZWNvcmF0ZShyW3RoaXMucmVzdWx0LnRvXSkpOnQ9dGhpcy5kZWNvcmF0ZShyW3RoaXMucmVzdWx0LmZyb21dK3RoaXMub3B0aW9ucy52YWx1ZXNfc2VwYXJhdG9yK3JbdGhpcy5yZXN1bHQudG9dKSxpPXRoaXMuZGVjb3JhdGUoclt0aGlzLnJlc3VsdC5mcm9tXSksdGhpcy5kZWNvcmF0ZShyW3RoaXMucmVzdWx0LnRvXSkpOihvPXRoaXMuX3ByZXR0aWZ5KHRoaXMucmVzdWx0LmZyb20pLGU9dGhpcy5fcHJldHRpZnkodGhpcy5yZXN1bHQudG8pLHRoaXMub3B0aW9ucy5kZWNvcmF0ZV9ib3RoPyh0PXRoaXMuZGVjb3JhdGUobyx0aGlzLnJlc3VsdC5mcm9tKSx0Kz10aGlzLm9wdGlvbnMudmFsdWVzX3NlcGFyYXRvcix0Kz10aGlzLmRlY29yYXRlKGUsdGhpcy5yZXN1bHQudG8pKTp0PXRoaXMuZGVjb3JhdGUobyt0aGlzLm9wdGlvbnMudmFsdWVzX3NlcGFyYXRvcitlLHRoaXMucmVzdWx0LnRvKSxpPXRoaXMuZGVjb3JhdGUobyx0aGlzLnJlc3VsdC5mcm9tKSx0aGlzLmRlY29yYXRlKGUsdGhpcy5yZXN1bHQudG8pKSx0aGlzLiRjYWNoZS5zaW5nbGUuaHRtbCh0KSx0aGlzLiRjYWNoZS5mcm9tLmh0bWwoaSksdGhpcy4kY2FjaGUudG8uaHRtbChzKSx0aGlzLmNhbGNMYWJlbHMoKTt2YXIgbj1NYXRoLm1pbih0aGlzLmxhYmVscy5wX3NpbmdsZV9sZWZ0LHRoaXMubGFiZWxzLnBfZnJvbV9sZWZ0KSxhPXRoaXMubGFiZWxzLnBfc2luZ2xlX2xlZnQrdGhpcy5sYWJlbHMucF9zaW5nbGVfZmFrZSxjPXRoaXMubGFiZWxzLnBfdG9fbGVmdCt0aGlzLmxhYmVscy5wX3RvX2Zha2UsbD1NYXRoLm1heChhLGMpO3RoaXMubGFiZWxzLnBfZnJvbV9sZWZ0K3RoaXMubGFiZWxzLnBfZnJvbV9mYWtlPj10aGlzLmxhYmVscy5wX3RvX2xlZnQ/KHRoaXMuJGNhY2hlLmZyb21bMF0uc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiLHRoaXMuJGNhY2hlLnRvWzBdLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIix0aGlzLiRjYWNoZS5zaW5nbGVbMF0uc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIixsPXRoaXMucmVzdWx0LmZyb209PT10aGlzLnJlc3VsdC50bz8oXCJmcm9tXCI9PT10aGlzLnRhcmdldD90aGlzLiRjYWNoZS5mcm9tWzBdLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCI6XCJ0b1wiPT09dGhpcy50YXJnZXQ/dGhpcy4kY2FjaGUudG9bMF0uc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIjp0aGlzLnRhcmdldHx8KHRoaXMuJGNhY2hlLmZyb21bMF0uc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIiksdGhpcy4kY2FjaGUuc2luZ2xlWzBdLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIixjKToodGhpcy4kY2FjaGUuZnJvbVswXS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsdGhpcy4kY2FjaGUudG9bMF0uc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiLHRoaXMuJGNhY2hlLnNpbmdsZVswXS5zdHlsZS52aXNpYmlsaXR5PVwidmlzaWJsZVwiLE1hdGgubWF4KGEsYykpKToodGhpcy4kY2FjaGUuZnJvbVswXS5zdHlsZS52aXNpYmlsaXR5PVwidmlzaWJsZVwiLHRoaXMuJGNhY2hlLnRvWzBdLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCIsdGhpcy4kY2FjaGUuc2luZ2xlWzBdLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIiksbjx0aGlzLmxhYmVscy5wX21pbisxP3RoaXMuJGNhY2hlLm1pblswXS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCI6dGhpcy4kY2FjaGUubWluWzBdLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCIsbD4xMDAtdGhpcy5sYWJlbHMucF9tYXgtMT90aGlzLiRjYWNoZS5tYXhbMF0uc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiOnRoaXMuJGNhY2hlLm1heFswXS5zdHlsZS52aXNpYmlsaXR5PVwidmlzaWJsZVwifX19LGRyYXdTaGFkb3c6ZnVuY3Rpb24oKXt2YXIgdCxpLHMsbyxlPXRoaXMub3B0aW9ucyxoPXRoaXMuJGNhY2hlLHI9XCJudW1iZXJcIj09dHlwZW9mIGUuZnJvbV9taW4mJiFpc05hTihlLmZyb21fbWluKSxuPVwibnVtYmVyXCI9PXR5cGVvZiBlLmZyb21fbWF4JiYhaXNOYU4oZS5mcm9tX21heCksYT1cIm51bWJlclwiPT10eXBlb2YgZS50b19taW4mJiFpc05hTihlLnRvX21pbiksYz1cIm51bWJlclwiPT10eXBlb2YgZS50b19tYXgmJiFpc05hTihlLnRvX21heCk7XCJzaW5nbGVcIj09PWUudHlwZT9lLmZyb21fc2hhZG93JiYocnx8bik/KHQ9dGhpcy5jb252ZXJ0VG9QZXJjZW50KHI/ZS5mcm9tX21pbjplLm1pbiksaT10aGlzLmNvbnZlcnRUb1BlcmNlbnQobj9lLmZyb21fbWF4OmUubWF4KS10LHQ9dGhpcy50b0ZpeGVkKHQtdGhpcy5jb29yZHMucF9oYW5kbGUvMTAwKnQpLGk9dGhpcy50b0ZpeGVkKGktdGhpcy5jb29yZHMucF9oYW5kbGUvMTAwKmkpLHQrPXRoaXMuY29vcmRzLnBfaGFuZGxlLzIsaC5zaGFkX3NpbmdsZVswXS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIixoLnNoYWRfc2luZ2xlWzBdLnN0eWxlLmxlZnQ9dCtcIiVcIixoLnNoYWRfc2luZ2xlWzBdLnN0eWxlLndpZHRoPWkrXCIlXCIpOmguc2hhZF9zaW5nbGVbMF0uc3R5bGUuZGlzcGxheT1cIm5vbmVcIjooZS5mcm9tX3NoYWRvdyYmKHJ8fG4pPyh0PXRoaXMuY29udmVydFRvUGVyY2VudChyP2UuZnJvbV9taW46ZS5taW4pLGk9dGhpcy5jb252ZXJ0VG9QZXJjZW50KG4/ZS5mcm9tX21heDplLm1heCktdCx0PXRoaXMudG9GaXhlZCh0LXRoaXMuY29vcmRzLnBfaGFuZGxlLzEwMCp0KSxpPXRoaXMudG9GaXhlZChpLXRoaXMuY29vcmRzLnBfaGFuZGxlLzEwMCppKSx0Kz10aGlzLmNvb3Jkcy5wX2hhbmRsZS8yLGguc2hhZF9mcm9tWzBdLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLGguc2hhZF9mcm9tWzBdLnN0eWxlLmxlZnQ9dCtcIiVcIixoLnNoYWRfZnJvbVswXS5zdHlsZS53aWR0aD1pK1wiJVwiKTpoLnNoYWRfZnJvbVswXS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGUudG9fc2hhZG93JiYoYXx8Yyk/KHM9dGhpcy5jb252ZXJ0VG9QZXJjZW50KGE/ZS50b19taW46ZS5taW4pLG89dGhpcy5jb252ZXJ0VG9QZXJjZW50KGM/ZS50b19tYXg6ZS5tYXgpLXMscz10aGlzLnRvRml4ZWQocy10aGlzLmNvb3Jkcy5wX2hhbmRsZS8xMDAqcyksbz10aGlzLnRvRml4ZWQoby10aGlzLmNvb3Jkcy5wX2hhbmRsZS8xMDAqbykscys9dGhpcy5jb29yZHMucF9oYW5kbGUvMixoLnNoYWRfdG9bMF0uc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsaC5zaGFkX3RvWzBdLnN0eWxlLmxlZnQ9cytcIiVcIixoLnNoYWRfdG9bMF0uc3R5bGUud2lkdGg9bytcIiVcIik6aC5zaGFkX3RvWzBdLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpfSx3cml0ZVRvSW5wdXQ6ZnVuY3Rpb24oKXtcInNpbmdsZVwiPT09dGhpcy5vcHRpb25zLnR5cGU/KHRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoP3RoaXMuJGNhY2hlLmlucHV0LnByb3AoXCJ2YWx1ZVwiLHRoaXMucmVzdWx0LmZyb21fdmFsdWUpOnRoaXMuJGNhY2hlLmlucHV0LnByb3AoXCJ2YWx1ZVwiLHRoaXMucmVzdWx0LmZyb20pLHRoaXMuJGNhY2hlLmlucHV0LmRhdGEoXCJmcm9tXCIsdGhpcy5yZXN1bHQuZnJvbSkpOih0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aD90aGlzLiRjYWNoZS5pbnB1dC5wcm9wKFwidmFsdWVcIix0aGlzLnJlc3VsdC5mcm9tX3ZhbHVlK3RoaXMub3B0aW9ucy5pbnB1dF92YWx1ZXNfc2VwYXJhdG9yK3RoaXMucmVzdWx0LnRvX3ZhbHVlKTp0aGlzLiRjYWNoZS5pbnB1dC5wcm9wKFwidmFsdWVcIix0aGlzLnJlc3VsdC5mcm9tK3RoaXMub3B0aW9ucy5pbnB1dF92YWx1ZXNfc2VwYXJhdG9yK3RoaXMucmVzdWx0LnRvKSx0aGlzLiRjYWNoZS5pbnB1dC5kYXRhKFwiZnJvbVwiLHRoaXMucmVzdWx0LmZyb20pLHRoaXMuJGNhY2hlLmlucHV0LmRhdGEoXCJ0b1wiLHRoaXMucmVzdWx0LnRvKSl9LGNhbGxPblN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy53cml0ZVRvSW5wdXQoKSx0aGlzLm9wdGlvbnMub25TdGFydCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vcHRpb25zLm9uU3RhcnQmJih0aGlzLm9wdGlvbnMuc2NvcGU/dGhpcy5vcHRpb25zLm9uU3RhcnQuY2FsbCh0aGlzLm9wdGlvbnMuc2NvcGUsdGhpcy5yZXN1bHQpOnRoaXMub3B0aW9ucy5vblN0YXJ0KHRoaXMucmVzdWx0KSl9LGNhbGxPbkNoYW5nZTpmdW5jdGlvbigpe3RoaXMud3JpdGVUb0lucHV0KCksdGhpcy5vcHRpb25zLm9uQ2hhbmdlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMub25DaGFuZ2UmJih0aGlzLm9wdGlvbnMuc2NvcGU/dGhpcy5vcHRpb25zLm9uQ2hhbmdlLmNhbGwodGhpcy5vcHRpb25zLnNjb3BlLHRoaXMucmVzdWx0KTp0aGlzLm9wdGlvbnMub25DaGFuZ2UodGhpcy5yZXN1bHQpKX0sY2FsbE9uRmluaXNoOmZ1bmN0aW9uKCl7dGhpcy53cml0ZVRvSW5wdXQoKSx0aGlzLm9wdGlvbnMub25GaW5pc2gmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0aW9ucy5vbkZpbmlzaCYmKHRoaXMub3B0aW9ucy5zY29wZT90aGlzLm9wdGlvbnMub25GaW5pc2guY2FsbCh0aGlzLm9wdGlvbnMuc2NvcGUsdGhpcy5yZXN1bHQpOnRoaXMub3B0aW9ucy5vbkZpbmlzaCh0aGlzLnJlc3VsdCkpfSxjYWxsT25VcGRhdGU6ZnVuY3Rpb24oKXt0aGlzLndyaXRlVG9JbnB1dCgpLHRoaXMub3B0aW9ucy5vblVwZGF0ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vcHRpb25zLm9uVXBkYXRlJiYodGhpcy5vcHRpb25zLnNjb3BlP3RoaXMub3B0aW9ucy5vblVwZGF0ZS5jYWxsKHRoaXMub3B0aW9ucy5zY29wZSx0aGlzLnJlc3VsdCk6dGhpcy5vcHRpb25zLm9uVXBkYXRlKHRoaXMucmVzdWx0KSl9LHRvZ2dsZUlucHV0OmZ1bmN0aW9uKCl7dGhpcy4kY2FjaGUuaW5wdXQudG9nZ2xlQ2xhc3MoXCJpcnMtaGlkZGVuLWlucHV0XCIpLHRoaXMuaGFzX3RhYl9pbmRleD90aGlzLiRjYWNoZS5pbnB1dC5wcm9wKFwidGFiaW5kZXhcIiwtMSk6dGhpcy4kY2FjaGUuaW5wdXQucmVtb3ZlUHJvcChcInRhYmluZGV4XCIpLHRoaXMuaGFzX3RhYl9pbmRleD0hdGhpcy5oYXNfdGFiX2luZGV4fSxjb252ZXJ0VG9QZXJjZW50OmZ1bmN0aW9uKHQsaSl7dmFyIHMsbz10aGlzLm9wdGlvbnMubWF4LXRoaXMub3B0aW9ucy5taW4sZT1vLzEwMDtyZXR1cm4gbz8ocz0oaT90OnQtdGhpcy5vcHRpb25zLm1pbikvZSx0aGlzLnRvRml4ZWQocykpOih0aGlzLm5vX2RpYXBhc29uPSEwLDApfSxjb252ZXJ0VG9WYWx1ZTpmdW5jdGlvbih0KXt2YXIgaSxzLG89dGhpcy5vcHRpb25zLm1pbixlPXRoaXMub3B0aW9ucy5tYXgsaD1vLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdLHI9ZS50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSxuPTAsYT0wO2lmKDA9PT10KXJldHVybiB0aGlzLm9wdGlvbnMubWluO2lmKDEwMD09PXQpcmV0dXJuIHRoaXMub3B0aW9ucy5tYXg7aCYmKG49aT1oLmxlbmd0aCksciYmKG49cz1yLmxlbmd0aCksaSYmcyYmKG49czw9aT9pOnMpLG88MCYmKG89KyhvKyhhPU1hdGguYWJzKG8pKSkudG9GaXhlZChuKSxlPSsoZSthKS50b0ZpeGVkKG4pKTt2YXIgYyxsPShlLW8pLzEwMCp0K28sXz10aGlzLm9wdGlvbnMuc3RlcC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXTtyZXR1cm4gbD1fPytsLnRvRml4ZWQoXy5sZW5ndGgpOihsLz10aGlzLm9wdGlvbnMuc3RlcCwrKGwqPXRoaXMub3B0aW9ucy5zdGVwKS50b0ZpeGVkKDApKSxhJiYobC09YSksKGM9Xz8rbC50b0ZpeGVkKF8ubGVuZ3RoKTp0aGlzLnRvRml4ZWQobCkpPHRoaXMub3B0aW9ucy5taW4/Yz10aGlzLm9wdGlvbnMubWluOmM+dGhpcy5vcHRpb25zLm1heCYmKGM9dGhpcy5vcHRpb25zLm1heCksY30sY2FsY1dpdGhTdGVwOmZ1bmN0aW9uKHQpe3ZhciBpPU1hdGgucm91bmQodC90aGlzLmNvb3Jkcy5wX3N0ZXApKnRoaXMuY29vcmRzLnBfc3RlcDtyZXR1cm4gMTAwPGkmJihpPTEwMCksMTAwPT09dCYmKGk9MTAwKSx0aGlzLnRvRml4ZWQoaSl9LGNoZWNrTWluSW50ZXJ2YWw6ZnVuY3Rpb24odCxpLHMpe3ZhciBvLGUsaD10aGlzLm9wdGlvbnM7cmV0dXJuIGgubWluX2ludGVydmFsPyhvPXRoaXMuY29udmVydFRvVmFsdWUodCksZT10aGlzLmNvbnZlcnRUb1ZhbHVlKGkpLFwiZnJvbVwiPT09cz9lLW88aC5taW5faW50ZXJ2YWwmJihvPWUtaC5taW5faW50ZXJ2YWwpOm8tZTxoLm1pbl9pbnRlcnZhbCYmKG89ZStoLm1pbl9pbnRlcnZhbCksdGhpcy5jb252ZXJ0VG9QZXJjZW50KG8pKTp0fSxjaGVja01heEludGVydmFsOmZ1bmN0aW9uKHQsaSxzKXt2YXIgbyxlLGg9dGhpcy5vcHRpb25zO3JldHVybiBoLm1heF9pbnRlcnZhbD8obz10aGlzLmNvbnZlcnRUb1ZhbHVlKHQpLGU9dGhpcy5jb252ZXJ0VG9WYWx1ZShpKSxcImZyb21cIj09PXM/ZS1vPmgubWF4X2ludGVydmFsJiYobz1lLWgubWF4X2ludGVydmFsKTpvLWU+aC5tYXhfaW50ZXJ2YWwmJihvPWUraC5tYXhfaW50ZXJ2YWwpLHRoaXMuY29udmVydFRvUGVyY2VudChvKSk6dH0sY2hlY2tEaWFwYXNvbjpmdW5jdGlvbih0LGkscyl7dmFyIG89dGhpcy5jb252ZXJ0VG9WYWx1ZSh0KSxlPXRoaXMub3B0aW9ucztyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgaSYmKGk9ZS5taW4pLFwibnVtYmVyXCIhPXR5cGVvZiBzJiYocz1lLm1heCksbzxpJiYobz1pKSxzPG8mJihvPXMpLHRoaXMuY29udmVydFRvUGVyY2VudChvKX0sdG9GaXhlZDpmdW5jdGlvbih0KXtyZXR1cm4rKHQ9dC50b0ZpeGVkKDIwKSl9LF9wcmV0dGlmeTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLnByZXR0aWZ5X2VuYWJsZWQ/dGhpcy5vcHRpb25zLnByZXR0aWZ5JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMucHJldHRpZnk/dGhpcy5vcHRpb25zLnByZXR0aWZ5KHQpOnRoaXMucHJldHRpZnkodCk6dH0scHJldHRpZnk6ZnVuY3Rpb24odCl7cmV0dXJuIHQudG9TdHJpbmcoKS5yZXBsYWNlKC8oXFxkezEsM30oPz0oPzpcXGRcXGRcXGQpKyg/IVxcZCkpKS9nLFwiJDFcIit0aGlzLm9wdGlvbnMucHJldHRpZnlfc2VwYXJhdG9yKX0sY2hlY2tFZGdlczpmdW5jdGlvbih0LGkpe3JldHVybiB0aGlzLm9wdGlvbnMuZm9yY2VfZWRnZXMmJih0PDA/dD0wOjEwMC1pPHQmJih0PTEwMC1pKSksdGhpcy50b0ZpeGVkKHQpfSx2YWxpZGF0ZTpmdW5jdGlvbigpe3ZhciB0LGkscz10aGlzLm9wdGlvbnMsbz10aGlzLnJlc3VsdCxlPXMudmFsdWVzLGg9ZS5sZW5ndGg7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHMubWluJiYocy5taW49K3MubWluKSxcInN0cmluZ1wiPT10eXBlb2Ygcy5tYXgmJihzLm1heD0rcy5tYXgpLFwic3RyaW5nXCI9PXR5cGVvZiBzLmZyb20mJihzLmZyb209K3MuZnJvbSksXCJzdHJpbmdcIj09dHlwZW9mIHMudG8mJihzLnRvPStzLnRvKSxcInN0cmluZ1wiPT10eXBlb2Ygcy5zdGVwJiYocy5zdGVwPStzLnN0ZXApLFwic3RyaW5nXCI9PXR5cGVvZiBzLmZyb21fbWluJiYocy5mcm9tX21pbj0rcy5mcm9tX21pbiksXCJzdHJpbmdcIj09dHlwZW9mIHMuZnJvbV9tYXgmJihzLmZyb21fbWF4PStzLmZyb21fbWF4KSxcInN0cmluZ1wiPT10eXBlb2Ygcy50b19taW4mJihzLnRvX21pbj0rcy50b19taW4pLFwic3RyaW5nXCI9PXR5cGVvZiBzLnRvX21heCYmKHMudG9fbWF4PStzLnRvX21heCksXCJzdHJpbmdcIj09dHlwZW9mIHMuZ3JpZF9udW0mJihzLmdyaWRfbnVtPStzLmdyaWRfbnVtKSxzLm1heDxzLm1pbiYmKHMubWF4PXMubWluKSxoKWZvcihzLnBfdmFsdWVzPVtdLHMubWluPTAscy5tYXg9aC0xLHMuc3RlcD0xLHMuZ3JpZF9udW09cy5tYXgscy5ncmlkX3NuYXA9ITAsaT0wO2k8aDtpKyspdD0rZVtpXSx0PWlzTmFOKHQpP2VbaV06KGVbaV09dCx0aGlzLl9wcmV0dGlmeSh0KSkscy5wX3ZhbHVlcy5wdXNoKHQpOyhcIm51bWJlclwiIT10eXBlb2Ygcy5mcm9tfHxpc05hTihzLmZyb20pKSYmKHMuZnJvbT1zLm1pbiksKFwibnVtYmVyXCIhPXR5cGVvZiBzLnRvfHxpc05hTihzLnRvKSkmJihzLnRvPXMubWF4KSxcInNpbmdsZVwiPT09cy50eXBlPyhzLmZyb208cy5taW4mJihzLmZyb209cy5taW4pLHMuZnJvbT5zLm1heCYmKHMuZnJvbT1zLm1heCkpOihzLmZyb208cy5taW4mJihzLmZyb209cy5taW4pLHMuZnJvbT5zLm1heCYmKHMuZnJvbT1zLm1heCkscy50bzxzLm1pbiYmKHMudG89cy5taW4pLHMudG8+cy5tYXgmJihzLnRvPXMubWF4KSx0aGlzLnVwZGF0ZV9jaGVjay5mcm9tJiYodGhpcy51cGRhdGVfY2hlY2suZnJvbSE9PXMuZnJvbSYmcy5mcm9tPnMudG8mJihzLmZyb209cy50byksdGhpcy51cGRhdGVfY2hlY2sudG8hPT1zLnRvJiZzLnRvPHMuZnJvbSYmKHMudG89cy5mcm9tKSkscy5mcm9tPnMudG8mJihzLmZyb209cy50bykscy50bzxzLmZyb20mJihzLnRvPXMuZnJvbSkpLChcIm51bWJlclwiIT10eXBlb2Ygcy5zdGVwfHxpc05hTihzLnN0ZXApfHwhcy5zdGVwfHxzLnN0ZXA8MCkmJihzLnN0ZXA9MSksXCJudW1iZXJcIj09dHlwZW9mIHMuZnJvbV9taW4mJnMuZnJvbTxzLmZyb21fbWluJiYocy5mcm9tPXMuZnJvbV9taW4pLFwibnVtYmVyXCI9PXR5cGVvZiBzLmZyb21fbWF4JiZzLmZyb20+cy5mcm9tX21heCYmKHMuZnJvbT1zLmZyb21fbWF4KSxcIm51bWJlclwiPT10eXBlb2Ygcy50b19taW4mJnMudG88cy50b19taW4mJihzLnRvPXMudG9fbWluKSxcIm51bWJlclwiPT10eXBlb2Ygcy50b19tYXgmJnMuZnJvbT5zLnRvX21heCYmKHMudG89cy50b19tYXgpLG8mJihvLm1pbiE9PXMubWluJiYoby5taW49cy5taW4pLG8ubWF4IT09cy5tYXgmJihvLm1heD1zLm1heCksKG8uZnJvbTxvLm1pbnx8by5mcm9tPm8ubWF4KSYmKG8uZnJvbT1zLmZyb20pLChvLnRvPG8ubWlufHxvLnRvPm8ubWF4KSYmKG8udG89cy50bykpLChcIm51bWJlclwiIT10eXBlb2Ygcy5taW5faW50ZXJ2YWx8fGlzTmFOKHMubWluX2ludGVydmFsKXx8IXMubWluX2ludGVydmFsfHxzLm1pbl9pbnRlcnZhbDwwKSYmKHMubWluX2ludGVydmFsPTApLChcIm51bWJlclwiIT10eXBlb2Ygcy5tYXhfaW50ZXJ2YWx8fGlzTmFOKHMubWF4X2ludGVydmFsKXx8IXMubWF4X2ludGVydmFsfHxzLm1heF9pbnRlcnZhbDwwKSYmKHMubWF4X2ludGVydmFsPTApLHMubWluX2ludGVydmFsJiZzLm1pbl9pbnRlcnZhbD5zLm1heC1zLm1pbiYmKHMubWluX2ludGVydmFsPXMubWF4LXMubWluKSxzLm1heF9pbnRlcnZhbCYmcy5tYXhfaW50ZXJ2YWw+cy5tYXgtcy5taW4mJihzLm1heF9pbnRlcnZhbD1zLm1heC1zLm1pbil9LGRlY29yYXRlOmZ1bmN0aW9uKHQsaSl7dmFyIHM9XCJcIixvPXRoaXMub3B0aW9ucztyZXR1cm4gby5wcmVmaXgmJihzKz1vLnByZWZpeCkscys9dCxvLm1heF9wb3N0Zml4JiYoby52YWx1ZXMubGVuZ3RoJiZ0PT09by5wX3ZhbHVlc1tvLm1heF0/KHMrPW8ubWF4X3Bvc3RmaXgsby5wb3N0Zml4JiYocys9XCIgXCIpKTppPT09by5tYXgmJihzKz1vLm1heF9wb3N0Zml4LG8ucG9zdGZpeCYmKHMrPVwiIFwiKSkpLG8ucG9zdGZpeCYmKHMrPW8ucG9zdGZpeCksc30sdXBkYXRlRnJvbTpmdW5jdGlvbigpe3RoaXMucmVzdWx0LmZyb209dGhpcy5vcHRpb25zLmZyb20sdGhpcy5yZXN1bHQuZnJvbV9wZXJjZW50PXRoaXMuY29udmVydFRvUGVyY2VudCh0aGlzLnJlc3VsdC5mcm9tKSx0aGlzLnJlc3VsdC5mcm9tX3ByZXR0eT10aGlzLl9wcmV0dGlmeSh0aGlzLnJlc3VsdC5mcm9tKSx0aGlzLm9wdGlvbnMudmFsdWVzJiYodGhpcy5yZXN1bHQuZnJvbV92YWx1ZT10aGlzLm9wdGlvbnMudmFsdWVzW3RoaXMucmVzdWx0LmZyb21dKX0sdXBkYXRlVG86ZnVuY3Rpb24oKXt0aGlzLnJlc3VsdC50bz10aGlzLm9wdGlvbnMudG8sdGhpcy5yZXN1bHQudG9fcGVyY2VudD10aGlzLmNvbnZlcnRUb1BlcmNlbnQodGhpcy5yZXN1bHQudG8pLHRoaXMucmVzdWx0LnRvX3ByZXR0eT10aGlzLl9wcmV0dGlmeSh0aGlzLnJlc3VsdC50byksdGhpcy5vcHRpb25zLnZhbHVlcyYmKHRoaXMucmVzdWx0LnRvX3ZhbHVlPXRoaXMub3B0aW9ucy52YWx1ZXNbdGhpcy5yZXN1bHQudG9dKX0sdXBkYXRlUmVzdWx0OmZ1bmN0aW9uKCl7dGhpcy5yZXN1bHQubWluPXRoaXMub3B0aW9ucy5taW4sdGhpcy5yZXN1bHQubWF4PXRoaXMub3B0aW9ucy5tYXgsdGhpcy51cGRhdGVGcm9tKCksdGhpcy51cGRhdGVUbygpfSxhcHBlbmRHcmlkOmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmdyaWQpe3ZhciB0LGkscyxvLGUsaCxyPXRoaXMub3B0aW9ucyxuPXIubWF4LXIubWluLGE9ci5ncmlkX251bSxjPTAsbD00LF89XCJcIjtmb3IodGhpcy5jYWxjR3JpZE1hcmdpbigpLHIuZ3JpZF9zbmFwJiYoYT1uL3Iuc3RlcCksNTA8YSYmKGE9NTApLHM9dGhpcy50b0ZpeGVkKDEwMC9hKSw0PGEmJihsPTMpLDc8YSYmKGw9MiksMTQ8YSYmKGw9MSksMjg8YSYmKGw9MCksdD0wO3Q8YSsxO3QrKyl7Zm9yKG89bCwxMDA8KGM9dGhpcy50b0ZpeGVkKHMqdCkpJiYoYz0xMDApLGU9KCh0aGlzLmNvb3Jkcy5iaWdbdF09YyktcyoodC0xKSkvKG8rMSksaT0xO2k8PW8mJjAhPT1jO2krKylfKz0nPHNwYW4gY2xhc3M9XCJpcnMtZ3JpZC1wb2wgc21hbGxcIiBzdHlsZT1cImxlZnQ6ICcrdGhpcy50b0ZpeGVkKGMtZSppKSsnJVwiPjwvc3Bhbj4nO18rPSc8c3BhbiBjbGFzcz1cImlycy1ncmlkLXBvbFwiIHN0eWxlPVwibGVmdDogJytjKyclXCI+PC9zcGFuPicsaD10aGlzLmNvbnZlcnRUb1ZhbHVlKGMpLF8rPSc8c3BhbiBjbGFzcz1cImlycy1ncmlkLXRleHQganMtZ3JpZC10ZXh0LScrdCsnXCIgc3R5bGU9XCJsZWZ0OiAnK2MrJyVcIj4nKyhoPXIudmFsdWVzLmxlbmd0aD9yLnBfdmFsdWVzW2hdOnRoaXMuX3ByZXR0aWZ5KGgpKStcIjwvc3Bhbj5cIn10aGlzLmNvb3Jkcy5iaWdfbnVtPU1hdGguY2VpbChhKzEpLHRoaXMuJGNhY2hlLmNvbnQuYWRkQ2xhc3MoXCJpcnMtd2l0aC1ncmlkXCIpLHRoaXMuJGNhY2hlLmdyaWQuaHRtbChfKSx0aGlzLmNhY2hlR3JpZExhYmVscygpfX0sY2FjaGVHcmlkTGFiZWxzOmZ1bmN0aW9uKCl7dmFyIHQsaSxzPXRoaXMuY29vcmRzLmJpZ19udW07Zm9yKGk9MDtpPHM7aSsrKXQ9dGhpcy4kY2FjaGUuZ3JpZC5maW5kKFwiLmpzLWdyaWQtdGV4dC1cIitpKSx0aGlzLiRjYWNoZS5ncmlkX2xhYmVscy5wdXNoKHQpO3RoaXMuY2FsY0dyaWRMYWJlbHMoKX0sY2FsY0dyaWRMYWJlbHM6ZnVuY3Rpb24oKXt2YXIgdCxpLHM9W10sbz1bXSxlPXRoaXMuY29vcmRzLmJpZ19udW07Zm9yKHQ9MDt0PGU7dCsrKXRoaXMuY29vcmRzLmJpZ193W3RdPXRoaXMuJGNhY2hlLmdyaWRfbGFiZWxzW3RdLm91dGVyV2lkdGgoITEpLHRoaXMuY29vcmRzLmJpZ19wW3RdPXRoaXMudG9GaXhlZCh0aGlzLmNvb3Jkcy5iaWdfd1t0XS90aGlzLmNvb3Jkcy53X3JzKjEwMCksdGhpcy5jb29yZHMuYmlnX3hbdF09dGhpcy50b0ZpeGVkKHRoaXMuY29vcmRzLmJpZ19wW3RdLzIpLHNbdF09dGhpcy50b0ZpeGVkKHRoaXMuY29vcmRzLmJpZ1t0XS10aGlzLmNvb3Jkcy5iaWdfeFt0XSksb1t0XT10aGlzLnRvRml4ZWQoc1t0XSt0aGlzLmNvb3Jkcy5iaWdfcFt0XSk7Zm9yKHRoaXMub3B0aW9ucy5mb3JjZV9lZGdlcyYmKHNbMF08LXRoaXMuY29vcmRzLmdyaWRfZ2FwJiYoc1swXT0tdGhpcy5jb29yZHMuZ3JpZF9nYXAsb1swXT10aGlzLnRvRml4ZWQoc1swXSt0aGlzLmNvb3Jkcy5iaWdfcFswXSksdGhpcy5jb29yZHMuYmlnX3hbMF09dGhpcy5jb29yZHMuZ3JpZF9nYXApLG9bZS0xXT4xMDArdGhpcy5jb29yZHMuZ3JpZF9nYXAmJihvW2UtMV09MTAwK3RoaXMuY29vcmRzLmdyaWRfZ2FwLHNbZS0xXT10aGlzLnRvRml4ZWQob1tlLTFdLXRoaXMuY29vcmRzLmJpZ19wW2UtMV0pLHRoaXMuY29vcmRzLmJpZ194W2UtMV09dGhpcy50b0ZpeGVkKHRoaXMuY29vcmRzLmJpZ19wW2UtMV0tdGhpcy5jb29yZHMuZ3JpZF9nYXApKSksdGhpcy5jYWxjR3JpZENvbGxpc2lvbigyLHMsbyksdGhpcy5jYWxjR3JpZENvbGxpc2lvbig0LHMsbyksdD0wO3Q8ZTt0KyspaT10aGlzLiRjYWNoZS5ncmlkX2xhYmVsc1t0XVswXSx0aGlzLmNvb3Jkcy5iaWdfeFt0XSE9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSYmKGkuc3R5bGUubWFyZ2luTGVmdD0tdGhpcy5jb29yZHMuYmlnX3hbdF0rXCIlXCIpfSxjYWxjR3JpZENvbGxpc2lvbjpmdW5jdGlvbih0LGkscyl7dmFyIG8sZSxoLHI9dGhpcy5jb29yZHMuYmlnX251bTtmb3Iobz0wO288ciYmIShyPD0oZT1vK3QvMikpO28rPXQpaD10aGlzLiRjYWNoZS5ncmlkX2xhYmVsc1tlXVswXSxzW29dPD1pW2VdP2guc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIjpoLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIn0sY2FsY0dyaWRNYXJnaW46ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZ3JpZF9tYXJnaW4mJih0aGlzLmNvb3Jkcy53X3JzPXRoaXMuJGNhY2hlLnJzLm91dGVyV2lkdGgoITEpLHRoaXMuY29vcmRzLndfcnMmJihcInNpbmdsZVwiPT09dGhpcy5vcHRpb25zLnR5cGU/dGhpcy5jb29yZHMud19oYW5kbGU9dGhpcy4kY2FjaGUuc19zaW5nbGUub3V0ZXJXaWR0aCghMSk6dGhpcy5jb29yZHMud19oYW5kbGU9dGhpcy4kY2FjaGUuc19mcm9tLm91dGVyV2lkdGgoITEpLHRoaXMuY29vcmRzLnBfaGFuZGxlPXRoaXMudG9GaXhlZCh0aGlzLmNvb3Jkcy53X2hhbmRsZS90aGlzLmNvb3Jkcy53X3JzKjEwMCksdGhpcy5jb29yZHMuZ3JpZF9nYXA9dGhpcy50b0ZpeGVkKHRoaXMuY29vcmRzLnBfaGFuZGxlLzItLjEpLHRoaXMuJGNhY2hlLmdyaWRbMF0uc3R5bGUud2lkdGg9dGhpcy50b0ZpeGVkKDEwMC10aGlzLmNvb3Jkcy5wX2hhbmRsZSkrXCIlXCIsdGhpcy4kY2FjaGUuZ3JpZFswXS5zdHlsZS5sZWZ0PXRoaXMuY29vcmRzLmdyaWRfZ2FwK1wiJVwiKSl9LHVwZGF0ZTpmdW5jdGlvbih0KXt0aGlzLmlucHV0JiYodGhpcy5pc191cGRhdGU9ITAsdGhpcy5vcHRpb25zLmZyb209dGhpcy5yZXN1bHQuZnJvbSx0aGlzLm9wdGlvbnMudG89dGhpcy5yZXN1bHQudG8sdGhpcy51cGRhdGVfY2hlY2suZnJvbT10aGlzLnJlc3VsdC5mcm9tLHRoaXMudXBkYXRlX2NoZWNrLnRvPXRoaXMucmVzdWx0LnRvLHRoaXMub3B0aW9ucz1hLmV4dGVuZCh0aGlzLm9wdGlvbnMsdCksdGhpcy52YWxpZGF0ZSgpLHRoaXMudXBkYXRlUmVzdWx0KHQpLHRoaXMudG9nZ2xlSW5wdXQoKSx0aGlzLnJlbW92ZSgpLHRoaXMuaW5pdCghMCkpfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuaW5wdXQmJih0aGlzLnVwZGF0ZVJlc3VsdCgpLHRoaXMudXBkYXRlKCkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5pbnB1dCYmKHRoaXMudG9nZ2xlSW5wdXQoKSx0aGlzLiRjYWNoZS5pbnB1dC5wcm9wKFwicmVhZG9ubHlcIiwhMSksYS5kYXRhKHRoaXMuaW5wdXQsXCJpb25SYW5nZVNsaWRlclwiLG51bGwpLHRoaXMucmVtb3ZlKCksdGhpcy5pbnB1dD1udWxsLHRoaXMub3B0aW9ucz1udWxsKX19LGEuZm4uaW9uUmFuZ2VTbGlkZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2EuZGF0YSh0aGlzLFwiaW9uUmFuZ2VTbGlkZXJcIil8fGEuZGF0YSh0aGlzLFwiaW9uUmFuZ2VTbGlkZXJcIixuZXcgaCh0aGlzLHQsbysrKSl9KX0sZnVuY3Rpb24oKXtmb3IodmFyIGg9MCx0PVtcIm1zXCIsXCJtb3pcIixcIndlYmtpdFwiLFwib1wiXSxpPTA7aTx0Lmxlbmd0aCYmIWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lOysraSlsLnJlcXVlc3RBbmltYXRpb25GcmFtZT1sW3RbaV0rXCJSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl0sbC5jYW5jZWxBbmltYXRpb25GcmFtZT1sW3RbaV0rXCJDYW5jZWxBbmltYXRpb25GcmFtZVwiXXx8bFt0W2ldK1wiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO2wucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwobC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24odCxpKXt2YXIgcz0obmV3IERhdGUpLmdldFRpbWUoKSxvPU1hdGgubWF4KDAsMTYtKHMtaCkpLGU9bC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dChzK28pfSxvKTtyZXR1cm4gaD1zK28sZX0pLGwuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fChsLmNhbmNlbEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dCh0KX0pfSgpfSk7XHJcblxyXG4vKlxyXG4gKiBDdXN0b21cclxuICovXHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoKSB7XHJcblx0JCgnaW5wdXRbdHlwZT1cInRlbFwiXScpLmlucHV0bWFzayh7XHJcblx0XHRtYXNrOiBcIis3KDk5OSk5OTktOTktOTlcIixcclxuXHRcdHNob3dNYXNrT25Ib3ZlcjogZmFsc2UsXHJcblx0XHRzaG93TWFza09uRm9jdXM6IHRydWVcclxuXHR9KVxyXG5cdFxyXG5cdHZhciBteVN3aXBlcjEgPSBuZXcgU3dpcGVyKFwiI3N0YWdlLXNsaWRlci5zd2lwZXItY29udGFpbmVyXCIsIHtcclxuXHRcdHNwZWVkOiA1MDAsXHJcblx0XHRzcGFjZUJldHdlZW46IDBcclxuXHR9KVxyXG5cdFxyXG5cdHZhciBteVN3aXBlcjIgPSBuZXcgU3dpcGVyKFwiI21haW4tZGlwbG9tYS1zbGlkZXIgLmRpcGxvbWEtYmxvY2tfX2NvbnRhaW5lclwiLCB7XHJcblx0XHRzcGVlZDogNTAwLFxyXG5cdFx0c3BhY2VCZXR3ZWVuOiAxMCxcclxuXHRcdHNsaWRlc1BlclZpZXc6IDQsXHJcblx0XHRhdXRvcGxheTogZmFsc2UsXHJcblx0XHRub1N3aXBpbmc6IHRydWUsXHJcblx0XHRvbmx5RXh0ZXJuYWw6IHRydWUsXHJcblx0XHRrZXlib2FyZDogZmFsc2UsXHJcblx0XHRzaW11bGF0ZVRvdWNoOiBmYWxzZSxcclxuXHRcclxuXHRcdGJyZWFrcG9pbnRzOiB7XHJcblx0XHRcdDExNDA6IHtcclxuXHRcdFx0XHRzbGlkZXNQZXJWaWV3OiAzLFxyXG5cdFx0XHRcdHNwYWNlQmV0d2VlbjogMTAsXHJcblx0XHRcdFx0bm9Td2lwaW5nOiBmYWxzZSxcclxuXHRcdFx0XHRvbmx5RXh0ZXJuYWw6IGZhbHNlLFxyXG5cdFx0XHRcdGtleWJvYXJkOiB0cnVlLFxyXG5cdFx0XHRcdHNpbXVsYXRlVG91Y2g6IHRydWVcclxuXHRcdFx0fSxcclxuXHRcdFx0ODAwOiB7XHJcblx0XHRcdFx0c2xpZGVzUGVyVmlldzogMixcclxuXHRcdFx0XHRzcGFjZUJldHdlZW46IDBcclxuXHRcdFx0fSxcclxuXHRcclxuXHRcdFx0NzAwOiB7XHJcblx0XHRcdFx0c2xpZGVzUGVyVmlldzogMSxcclxuXHRcdFx0XHRzcGFjZUJldHdlZW46IDBcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pXHJcblx0XHJcblx0dmFyIG15U3dpcGVyMyA9IG5ldyBTd2lwZXIoXCIjc2Vjb25kLWRpcGxvbWEtc2xpZGVyIC5kaXBsb21hLWJsb2NrX19jb250YWluZXJcIiwge1xyXG5cdFx0c3BlZWQ6IDUwMCxcclxuXHRcdHNsaWRlc1BlclZpZXc6IDYsXHJcblx0XHRzbGlkZXNQZXJDb2x1bW46IDIsXHJcblx0XHRzcGFjZUJldHdlZW46IDE1LFxyXG5cdFx0bG9vcDogZmFsc2UsXHJcblx0XHRwYWdpbmF0aW9uOiB7XHJcblx0XHRcdGVsOiBcIi5zd2lwZXItcGFnaW5hdGlvblwiLFxyXG5cdFx0XHRjbGlja2FibGU6IHRydWVcclxuXHRcdH0sXHJcblx0XHJcblx0XHRicmVha3BvaW50czoge1xyXG5cdFx0XHQxNTAwOiB7XHJcblx0XHRcdFx0c2xpZGVzUGVyVmlldzogNFxyXG5cdFx0XHR9LFxyXG5cdFxyXG5cdFx0XHQxMDI0OiB7XHJcblx0XHRcdFx0c2xpZGVzUGVyVmlldzogM1xyXG5cdFx0XHR9LFxyXG5cdFxyXG5cdFx0XHQ1ODA6IHtcclxuXHRcdFx0XHRzbGlkZXNQZXJWaWV3OiAyXHJcblx0XHRcdH0sXHJcblx0XHJcblx0XHRcdDQ1MDoge1xyXG5cdFx0XHRcdHNsaWRlc1BlclZpZXc6IDEsXHJcblx0XHRcdFx0c3BhY2VCZXR3ZWVuOiAwXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KVxyXG5cdFxyXG5cdHZhciBjbGlja0l0ZW1NZW51ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIG1lbnVJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oZWFkZXItbWVudV9faXRlbVwiKVxyXG5cdFxyXG5cdFx0ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0Zm9yICh2YXIgaXRlbSBvZiBtZW51SXRlbSkge1xyXG5cdFx0XHRcdHZhciBzdWJtZW51ID0gaXRlbS5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlci1zdWJtZW51XCIpXHJcblx0XHJcblx0XHRcdFx0aWYgKHN1Ym1lbnUpIHtcclxuXHRcdFx0XHRcdGlmIChlLnRhcmdldCA9PSBpdGVtLnF1ZXJ5U2VsZWN0b3IoXCJhXCIpKSB7XHJcblx0XHRcdFx0XHRcdGlmIChcclxuXHRcdFx0XHRcdFx0XHQhaXRlbVxyXG5cdFx0XHRcdFx0XHRcdC5xdWVyeVNlbGVjdG9yKFwiYVwiKVxyXG5cdFx0XHRcdFx0XHRcdC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpXHJcblx0XHRcdFx0XHRcdFx0LnN1YnN0cigxKVxyXG5cdFx0XHRcdFx0XHQpIHtcclxuXHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KClcclxuXHRcdFx0XHRcdFx0XHRzdWJtZW51LmNsYXNzTGlzdC5hZGQoXCJvcGVuXCIpXHJcblx0XHRcdFx0XHRcdFx0aXRlbS5xdWVyeVNlbGVjdG9yKFwiYVwiKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRzdWJtZW51LmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuXCIpXHJcblx0XHRcdFx0XHRcdGl0ZW0ucXVlcnlTZWxlY3RvcihcImFcIikuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdH1cclxuXHRcclxuXHRjbGlja0l0ZW1NZW51KClcclxuXHRcclxuXHR2YXIgZ2V0T3Blbk1lbnUgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgb3ZlcmxheU1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxheW91dC1tZW51XCIpXHJcblx0XHR2YXIgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXItbWVudVwiKVxyXG5cdFxyXG5cdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdG92ZXJsYXlNZW51LmNsYXNzTGlzdC5hZGQoXCJvcGVuXCIpXHJcblx0XHRcdHRoaXMuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcclxuXHRcdH0pXHJcblx0fVxyXG5cdFxyXG5cdGdldE9wZW5NZW51KClcclxuXHRcclxuXHR2YXIgZ2V0Q2xvc2VNZW51ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIG92ZXJsYXlNZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsYXlvdXQtbWVudVwiKVxyXG5cdFx0dmFyIHNlY3Rpb25zTWVudSA9IG92ZXJsYXlNZW51LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubGF5b3V0LW1lbnVfX3NlY3Rpb25cIilcclxuXHRcdHZhciBtb2JpbGVNZW51V3JhcHBlciA9IG92ZXJsYXlNZW51LnF1ZXJ5U2VsZWN0b3IoXCIubGF5b3V0LW1lbnVfX21vYmlsZVwiKVxyXG5cdFx0dmFyIGNsb3NlTW9iaWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbG9zZS1tb2JpbGUtbWVudVwiKVxyXG5cdFx0dmFyIGxheW91dExvZ28gPSBvdmVybGF5TWVudS5xdWVyeVNlbGVjdG9yKFwiLmxheW91dC1tZW51X19sb2dvXCIpXHJcblx0XHR2YXIgYnRuT3BlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyLW1lbnVcIilcclxuXHRcdHZhciBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsb3NlLWxheW91dC1tZW51XCIpXHJcblx0XHJcblx0XHRidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0b3ZlcmxheU1lbnUuY2xhc3NMaXN0LnJlbW92ZShcIm9wZW5cIilcclxuXHRcdFx0Y2xvc2VNb2JpbGUuY2xhc3NMaXN0LnJlbW92ZShcIm9wZW5cIilcclxuXHRcdFx0bGF5b3V0TG9nby5jbGFzc0xpc3QucmVtb3ZlKFwib3BlblwiKVxyXG5cdFx0XHRidG5PcGVuLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xyXG5cdFx0XHRtb2JpbGVNZW51V3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKFwiY2xvc2VcIilcclxuXHRcclxuXHRcdFx0Zm9yICh2YXIgc2VjdGlvbkl0ZW0gb2Ygc2VjdGlvbnNNZW51KSB7XHJcblx0XHRcdFx0aWYgKHNlY3Rpb25JdGVtLmNsYXNzTGlzdC5jb250YWlucyhcIm9wZW5cIikpIHtcclxuXHRcdFx0XHRcdHNlY3Rpb25JdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuXCIpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdFxyXG5cdFx0b3ZlcmxheU1lbnUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdGlmIChlLnRhcmdldCA9PT0gdGhpcykge1xyXG5cdFx0XHRcdG92ZXJsYXlNZW51LmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuXCIpXHJcblx0XHRcdFx0YnRuT3Blbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHR9XHJcblx0XHJcblx0Z2V0Q2xvc2VNZW51KClcclxuXHRcclxuXHR2YXIgZ2V0TW9iaWxlTWVudSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBvdmVybGF5TWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGF5b3V0LW1lbnVcIilcclxuXHRcdHZhciBsYXlvdXRMb2dvID0gb3ZlcmxheU1lbnUucXVlcnlTZWxlY3RvcihcIi5sYXlvdXQtbWVudV9fbG9nb1wiKVxyXG5cdFx0dmFyIGNsb3NlTW9iaWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbG9zZS1tb2JpbGUtbWVudVwiKVxyXG5cdFx0dmFyIG1vYmlsZU1lbnVXcmFwcGVyID0gb3ZlcmxheU1lbnUucXVlcnlTZWxlY3RvcihcIi5sYXlvdXQtbWVudV9fbW9iaWxlXCIpXHJcblx0XHR2YXIgbW9iaWxlTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9iaWxlLW1lbnVcIilcclxuXHRcdHZhciBtb2JpbGVJdGVtID0gbW9iaWxlTWVudS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vYmlsZS1tZW51X19pdGVtXCIpXHJcblx0XHR2YXIgc2VjdGlvbnNNZW51ID0gb3ZlcmxheU1lbnUucXVlcnlTZWxlY3RvckFsbChcIi5sYXlvdXQtbWVudV9fc2VjdGlvblwiKVxyXG5cdFxyXG5cdFx0Zm9yICh2YXIgaXRlbSBvZiBtb2JpbGVJdGVtKSB7XHJcblx0XHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdFx0dmFyIGxpbmsgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoXCJhXCIpO1xyXG5cdFx0XHRcdHZhciBudW1TZWN0aW9uTWVudSA9IGxpbmsuaGFzaC5zdWJzdHIoMSlcclxuXHRcclxuXHRcdFx0XHRmb3IgKHZhciBzZWN0aW9uSXRlbSBvZiBzZWN0aW9uc01lbnUpIHtcclxuXHRcdFx0XHRcdHZhciBkYXRhTnVtID0gc2VjdGlvbkl0ZW0uZGF0YXNldC5zZWN0aW9uTWVudVxyXG5cdFxyXG5cdFx0XHRcdFx0aWYgKG51bVNlY3Rpb25NZW51ID09PSBkYXRhTnVtKSB7XHJcblx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKVxyXG5cdFx0XHRcdFx0XHRjbG9zZU1vYmlsZS5jbGFzc0xpc3QuYWRkKFwib3BlblwiKVxyXG5cdFx0XHRcdFx0XHRsYXlvdXRMb2dvLmNsYXNzTGlzdC5hZGQoXCJvcGVuXCIpXHJcblx0XHRcdFx0XHRcdG1vYmlsZU1lbnVXcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJjbG9zZVwiKVxyXG5cdFx0XHRcdFx0XHRzZWN0aW9uSXRlbS5jbGFzc0xpc3QuYWRkKFwib3BlblwiKVxyXG5cdFx0XHRcdFx0XHRsaW5rLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICd0cnVlJylcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblx0XHJcblx0XHRjbG9zZU1vYmlsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR0aGlzLmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuXCIpXHJcblx0XHRcdGxheW91dExvZ28uY2xhc3NMaXN0LnJlbW92ZShcIm9wZW5cIilcclxuXHRcdFx0bW9iaWxlTWVudVdyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZShcImNsb3NlXCIpXHJcblx0XHJcblx0XHRcdGZvciAodmFyIGl0ZW0gb2YgbW9iaWxlSXRlbSkge1xyXG5cdFx0XHRcdGl0ZW0ucXVlcnlTZWxlY3RvcihcImFcIikuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XHJcblx0XHRcdH1cclxuXHRcclxuXHRcdFx0Zm9yICh2YXIgc2VjdGlvbkl0ZW0gb2Ygc2VjdGlvbnNNZW51KSB7XHJcblx0XHRcdFx0aWYgKHNlY3Rpb25JdGVtLmNsYXNzTGlzdC5jb250YWlucyhcIm9wZW5cIikpIHtcclxuXHRcdFx0XHRcdHNlY3Rpb25JdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuXCIpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdH1cclxuXHRcclxuXHRnZXRNb2JpbGVNZW51KClcclxuXHRcclxuXHR2YXIgZ2V0T3BlblNlYXJjaCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBvdmVybGF5U2VhcmNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsYXlvdXQtc2VhcmNoXCIpXHJcblx0XHR2YXIgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2gtYnRuXCIpXHJcblx0XHJcblx0XHRidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0Ly8gb3ZlcmxheVNlYXJjaC5jbGFzc0xpc3QuYWRkKFwib3BlblwiKVxyXG5cdFxyXG5cdFx0XHQkLmZhbmN5Ym94Lm9wZW4oe1xyXG5cdFx0XHRcdHNyYyAgOiAnI3BvcHVwLXRobngnLFxyXG5cdFx0XHRcdHR5cGUgOiAnaW5saW5lJyxcclxuXHRcdFx0fSk7XHJcblx0XHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdCQuZmFuY3lib3guY2xvc2UoKVxyXG5cdFx0XHR9LCAyMDAwKTtcclxuXHRcdH0pXHJcblx0fVxyXG5cdFxyXG5cdGdldE9wZW5TZWFyY2goKVxyXG5cdFxyXG5cdHZhciBnZXRDbG9zZVNlYXJjaCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBvdmVybGF5U2VhcmNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsYXlvdXQtc2VhcmNoXCIpXHJcblx0XHR2YXIgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbG9zZS1sYXlvdXQtc2VhcmNoXCIpXHJcblx0XHJcblx0XHRidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0b3ZlcmxheVNlYXJjaC5jbGFzc0xpc3QucmVtb3ZlKFwib3BlblwiKVxyXG5cdFx0fSlcclxuXHR9XHJcblx0XHJcblx0Z2V0Q2xvc2VTZWFyY2goKVxyXG5cdFxyXG5cdHZhciBnZXRIZWlnaHRTdXJnZXJ5SXRlbSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdGNvbnN0IHN1cmdlcnlJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3VyZ2VyeS1saXN0X19pdGVtXCIpXHJcblx0XHJcblx0XHRmb3IgKGNvbnN0IGl0ZW0gb2Ygc3VyZ2VyeUl0ZW1zKSB7XHJcblx0XHRcdGNvbnN0IGl0ZW1Db250ZW50ID0gaXRlbS5xdWVyeVNlbGVjdG9yKFwiLnN1cmdlcnktbGlzdF9faXRlbS1jb250ZW50XCIpXHJcblx0XHRcdGNvbnN0IGJ0biA9IGl0ZW0ucXVlcnlTZWxlY3RvcihcIi5idG4tYXJyb3dcIilcclxuXHRcclxuXHRcdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0XHRmb3IgKGNvbnN0IGl0ZW0gb2Ygc3VyZ2VyeUl0ZW1zKSB7XHJcblx0XHRcdFx0XHRpdGVtLnF1ZXJ5U2VsZWN0b3IoXCIuc3VyZ2VyeS1saXN0X19pdGVtLWNvbnRlbnRcIikuc3R5bGUuaGVpZ2h0ID0gMCArIFwicHhcIlxyXG5cdFx0XHRcdFx0aXRlbS5xdWVyeVNlbGVjdG9yKFwiLmJ0bi1hcnJvd1wiKS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpXHJcblx0XHRcdFx0XHRpdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuXCIpXHJcblx0XHRcdFx0fVxyXG5cdFxyXG5cdFx0XHRcdGNvbnN0IGNoID0gaXRlbUNvbnRlbnQuY2xpZW50SGVpZ2h0LFxyXG5cdFx0XHRcdFx0c2ggPSBpdGVtQ29udGVudC5zY3JvbGxIZWlnaHQsXHJcblx0XHRcdFx0XHRpc0NvbGxhcHNlZCA9ICFjaCxcclxuXHRcdFx0XHRcdG5vSGVpZ2h0U2V0ID0gIWl0ZW1Db250ZW50LnN0eWxlLmhlaWdodFxyXG5cdFxyXG5cdFx0XHRcdGlmIChpc0NvbGxhcHNlZCB8fCBub0hlaWdodFNldCkge1xyXG5cdFx0XHRcdFx0aXRlbUNvbnRlbnQuc3R5bGUuaGVpZ2h0ID0gc2ggKyBcInB4XCJcclxuXHRcdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LmFkZChcIm9wZW5cIilcclxuXHRcdFx0XHRcdGJ0bi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGl0ZW1Db250ZW50LnN0eWxlLmhlaWdodCA9IDAgKyBcInB4XCJcclxuXHRcdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcIm9wZW5cIilcclxuXHRcdFx0XHRcdGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRnZXRIZWlnaHRTdXJnZXJ5SXRlbSgpXHJcblx0XHJcblx0dmFyIGdldEFuY2hvclRleHQgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgYXJ0aWNsZUJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hcnRpY2xlLWJsb2NrXCIpXHJcblx0XHRpZiAoYXJ0aWNsZUJsb2NrKSB7XHJcblx0XHRcdHZhciBhcnRpY2xlU2lkZWJhciA9IGFydGljbGVCbG9jay5xdWVyeVNlbGVjdG9yKFwiLmFydGljbGUtYmxvY2tfX2xlZnRcIilcclxuXHRcdFx0dmFyIGFydGljbGVTaWRlYmFyQm94ID0gYXJ0aWNsZVNpZGViYXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuXHRcdFx0dmFyIGFydGljbGVTaWRlYmFyVG9wID0gYXJ0aWNsZVNpZGViYXJCb3gudG9wXHJcblx0XHRcdHZhciBhcnRpY2xlVGV4dCA9IGFydGljbGVCbG9jay5xdWVyeVNlbGVjdG9yKFwiLmFydGljbGUtYmxvY2tfX21haW4tdGV4dFwiKVxyXG5cdFx0XHR2YXIgYXJ0aWNsZVRleHRQYXJhZ3JhcGggPSBhcnRpY2xlVGV4dC5xdWVyeVNlbGVjdG9yQWxsKFwicFwiKVxyXG5cdFx0XHR2YXIgbGlzdEFuY2hvclRleHQgPSBhcnRpY2xlQmxvY2sucXVlcnlTZWxlY3RvckFsbChcIi5hcnRpY2xlLWJsb2NrX19hbmNob3ItYmxvY2tcIilcclxuXHRcclxuXHRcdFx0Zm9yICh2YXIgcGFyYWdyYXBoIG9mIGFydGljbGVUZXh0UGFyYWdyYXBoKSB7XHJcblx0XHRcdFx0aWYgKHBhcmFncmFwaC5kYXRhc2V0LmFuY2hvcikge1xyXG5cdFx0XHRcdFx0dmFyIHBhcmFncmFwaEJveCA9IHBhcmFncmFwaC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxyXG5cdFx0XHRcdFx0dmFyIHBhcmFncmFwaFRvcCA9IHBhcmFncmFwaEJveC50b3BcclxuXHRcclxuXHRcdFx0XHRcdGZvciAodmFyIHRleHQgb2YgbGlzdEFuY2hvclRleHQpIHtcclxuXHRcdFx0XHRcdFx0aWYgKHBhcmFncmFwaC5kYXRhc2V0LmFuY2hvciA9PT0gdGV4dC5kYXRhc2V0LmFuY2hvcikge1xyXG5cdFx0XHRcdFx0XHRcdHRleHQuc3R5bGUudG9wID0gcGFyYWdyYXBoVG9wIC0gYXJ0aWNsZVNpZGViYXJUb3AgKyBcInB4XCJcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHQvLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBnZXRBbmNob3JUZXh0KVxyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBnZXRBbmNob3JUZXh0KVxyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGdldEFuY2hvclRleHQpXHJcblx0XHJcblx0dmFyIGdldE9wZW5RbkEgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRjb25zdCBxdUJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5xYS1ibG9ja1wiKVxyXG5cdFx0aWYgKHF1QmxvY2spIHtcclxuXHRcdFx0Y29uc3QgcXVJdGVtcyA9IHF1QmxvY2sucXVlcnlTZWxlY3RvckFsbChcIi5xYS1ibG9ja19faXRlbVwiKVxyXG5cdFxyXG5cdFx0XHRmb3IgKGNvbnN0IGl0ZW0gb2YgcXVJdGVtcykge1xyXG5cdFx0XHRcdGNvbnN0IHF1ZXN0aW9uID0gaXRlbS5xdWVyeVNlbGVjdG9yKFwiLnFhLWJsb2NrX19xdWVzdGlvblwiKVxyXG5cdFxyXG5cdFx0XHRcdHF1ZXN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRjb25zdCBhbnN3ZXIgPSB0aGlzLm5leHRFbGVtZW50U2libGluZ1xyXG5cdFxyXG5cdFx0XHRcdFx0Y29uc3QgY2ggPSBhbnN3ZXIuY2xpZW50SGVpZ2h0LFxyXG5cdFx0XHRcdFx0XHRzaCA9IGFuc3dlci5zY3JvbGxIZWlnaHQsXHJcblx0XHRcdFx0XHRcdGlzQ29sbGFwc2VkID0gIWNoLFxyXG5cdFx0XHRcdFx0XHRub0hlaWdodFNldCA9ICFhbnN3ZXIuc3R5bGUuaGVpZ2h0XHJcblx0XHJcblx0XHRcdFx0XHRpZiAoaXNDb2xsYXBzZWQgfHwgbm9IZWlnaHRTZXQpIHtcclxuXHRcdFx0XHRcdFx0aXRlbS5jbGFzc0xpc3QuYWRkKFwib3BlblwiKVxyXG5cdFx0XHRcdFx0XHRhbnN3ZXIuc3R5bGUuaGVpZ2h0ID0gc2ggKyBcInB4XCJcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcIm9wZW5cIilcclxuXHRcdFx0XHRcdFx0YW5zd2VyLnN0eWxlLmhlaWdodCA9IDAgKyBcInB4XCJcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGdldE9wZW5RbkEoKVxyXG5cdFxyXG5cdHZhciBnZXRGb2N1c1ZhbHVlID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFwcG9pbnRtZW50LWZvcm1cIilcclxuXHRcclxuXHRcdGlmIChmb3JtKSB7XHJcblx0XHRcdHZhciBmaWVsZGlMaXN0ID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLmFwcG9pbnRtZW50LWZvcm1fX2ZpZWxkXCIpXHJcblx0XHJcblx0XHRcdGZvciAodmFyIGZpZWxkIG9mIGZpZWxkaUxpc3QpIHtcclxuXHRcdFx0XHR2YXIgaW5wdXQgPSBmaWVsZC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIilcclxuXHRcclxuXHRcdFx0XHRpZiAoaW5wdXQpIHtcclxuXHRcclxuXHRcdFx0XHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYXBwb2ludG1lbnQtZm9ybV9fZmllbGRfZm9jdXNcIilcclxuXHRcdFx0XHRcdH0pXHJcblx0XHJcblx0XHRcdFx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdGlmICh0aGlzLnZhbHVlICE9PSBcIlwiKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhcHBvaW50bWVudC1mb3JtX19maWVsZF9mb2N1c1wiKVxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYXBwb2ludG1lbnQtZm9ybV9fZmllbGRfZm9jdXNcIilcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0Z2V0Rm9jdXNWYWx1ZSgpXHJcblx0XHJcblx0dmFyIHNjcm9sbFRvID0gZnVuY3Rpb24gKGVsZW1lbnQsIHRvLCBkdXJhdGlvbikge1xyXG5cdFx0aWYgKGR1cmF0aW9uIDwgMCkgcmV0dXJuXHJcblx0XHR2YXIgZGlmZmVyZW5jZSA9IHRvIC0gZWxlbWVudC5zY3JvbGxUb3BcclxuXHRcdHZhciBwZXJUaWNrID0gKGRpZmZlcmVuY2UgLyBkdXJhdGlvbikgKiAyXHJcblx0XHJcblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0ZWxlbWVudC5zY3JvbGxUb3AgPSBlbGVtZW50LnNjcm9sbFRvcCArIHBlclRpY2tcclxuXHRcdFx0c2Nyb2xsVG8oZWxlbWVudCwgdG8sIGR1cmF0aW9uIC0gMilcclxuXHRcdH0sIDEwKVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBzY3JvbGxUb1RvcChzY3JvbGxEdXJhdGlvbikge1xyXG5cdFx0dmFyIHNjcm9sbFN0ZXAgPSAtd2luZG93LnNjcm9sbFkgLyAoc2Nyb2xsRHVyYXRpb24gLyAxNSksXHJcblx0XHRcdHNjcm9sbEludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdGlmICh3aW5kb3cuc2Nyb2xsWSAhPSAwKSB7XHJcblx0XHRcdFx0XHR3aW5kb3cuc2Nyb2xsQnkoMCwgc2Nyb2xsU3RlcClcclxuXHRcdFx0XHR9IGVsc2UgY2xlYXJJbnRlcnZhbChzY3JvbGxJbnRlcnZhbClcclxuXHRcdFx0fSwgMTUpXHJcblx0fVxyXG5cdFxyXG5cdHZhciBzY3JvbGxUb1RvcCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjcm9sbC10by10b3BcIilcclxuXHRcclxuXHRcdGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR3aW5kb3cuc2Nyb2xsVG8oMCwgMClcclxuXHRcdH0pXHJcblx0fVxyXG5cdFxyXG5cdHNjcm9sbFRvVG9wKClcclxufSkiXSwiZmlsZSI6ImFwcC5qcyJ9
